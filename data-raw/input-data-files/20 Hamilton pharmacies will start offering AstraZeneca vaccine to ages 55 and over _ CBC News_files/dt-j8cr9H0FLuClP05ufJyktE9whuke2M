;(function() {'use strict';
var _dd = {"targ":{"v":{"geo/cy":"CA","geo/ct":"NA","geo/dm":"d"}}};  var _d =  'A|rc_toutv_unsubscribe|a|s|running|c|a:sd-ttl|fs|geo/dm|ua/os|ua/br|ua/mo|dt/wp|cust/toutv_feature|w|B|E|md|dc|drts|T|ab-retention|rc_toutv_unsubscribe_v2|a-CIyVS28wxP|isTest|a-bml4Xq2BIM|paused|C|D|a-D7ZPHsXB2X|F|G|Title|a-MBqddK9be6|a-tUNaR1P1HB|a-2QvqXzmZyY|a-0pwpBuRZrF|a-UkRjCbHCyy|a-CJnM30Kmf5|message|Variant+A|goalName|test-api-goal|Variant+B|a-jQ38Q3JwaW|goal|api-opened-feature|a-OyQ3kbOCsZ|a-m46BY6qVpm|a-xqW41sbrPn|a-xoq18nzIYi|a-JqK0mg4mvy|a-Jl72gFrCLs|a-t4PnTbGTSf|a-UpJT5QRkMt|a-UBi8kur243|api-streamed-video|ext|api-streamed-audio|api-selected-item|g-9U3ooc8QdG|g-RX7cmcxPgb|g-owFXRFnGwI|g-NEkZziQy1y|g-lq1Amiu4VI|g-inf-click-rec|g-click-default-c|g-7MuhNuFHEh|g-5YXnzFDrNw|g-nlr9eyTE52|g-EhmXtMA3e3|g-UWqUWVovXN|me|l|cust/lotame-segment|cust/theme|cust/has_regions|conf|dl:key-sl|conductrics_selection|wa:gpa-att|data-c-a|wa:ready|rt:spa-states|#init|CLOSED|COMMENTED|LISTENED|LOADED|LOADED-MORE|OPENED|READ|SEARCHED|SELECTED|SIGNED-IN|SIGNED-OUT|STREAMED|SUBSCRIBED|SUBMITTED|UNSUBSCRIBED|WATCHED|rt:spa-states-m|js:preboot-eps|wax|dl:key-tr|conductrics_traits|event-queue:sqs-url|https://sqs.us-east-1.amazonaws.com/661082963978/conductrics-30-cbc-queue|x-ga:gtm|x-ga:gat|x-ga:gao|admin-ui-server-d2:url|https://console-d2-cbc-v3.conductrics.com|admin-ui-server:url|https://console-cbc-v3.conductrics.com|qa:v-qa|js:debug-all|pass:sid|acc:code|ac-zNSqTXgWDt|acc:env|p|rt:tr-ids|cust/toutv_feature:hd_premium|#f1|cust/toutv_feature:hd-premium_sans-pub|#f2|cust/toutv_feature:aucun-feature|#f3|cust/toutv_feature:unspecified|#f4|cust/toutv_feature:hd_premium_sans-pub|#f5|cust/lotame-segment:lotame-segment-id|#f6|cust/theme:dark|#f7|cust/theme:light|#f8|cust/has_regions:has_regions|#f9|cust/has_regions:no_regions|#f10|pass:ua|pass:ip|pass:loc|pass:vid|pass:qa|pass:qax|targ:traits-agent-max|targ:lookup-url|//api-cbc-v3.conductrics.com/ac-zNSqTXgWDt/v3/agent-api/resolver|targ:ext-tms|acc:c-dom|CA|dl:key-vs|conductrics_vstate|dl:key-ex|conductrics_commands|dl:past-events|targ:vid|qa:st-key|c-conductrics-qa|rt:a_codes|rt:g_codes|diag|module|root|items|entry|wax-pre|wa-pre|selectors|#shoulder-title|style|visibility:hidden|agent|vstates|conds|${v.loc}|sw|https://gem.cbc.ca/season/dragons-den/season|api|api-steps|group|pre|features-profile|types|diags|decision|select|choices|policy|r|switch|cases|*|in|${v.traits}|decision-reduce|api-loaded-article|reward|countMax|valueDef|rw|wa-entry|wa-start|wa-decision|wa-await|one|wa-pre-un|exists|ok|${v.sels::a-UBi8kur243::c}|is|wa-insert-text|selector|so|i|n|t|Discover+more+about+the+people+and+pitches|content|Discover+more+about+the+pitches+and+people|method|replace|condsName|DragonsDenSeason|wa-goal|${v.loc.path}|mp|/season/dragons-den/season-*|event|click|eventSelector|dl_eventName|dl_crit|evuc|wa-reward|mdn_only|flow|f-vBLHMPIjsJ|acc|k|api-tmcIKLoOJOCyesvewQIB|rt|https:////api-cbc-v3.conductrics.com/ac-zNSqTXgWDt/v3/agent-api/js/f-vBLHMPIjsJ/dt-j8cr9H0FLuClP05ufJyktE9whuke2M?apikey=api-tmcIKLoOJOCyesvewQIB|ts|ds|b|tt|ttt|mvt|v|3.7.1|210115.3|m|d|dt-j8cr9H0FLuClP05ufJyktE9whuke2M^PYPL7A|PWHQ4M|PTB6JF|QD2151|PZUIXW|0|2|4|8|G|W|1S|Q56ROR|Q8QQHT|A|2I|Q8DCBH|A|5|2D|Q8DCBY|QGEGSS|QCG6UG|QDO9BN|QFL3YI|QHDUMA|QIGQE9|QNYLU7|QNWUOO|QNJSCE|QPGDKP|QPV36R|QQDVQX|QHU8ED|1JK00|6Y|1JK|1O|1|F|1O|1|F|2R|1|F|255R|1|1|1|1|0|1|1|1|QQYBP3|QQYBP2^^$0|$1|$2|$3|4|5|$6|-5]]|7|@8|9|A|B|C|D]|E|$0|-5|F|-5|G|-5]|H|$0|$]|F|$]|G|$]]|I|0|J|77|K|-5]|L|$2|$3|4|5|$6|-5]]|7|@8|9|A|B|C|D]|E|$0|-5|F|-5|G|-5]|H|$0|$]|F|$]|G|$]]|I|0|J|78|K|-5]|M|$2|$3|4|5|$6|-5]]|7|@8|9|A|B|C|D]|E|$F|-5|G|-5]|H|$F|$]|G|$]]|I|F|J|79|K|-5]|N|$2|$3|4|5|$6|-5]]|7|@8|9|A|B|C]|E|$0|-5|F|-5]|H|$0|$O|-1]|F|$O|-1]]|I|0|J|7A|K|-5]|P|$2|$3|Q|5|$6|-5]]|7|@8|9|A|B|C]|E|$0|-5|F|-5|R|-5|S|-5]|H|$0|$]|F|$]|R|$]|S|$]]|I|0|J|7B|K|-5]|T|$2|$3|4|5|$6|-5]]|7|@8|9|A|B|C]|E|$0|7C|F|7D|R|7E|S|7F|G|7G|U|7H|V|7I]|H|$0|$W|0]|F|$W|F]|R|$W|R]|S|$W|S]|G|$W|G]|U|$W|U]|V|$W|V]]|I|F|J|7J|K|-5]|X|$2|$3|4|5|$6|-5]]|7|@8|9|A|B|C]|E|$0|-5|F|-5]|H|$0|$]|F|$]]|I|0|J|7K|K|-5]|Y|$2|$3|4|5|$6|-5]]|7|@8|9|A|B|C]|E|$0|7L|F|7M]|H|$0|$]|F|$]]|I|0|J|7N|K|-5]|Z|$2|$3|4|5|$6|-5]]|7|@8|9|A|B|C]|E|$0|7O|F|7P|R|7Q]|H|$0|$]|F|$]|R|$]]|I|0|J|7R|K|-5]|10|$2|$3|4|5|$6|-5]]|7|@8|9|A|B|C]|E|$0|-5|F|-5]|H|$0|$]|F|$]]|I|0|J|7S|K|-5]|11|$2|$3|4|5|$6|-5]]|7|@8|9|A|B|C]|E|$0|-5|F|-5]|H|$0|$]|F|$]]|I|0|J|7T|K|-5]|12|$2|$3|4|5|$6|-5]]|7|@8|9|A|B|C]|E|$0|-5|F|-5]|H|$0|$13|14|15|16]|F|$13|17|15|16]]|I|0|J|7U|K|-5]|18|$2|$3|4|5|$6|-5]]|7|@8|9|A|B|C]|E|$0|-5|F|-5]|H|$0|$19|1A]|F|$19|1A]]|I|0|J|7V|K|-5]|1B|$2|$3|4|5|$6|-5]]|7|@8|9|A|B|C]|E|$0|-5|F|-5]|H|$0|$]|F|$]]|I|0|J|7W|K|-5]|1C|$2|$3|4|5|$6|-5]]|7|@8|9|A|B|C]|E|$0|-5|F|-5]|H|$0|$]|F|$]]|I|0|J|7X|K|-5]|1D|$2|$3|Q|5|$6|-5]]|7|@8|9|A|B|C]|E|$0|-5|F|-5]|H|$0|$]|F|$]]|I|F|J|7Y|K|-5]|1E|$2|$3|4|5|$6|-5]]|7|@8|9|A|B|C]|E|$0|-5|F|-5|R|-5|S|-5]|H|$0|$]|F|$]|R|$]|S|$]]|I|0|J|7Z|K|-5]|1F|$2|$3|4|5|$6|-5]]|7|@8|9|A|B|C]|E|$0|-5|F|-5]|H|$0|$]|F|$]]|I|0|J|80|K|-5]|1G|$2|$3|Q|5|$6|-5]]|7|@8|9|A|B|C]|E|$0|-5|F|-5]|H|$0|$]|F|$]]|I|F|J|81|K|-5]|1H|$2|$3|Q|5|$6|-5]]|7|@8|9|A|B|C]|E|$0|-5|F|-5|R|-5]|H|$0|$]|F|$]|R|$]]|I|F|J|82|K|-5]|1I|$2|$3|4|5|$6|-5]]|7|@8|9|A|B|C]|E|$0|-5|F|-5]|H|$0|$]|F|$]]|I|0|J|83|K|-5]|1J|$2|$3|4|5|$6|-5]]|7|@8|9|A|B|C]|E|$0|-5|F|-5]|H|$0|$]|F|$]]|I|0|J|84|K|-5]]|V|$1K|$2|@T]|1L|-5]|1M|$2|@N|X|10|1C]|1L|-5]|1N|$2|@11]|1L|-5]|1O|$2|@1|M]|1L|-5]|1A|$2|@18]|1L|-5]|1P|$2|@L]|1L|-5]|1Q|$2|@Y|Z]|1L|-5]|1R|$2|@Z]|1L|-5]|16|$2|@12]|1L|-5]|1S|$2|@1J]|1L|-5]|1T|$2|@1B]|1L|-5]|1U|$2|@1B|1F]|1L|-5]|1V|$2|@1E]|1L|-5]|1W|$2|@1E]|1L|-5]|1X|$2|@1E]|1L|-5]|1Y|$2|@1E]|1L|-5]|1Z|$2|@1I]|1L|-5]]|K|$D|$20|21]|22|$20|21]|23|$20|21]|24|$20|21]]|25|$26|27|28|29|2A|-2|2B|@2C|2D|2E|2F|2G|2H|2I|2J|2K|2L|2M|2N|2O|2P|2Q|2R|2S]|2T|@2E|2G|2H|2K|2O|2P|2Q|2R]|2U|@2V]|2W|2X|2Y|2Z|30|-2|31|-5|32|-5|33|34|35|36|37|-2|38|-2|39|-5|3A|3B|3C|3D|3E|$3F|3G|3H|3I|3J|3K|3L|3M|3N|3O|3P|3Q|3R|3S|3T|3U|3V|3W|3X|3Y]|3Z|-5|40|-5|41|-5|42|-5|43|-5|44|-5|6|85|45|86|46|47|48|87|49|@4A]|4B|4C|4D|4E|4F|-5|4G|-5|4H|4I|4J|@1|L|M|N|T|X|Y|Z|10|11|12|18|1B|1J|1C|1E|1F|1I]|4K|@1K|1M|1N|1O|1A|1P|1Q|1R|16|1S|1T|1U|1V|1W|1X|1Y|1Z]]|4L|$4M|4N|4O|@$4M|4P|4P|4Q|4O|@$4M|4R|4S|@4T]|4U|4V|4W|1J|4X|@2C]|4Y|@@4Z|50|51]]]]]|$4M|4P|4P|52|4O|@$4M|53|4O|@$4M|54|54|55|4O|@$4M|56|57|@]|4O|@]]]]]|58|$N|$4M|59|4W|N|4Y|@]|4O|@$4M|5A|4W|N|5B|@0|F]|5C|5D|4O|@]]]]|P|$4M|59|4W|P|4Y|@]|4O|@$4M|5A|4W|P|5B|@0]|5C|3D|4O|@]]]]|X|$4M|59|4W|X|4Y|@]|4O|@$4M|5A|4W|X|5B|@0|F]|5C|5D|4O|@]]]]|10|$4M|59|4W|10|4Y|@]|4O|@$4M|5E|4Y|@]|5F|@$4Y|@@5G|5H|5I]]|4O|@$4M|5J|4W|10|5B|@0]]]]]]|$4M|5A|4W|10|5B|@0|F]|5C|5D|4O|@]]]]|11|$4M|59|4W|11|4Y|@]|4O|@$4M|5A|4W|11|5B|@0|F]|5C|5D|4O|@]]]]|12|$4M|59|4W|12|4Y|@]|4O|@$4M|5A|4W|12|5B|@0|F]|5C|5D|4O|@]]]]|1C|$4M|59|4W|1C|4Y|@]|4O|@$4M|5A|4W|1C|5B|@0|F]|5C|5D|4O|@]]]]|1D|$4M|59|4W|1D|4Y|@]|4O|@$4M|5A|4W|1D|5B|@F]|5C|3D|4O|@]]]]|1G|$4M|59|4W|1G|4Y|@]|4O|@$4M|5A|4W|1G|5B|@F]|5C|3D|4O|@]]]]|1H|$4M|59|4W|1H|4Y|@]|4O|@$4M|5A|4W|1H|5B|@F]|5C|3D|4O|@]]]]|5K|$4M|5L|19|5K|5M|88|5N|89|5O|8A]|1M|$4M|5L|19|1M|5M|8B|5N|8C|5O|8D]|1N|$4M|5L|19|1N|5M|8E|5N|8F|5O|8G]|16|$4M|5L|19|16|5M|8H|5N|8I|5O|8J]|1S|$4M|5L|19|1S|5M|8K|5N|8L]]]]]|$4M|4P|4P|2V|4O|@$4M|5P|4O|@$4M|54|54|55|4O|@$4M|56|57|@]|4O|@]]]]|$4M|5Q|4O|@$4M|5R|4W|1J|4O|@$4M|59|4W|1J|4O|@$4M|5A|4W|1J|5B|@0|F]|5C|5D|3|3D|4O|@]]|$4M|5S|4S|@]|5T|-2|4O|@$4M|5U|4W|1J|5V|-1]|$4M|59|4W|1J|3|5W|4Y|@]|4O|@$4M|5A|4W|1J|5B|@0|F]|5C|5D|3|5W|4O|@]]]]]|4Y|@@5X|5Y|0]]]|$4M|5S|4S|@4T]|5T|-2|4O|@$4M|5Z|60|4T|61|$62|8M|63|8N|64|65]|66|67|68|69]|$4M|5U|4W|1J|5V|-1]|$4M|59|4W|1J|3|5W|4Y|@]|4O|@$4M|5A|4W|1J|5B|@0|F]|5C|5D|3|5W|4O|@]]]]]|4Y|@@5X|5Y|F]]]]|3|3D|4Y|@]]|$4M|5U|4W|1J|5V|-2]]|4Y|@@4Z|50|51]]|6A|6B|4X|@2C]]]]|$4M|6C|19|1S|4Y|@@6D|6E|6F]]|6G|6H|6I|4T|6J|-4|6K|@]|6L|-1|4O|@$4M|6M|19|1S|4O|@$4M|5L|19|1S|5M|8O|5N|8P]]]]]]|4Y|@]|6N|-1]]]]|6O|6P]|6Q|$5|3B|6R|6S]|6T|$3|6U|3D|-2|6V|8Q|6W|6X|6Y|@8|9|A|B|C]|6Z|@8|9|A|B|C]]|70|-3|71|$71|72|6X|73|74|8R|75|76]]';  var _wa_preboot = function(visitor_callback) {visitor_callback({authenticated:CBC.APP.SC.DTM.DATA.authenticated===!0?"yes":"no"},{selection_callback:function(e,t){CBC.APP.AB.Experiments=CBC.APP.AB.Experiments||{},CBC.APP.AB.Experiments.ids=CBC.APP.AB.Experiments.ids||[],CBC.APP.AB.Experiments.variants=CBC.APP.AB.Experiments.variants||[],-1===CBC.APP.AB.Experiments.ids.indexOf(t)&&CBC.APP.AB.Experiments.ids.push(t),-1===CBC.APP.AB.Experiments.variants.indexOf(e[t].c)&&CBC.APP.AB.Experiments.variants.push(t+"|"+e[t].c),CBC.APP.AB.setUserPropertyExperiments&&"function"==typeof CBC.APP.AB.setUserPropertyExperiments&&CBC.APP.AB.setUserPropertyExperiments()}});}; var _wa_js = {  }; // var console = (window && window.console) || {log: function(s) {}};
if (!Array.isArray) {Array.isArray = function(arg) {return Object.prototype.toString.call(arg) === '[object Array]'}};
if (!String.prototype.trim) {String.prototype.trim = function () {return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g, '')}};
if (!Array.prototype.filter) {Array.prototype.filter = function(fn) { res = []; for (var i = 0; i < this.length; i++) { v = this[i]; if ( fn(v) ) { res.push(v); }} return res; }}
if (!Array.prototype.map) {Array.prototype.map = function(fn) { res = []; for (var i = 0; i < this.length; i++) { v = this[i]; res.push(fn(v)); } return res; }}
if (!Object.keys) {Object.keys = function(o) { var ar = []; for (var k in o) {ar.push(k)}; return ar; }}
if (!Object.assign) {Object.assign = function(r){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var f in a)r[f]=a[f]}return r};}  var require = undefined; var define = undefined; require=(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({"./modules/api-steps":[function(require,module,exports){
(function(){var t,e=function(t,e){function s(){this.constructor=t}for(var n in e)o.call(e,n)&&(t[n]=e[n]);return s.prototype=e.prototype,t.prototype=new s,t.__super__=e.prototype,t},o={}.hasOwnProperty;t=require("../diagrams").M,exports.m=function(t){function o(conf){this.conf=conf}return e(o,t),o.prototype.process=function(t,e){var o,s,n,r,i,l,u,p,c,m,a;if((a=null!=(i=null!=(l=t.steps)?l:e.r.steps)?i:[]).length>0){for(null==t.items&&(t.items=[]),null==t._items&&(t._items=t.items.concat()),s={module:"group",items:[]},n=0,r=a.length;r>n;n++)m=a[n],s.items.push({module:"step-set",step:m}),null!=(o=t.diags[null!=(u=null!=(p=m.a)?p:m.g)?u:m.t])&&s.items.push(o);0,"pre"!==(null!=(c=t._items[0])?c.group:void 0)&&e.log("No prelude!"),t.items=t._items.concat(),t.items.splice(1,0,s)}},o}(t)}).call(this);
},{"../diagrams":15}],"./modules/condition":[function(require,module,exports){
(function(){var r,t=function(r,t){function n(){this.constructor=r}for(var e in t)o.call(t,e)&&(r[e]=t[e]);return n.prototype=t.prototype,r.prototype=new n,r.__super__=t.prototype,r},o={}.hasOwnProperty;r=require("../diagrams").M,exports.m=function(r){function o(){return o.__super__.constructor.apply(this,arguments)}return t(o,r),o}(r)}).call(this);
},{"../diagrams":15}],"./modules/decision-reduce":[function(require,module,exports){
(function(){var t,r=function(t,r){function n(){this.constructor=t}for(var e in r)o.call(r,e)&&(t[e]=r[e]);return n.prototype=r.prototype,t.prototype=new n,t.__super__=r.prototype,t},o={}.hasOwnProperty;t=require("../diagrams").M,exports.m=function(t){function o(){return o.__super__.constructor.apply(this,arguments)}return r(o,t),o.prototype.process=function(t,r){return r.selRed(t.agent,t.choices)},o}(t)}).call(this);
},{"../diagrams":15}],"./modules/decision":[function(require,module,exports){
arguments[4]["./modules/condition"][0].apply(exports,arguments)
},{"../diagrams":15,"dup":"./modules/condition"}],"./modules/entry":[function(require,module,exports){
(function(){var t,r=function(t,r){function n(){this.constructor=t}for(var e in r)o.call(r,e)&&(t[e]=r[e]);return n.prototype=r.prototype,t.prototype=new n,t.__super__=r.prototype,t},o={}.hasOwnProperty;t=require("../diagrams").M,exports.m=function(t){function o(){return o.__super__.constructor.apply(this,arguments)}return r(o,t),o.prototype.active=function(t,r){return r.data["d.ep"]===t.entry},o}(t)}).call(this);
},{"../diagrams":15}],"./modules/features-profile":[function(require,module,exports){
arguments[4]["./modules/condition"][0].apply(exports,arguments)
},{"../diagrams":15,"dup":"./modules/condition"}],"./modules/group":[function(require,module,exports){
arguments[4]["./modules/condition"][0].apply(exports,arguments)
},{"../diagrams":15,"dup":"./modules/condition"}],"./modules/reward":[function(require,module,exports){
(function(){var e,r,t,o=function(e,r){function t(){this.constructor=e}for(var o in r)a.call(r,o)&&(e[o]=r[o]);return t.prototype=r.prototype,e.prototype=new t,e.__super__=r.prototype,e},a={}.hasOwnProperty;e=require("../diagrams").M,t=require("../../../utils"),r=require("../../../rewards"),exports.m=function(e){function a(conf){this.conf=conf,this.rewarder=new r.Rewarder(this.conf),a.__super__.constructor.call(this,this.conf)}return o(a,e),a.prototype.process=function(e,r){var o,a,n,s,u,l,i,c,p,f;if(null==r.sess)throw"No session";for(r.reread(),f={goal:e.goal,value:function(){var t;switch(!1){case!((null!=(t=r.step)?t.g:void 0)===e.goal&&"number"==typeof r.step.v):return r.step.v;default:return parseFloat(e.value)}}(),agents:null!=(u=e.to)?u:null!=(l=r.step)?l.to:void 0},s={countMax:e.countMax,valueMin:e.valueMin,valueMax:e.valueMax,valueDef:e.valueDef,rw:e.rw},0===(c=this.rewarder.handleStep(r,f,s)).items.length&&r.log("No agents to reward for "+e.goal),p={g:e.goal,rs:[]},o=0,n=(i=c.items).length;n>o;o++)null!=(a=i[o])&&(r.log("Reward of "+f.value+" ("+a.v+" accepted) to agent "+a.a+" for goal "+a.g),a=t.Obj.extend({},a,{t:"r",rts:t.Dates.stamp(),c:function(){switch(!1){case!Array.isArray(a.c):return a.c.join(",");default:return a.c}}(),s:void 0}),r.done(a),p.rs.push({a:a.a.split(":")[1],v:a.v}));return r.resp(p)},a}(e)}).call(this);
},{"../../../rewards":9,"../../../utils":19,"../diagrams":15}],"./modules/root":[function(require,module,exports){
arguments[4]["./modules/condition"][0].apply(exports,arguments)
},{"../diagrams":15,"dup":"./modules/condition"}],"./modules/select":[function(require,module,exports){
(function(){var n,e,t=function(n,e){function t(){this.constructor=n}for(var s in e)o.call(e,s)&&(n[s]=e[s]);return t.prototype=e.prototype,n.prototype=new t,n.__super__=e.prototype,n},o={}.hasOwnProperty;n=require("../diagrams").M,require("../../../utils"),e=require("../../../selection"),exports.m=function(n){function o(conf){this.conf=conf,this.chooser=new e.Chooser(this.conf),o.__super__.constructor.call(this,this.conf)}return t(o,n),o.prototype.process=function(n,e){var t,o,s,r,l,c,a,i,p,u,d,f,g,h,y,_,m,w,v,x,k,A,b,q,C,j,D,M,N;if(null==e.sess)throw"No session for dec";if(b=e.data,q=null!=(d=e.step)?d:{},t=null!=(f="undefined"!=typeof _d&&null!==_d?_d.A[n.agent]:void 0)?f:{a:{c:{}},md:{}},M="p"===(C=null!=(g=n.s)?g:q.s),N="ok"===C,!0!==q.discard||q.a!==n.agent){if(j={a:n.agent,c:function(){switch(!1){case!(q.a===n.agent&&null!=q.c):return q.c;default:return n.choices}}(),x:null!=(h=q.x)?h:[],p:n.policy,exr:n.exr,gdy:n.gdy,n:function(){var e,t;switch(typeof n.num){case"number":return null!=(e=null!=(t=q.n)?t:n.num)?e:1;default:return}}(),w:t.w},null!=(C=t.a.s)){if("running"!==C&&(j.p="p"),(k=this.chooser.handleStep(e,j)).s=M&&"ok"!==k.ps?"p":"ok",a=!M,c=N&&"p"===k.ps,x=null!=(y=k.pp)?y:k.p,"p"===n.rap&&(x=k.p=n.rap),e.selAdd(k),c?e.log("Confirming selection '"+k.c+"' for agent '"+n.agent+"'"):(e.log("selection '"+k.c+"' for agent '"+n.agent+"' (policy "+k.p+", traits ["+k.fs+"])"),"p"===k.s&&e.log("selection for '"+n.agent+"' is pending")),(!M&&"p"!==(_=k.p)&&"b"!==_&&"s"!==_&&"x"!==_||c)&&e.done({t:"d",a:j.a,c:Array.isArray(k.c)?k.c.join(","):k.c,p:x,fs:k.fs,dts:k.ts}),"api"===b["d.ep"]&&(n.silent||q.silent||e.resp({a:j.a,c:k.c,p:k.p,md:null!=(m=t.md[k.c])?m:{},s:k.s})),a&&null!=e.handlers){for(i in A={},w=b["v.sels"])D=w[i],A[i]={c:D.c,p:D.p};for(l=0,u=(v=e.handlers).length;u>l;l++){r=v[l];try{r(A,j.a)}catch(n){s=n,e.log("Could not call post-selection handler: "+s)}}}return a&&(o=e.r._dl).enabled()?(p=this.conf["dl:key-sl"],o.push(p,{item:{a:j.a,c:k.c,p:x},ep:b["d.ep"]})):void 0}e.log("Unknown agent '"+n.agent+"' or status '"+C+"'")}else e.selDel(n.agent)},o}(n)}).call(this);
},{"../../../selection":10,"../../../utils":19,"../diagrams":15}],"./modules/step-set":[function(require,module,exports){
(function(){var t,r=function(t,r){function n(){this.constructor=t}for(var e in r)o.call(r,e)&&(t[e]=r[e]);return n.prototype=r.prototype,t.prototype=new n,t.__super__=r.prototype,t},o={}.hasOwnProperty;t=require("../diagrams").M,exports.m=function(t){function o(){return o.__super__.constructor.apply(this,arguments)}return r(o,t),o.prototype.process=function(t,r){r.stepSet(t.step)},o}(t)}).call(this);
},{"../diagrams":15}],"./modules/switch":[function(require,module,exports){
(function(){var t,o,r,n={}.hasOwnProperty;o=(r=require("../diagrams")).M,t=r.Conds,exports.m=function(o){function r(){return r.__super__.constructor.apply(this,arguments)}return function(t,o){function r(){this.constructor=t}for(var e in o)n.call(o,e)&&(t[e]=o[e]);r.prototype=o.prototype,t.prototype=new r,t.__super__=o.prototype}(r,o),r.prototype.process=function(o,r){var n,e,s,i;for(o.items=[],e=0,s=(i=o.cases).length;s>e;e++)if(n=i[e],t.evalConds(n.conds,r))return void(o.items=n.items)},r}(o)}).call(this);
},{"../diagrams":15}],"./modules/wa-await":[function(require,module,exports){
(function(){var r,e,t=function(r,e){function t(){this.constructor=r}for(var n in e)o.call(e,n)&&(r[n]=e[n]);return t.prototype=e.prototype,r.prototype=new t,r.__super__=e.prototype,r},o={}.hasOwnProperty;r=require("../diagrams").M,e=require("sentinel-js"),exports.m=function(r){function o(){return o.__super__.constructor.apply(this,arguments)}return t(o,r),o.prototype.process=function(r,t,o){var n,u,s,c,i,l,p;if(!(r.selectors.length>0))return!1;for(n=0,l=function(){return r.resumed?void 0:(t.log("Selector found ("+p+")"),o.resume(r,t),r.resumed=!0)},u=0,s=(i=r.selectors).length;s>u;u++){if(p=i[u],c=document.querySelectorAll(p).length>0,t.log("Selector matches? "+c+" ("+p+")"),c&&!0===r.one)return!1;c||(e.on(p,l),n++)}return n>0},o}(r)}).call(this);
},{"../diagrams":15,"sentinel-js":7}],"./modules/wa-decision":[function(require,module,exports){
(function(){var t,r=function(t,r){function e(){this.constructor=t}for(var o in r)n.call(r,o)&&(t[o]=r[o]);return e.prototype=r.prototype,t.prototype=new e,t.__super__=r.prototype,t},n={}.hasOwnProperty,e=[].indexOf||function(t){for(var r=0,n=this.length;n>r;r++)if(r in this&&this[r]===t)return r;return-1};t=require("../diagrams").M,exports.m=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return r(n,t),n.prototype.active=function(t,r){var n,o;return o=r.vstate(),n=e.call(t.vstates,o)>=0,r.log("Agent '"+t.agent+"' used at '"+r.vstate()+"'? "+n),n},n}(t)}).call(this);
},{"../diagrams":15}],"./modules/wa-entry":[function(require,module,exports){
(function(){var r,t=function(r,t){function n(){this.constructor=r}for(var e in t)o.call(t,e)&&(r[e]=t[e]);return n.prototype=t.prototype,r.prototype=new n,r.__super__=t.prototype,r},o={}.hasOwnProperty;r=require("../diagrams").M,exports.m=function(r){function o(){return o.__super__.constructor.apply(this,arguments)}return t(o,r),o.prototype.active=function(r,t){var o;return!r.mdn_only||"m"===(o=t.mdn())||(t.log("Stopping because 'modern' browser features not available ("+o+")"),!1)},o}(r)}).call(this);
},{"../diagrams":15}],"./modules/wa-goal":[function(require,module,exports){
(function(){var e,t,n,r,o=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty,l=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};t=require("../diagrams").M,e=require("../../client/ga").GA,r=require("../../../utils").nested,n=require("../../../dom-utils").doc_ready,exports.m=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}var a,u,c,s,g,v,d;return o(i,t),i.prototype.active=function(e){return!e._done},i.prototype.process=function(t,o,i){var c,v,f;switch(v=function(e){if(e)try{t.items[0].items[0].to=e}catch(e){return void e}return i.resume(t,o)},!1){case"load"!==t.event:o.log("Page load triggered goal "+t.goal),n(v);break;case"ga-ev"!==t.event:s(document,"ga.conductrics",function(n,r){return"event"===(null!=(r=null!=r?r:n.detail)?r.get("hitType"):void 0)&&e.eventApplies(t,r)?(o.log("GA Event triggered goal "+t.goal+" (category "+r.get("eventCategory")+")"),v()):void 0});break;case"dl-ev"!==t.event:(c=o.r._dl).enabled()&&c.sub(function(e){return d(t,e,c)?(o.log("Dl Event '"+t.dl_eventName+"' triggered goal "+t.goal),v()):void 0});break;case"js-ev"!==t.event:o.log("Goal "+t.goal+" shall watch for JS event '"+t.js_ev+"'"),g(300,100,function(){return r(t.js_obj,window)},function(e){try{return e[t.js_fn](t.js_ev,function(){return o.log("JS Event '"+t.js_ev+"' triggered goal "+t.goal),v()})}catch(e){}});break;case"vs"!==t.event:window.addEventListener("ConductricsStateChanged",function(e){var n;return n=e.detail,l.call(t.vs,n)>=0?(o.log("View-state '"+e.detail+"' triggered goal "+t.goal),v()):void 0});break;case!(null!=t.eventSelector&&null!=t.event):f=this,o.log("Goal "+t.goal+" will watch for DOM event '"+t.event+"' on '"+t.eventSelector+"'"),a(document,t.event,t.eventSelector,t.sel_i,t.sel_n,t.evuc,function(e){var n,r,i,l;return o.log("DOM event '"+t.event+"' from '"+t.eventSelector+"' triggered goal "+t.goal),t.gpa?(r=f.conf["wa:gpa-att"],(n=u(e.target,"["+r+"]"))?(l=null!=(i=n.getAttribute(r))?i.split(" "):void 0,v(l)):void 0):v()});break;default:o.log("Unknown trigger for "+t.goal)}return t._done=!0,!0},d=function(e,t,n){return t.event===e.dl_eventName&&v(e.dl_crit,t,n)},v=function(e,t,n){var r,o,i,a,u,c;if(null==e&&(e=[]),0===e.length)return!0;for(a=0,u=e.length;u>a;a++)if(r="."===(i=e[a]).k[0],o="/"===i.s[0]&&"/"===i.s[i.s.length-1],c=r?t[i.k.substr(1)]:n.get(i.k),o){if(!RegExp(i.s.slice(1,-1)).test(c))return!1}else if(l.call(i.s.split(","),c)<0)return!1;return!0},s=function(e,t,n){return e.addEventListener(t,n)},a=function(e,t,n,r,o,i,l){return null==i&&(i=!1),e.addEventListener(t,function(t){return c(e,n,t.target,r,o)?(i||t.stopPropagation(),l(t)):void 0},i)},c=function(e,t,n,r,o){var i,l,a,u,c;null==r&&(r=0),null==o&&(o=9999);try{for(c=e.querySelectorAll(t),l=a=0,u=c.length;u>a;l=++a)if(i=c[l],l>=r&&r+o>l&&i.contains(n))return!0}catch(e){}return!1},u=function(e,t){try{if(e.matches(t))return e;if(e.parentNode)return u(e.parentNode,t)}catch(e){return}},g=function(e,t,n,r){var o,i;i=0,(o=function(){var l;return i++,(l=n())?r(l):i>=t?void 0:setTimeout(o,e)})()},i}(t)}).call(this);
},{"../../../dom-utils":4,"../../../utils":19,"../../client/ga":12,"../diagrams":15}],"./modules/wa-insert-text":[function(require,module,exports){
(function(){var t,r=function(t,r){function o(){this.constructor=t}for(var e in r)n.call(r,e)&&(t[e]=r[e]);return o.prototype=r.prototype,t.prototype=new o,t.__super__=r.prototype,t},n={}.hasOwnProperty;t=require("../diagrams").M,exports.m=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return r(n,t),n.prototype.render=function(t,r){return t.content},n.prototype.process=function(t,r){var n,o,e,i;for(n=this.render(t,r),r.log("inserting text '"+n.slice(0,11)+"...' into '"+t.selector+"'"),o=0,e=(i=this.sel(t)).length;e>o;o++)i[o].textContent=n},n}(t)}).call(this);
},{"../diagrams":15}],"./modules/wa-pre-un":[function(require,module,exports){
(function(){var t,r=function(t,r){function o(){this.constructor=t}for(var n in r)e.call(r,n)&&(t[n]=r[n]);return o.prototype=r.prototype,t.prototype=new o,t.__super__=r.prototype,t},e={}.hasOwnProperty;t=require("../diagrams").M,exports.m=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return r(e,t),e.prototype.active=function(t,r){return null!=r.data["v.sels"][t.agent]===t.exists},e.prototype.process=function(t,r){var e,o,n,p;for(r.log("un-pre-hiding for "+t.agent),p="style.__c-pre-"+t.agent,e=0,o=(n=document.querySelectorAll(p)).length;o>e;e++)n[e].disabled=!0},e}(t)}).call(this);
},{"../diagrams":15}],"./modules/wa-pre":[function(require,module,exports){
(function(){var t,e=function(t,e){function r(){this.constructor=t}for(var o in e)n.call(e,o)&&(t[o]=e[o]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},n={}.hasOwnProperty,r=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1};t=require("../diagrams").M,exports.m=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}var o;return e(n,t),n.prototype.active=function(t,e){var n;return null==t.vstates||(n=e.vstate(),r.call(t.vstates,n)>=0)},n.prototype.process=function(t,e){var n;t.selectors.length>0&&(n=t.selectors.join(", "),e.log("Pre-hiding: "+n+" for '"+t.agent+"'"),o(n+" {"+t.style+" !important;}","__c-pre-"+t.agent))},o=function(t,e){var n;if("undefined"!=typeof document&&null!==document)return(n=document.createElement("style")).type="text/css",n.className=e,null!=n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t)),document.getElementsByTagName("head")[0].appendChild(n)},n}(t)}).call(this);
},{"../diagrams":15}],"./modules/wa-reward":[function(require,module,exports){
(function(){var e,t=function(e,t){function o(){this.constructor=e}for(var n in t)r.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},r={}.hasOwnProperty;e=require("../diagrams").M,exports.m=function(e){function r(){return r.__super__.constructor.apply(this,arguments)}return t(r,e),r.prototype.process=function(e,t){var r,o,n,l,u,a;for(a=this.val(e,t),r=0,o=(l=e.items).length;o>r;r++)"reward"===(n=l[r]).module&&(u=n);null!=u?u.value=a:e.items=[]},r.prototype.val=function(e,t){var r,o,n;return(null!=(o=function(){var o,n;switch(e.valueSelectorType){case"dl":if((r=t.r._dl).enabled())return r.get(e.valueSelector)+"";break;case"dom":return null!=(o=document.querySelector(e.valueSelector))?o.textContent:void 0;case"meta":return null!=(n=document.querySelector("meta[name='"+e.valueSelector+"']"))?n.content:void 0;default:return""}}())?o.length:void 0)>0?(n=parseFloat(parseFloat(o.replace(/[^0-9. ]/g," ")).toFixed(2)),isFinite(n)||(n=null),n):null},r}(e)}).call(this);
},{"../diagrams":15}],"./modules/wa-start":[function(require,module,exports){
arguments[4]["./modules/condition"][0].apply(exports,arguments)
},{"../diagrams":15,"dup":"./modules/condition"}],"./plugins/dt":[function(require,module,exports){
(function(){var t,r,o=function(t,r){function o(){this.constructor=t}for(var e in r)n.call(r,e)&&(t[e]=r[e]);return o.prototype=r.prototype,t.prototype=new o,t.__super__=r.prototype,t},n={}.hasOwnProperty;t=require("../targeting"),r=require("../dt-resolve")._resolve,exports.p=function(t){function n(conf){this.conf=conf}return o(n,t),n.ns="dt",n.modes=["s","b"],n.sync=!0,n.prototype.ttl=function(t){return 60},n.prototype.resolve=function(t,o,n){return n(!1,r(o,t.data["v.ts"],t.data["v.tzo"]))},n}(t.Plugin)}).call(this);
},{"../dt-resolve":16,"../targeting":18}],"./plugins/geo":[function(require,module,exports){
(function(){var t,n=function(t,n){function r(){this.constructor=t}for(var e in n)o.call(n,e)&&(t[e]=n[e]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t},o={}.hasOwnProperty;t=require("../targeting"),exports.p=function(t){function o(conf){this.conf=conf}return n(o,t),o.ns="geo",o.modes=["b","s"],o.sync=!0,o.prototype.resolve=function(t,n,o){return o(!1,null)},o}(t.Plugin)}).call(this);
},{"../targeting":18}],"./plugins/ua":[function(require,module,exports){
(function(){var e,r,t=function(e,r){function t(){this.constructor=e}for(var n in r)a.call(r,n)&&(e[n]=r[n]);return t.prototype=r.prototype,e.prototype=new t,e.__super__=r.prototype,e},a={}.hasOwnProperty;r=require("ua-parser-js"),e=require("../targeting"),exports.p=function(e){function a(conf){this.conf=conf}return t(a,e),a.ns="ua",a.modes=["s","b"],a.sync=!0,a.prototype.resolve=function(e,t,a){var n,s,c,o,u;return null==(u=null!=(c=e.data["v.ua"])?c:null!=(o=e.r)?o.ua:void 0)?a(!1):(n=new r(u),s=n.getResult(),a(!1,function(){switch(t){case"os":switch(s.os.name){case"Android":return"a";case"Blackberry":return"b";case"iOS":return"i";case"Mac OS":return"m";case"Windows":case"Windows Phone":case"Windows Mobile":return"w";default:return"o"}break;case"br":switch(s.browser.name){case"Chrome":return"c";case"Firefox":return"f";case"Safari":case"Mobile Safari":return"s";case"IE":case"IEMobile":case"Edge":return"i";default:return"o"}break;case"dv":switch(s.device.type){case"mobile":return"m";case"tablet":return"t";case void 0:case null:case"":return"d";default:return"o"}break;case"mo":switch(s.device.type){case"mobile":case"tablet":return"m";default:return"n"}break;case"vi":return e.mdn()}}()))},a}(e.Plugin)}).call(this);
},{"../targeting":18,"ua-parser-js":8}],1:[function(require,module,exports){
(function(){exports.Bots=function(){function t(conf){this.conf=conf}var n;return t.prototype.detect=function(t){var r,o,e,i;if(!((null!=t?t.length:void 0)>0))return null;for(t=t.toLowerCase(),r=0,o=(e=n()).length;o>r;r++)if(i=e[r],t.indexOf(i)>=0)return i;return null},n=function(){return["bot","spider","crawler","search","track","ping","monitor","google","twitter","yahoo","bing","akamai","y!j"]},t}()}).call(this);
},{}],2:[function(require,module,exports){
(function(){var n;n=exports,require("./data"),n.merged=function(n){return null==n&&(n=[]),_d.conf}}).call(this);
},{"./data":3}],3:[function(require,module,exports){
(function(){var c;if("string"==typeof _d)try{c=require("jsonpack"),_d=c.unpack(_d)}catch(c){}}).call(this);
},{"jsonpack":"jsonpack"}],4:[function(require,module,exports){
(function(){exports.doc_ready=function(t){return(document.attachEvent?"complete"===document.readyState:"loading"!==document.readyState)?t():document.addEventListener("DOMContentLoaded",t)}}).call(this);
},{}],5:[function(require,module,exports){

},{}],6:[function(require,module,exports){
var cachedSetTimeout,cachedClearTimeout,process=module.exports={};function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}function runTimeout(e){if(cachedSetTimeout===setTimeout)return setTimeout(e,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(e,0);try{return cachedSetTimeout(e,0)}catch(t){try{return cachedSetTimeout.call(null,e,0)}catch(t){return cachedSetTimeout.call(this,e,0)}}}function runClearTimeout(e){if(cachedClearTimeout===clearTimeout)return clearTimeout(e);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(e);try{return cachedClearTimeout(e)}catch(t){try{return cachedClearTimeout.call(null,e)}catch(t){return cachedClearTimeout.call(this,e)}}}!function(){try{cachedSetTimeout="function"==typeof setTimeout?setTimeout:defaultSetTimout}catch(e){cachedSetTimeout=defaultSetTimout}try{cachedClearTimeout="function"==typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(e){cachedClearTimeout=defaultClearTimeout}}();var currentQueue,queue=[],draining=!1,queueIndex=-1;function cleanUpNextTick(){draining&&currentQueue&&(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var e=runTimeout(cleanUpNextTick);draining=!0;for(var t=queue.length;t;){for(currentQueue=queue,queue=[];++queueIndex<t;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,t=queue.length}currentQueue=null,draining=!1,runClearTimeout(e)}}function Item(e,t){this.fun=e,this.array=t}function noop(){}process.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];queue.push(new Item(e,t)),1!==queue.length||draining||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},process.title="browser",process.browser=!0,process.env={},process.argv=[],process.version="",process.versions={},process.on=noop,process.addListener=noop,process.once=noop,process.off=noop,process.removeListener=noop,process.removeAllListeners=noop,process.emit=noop,process.prependListener=noop,process.prependOnceListener=noop,process.listeners=function(e){return[]},process.binding=function(e){throw new Error("process.binding is not supported")},process.cwd=function(){return"/"},process.chdir=function(e){throw new Error("process.chdir is not supported")},process.umask=function(){return 0};
},{}],7:[function(require,module,exports){
!function(e,n){"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?module.exports=n():e.sentinel=n()}(this,function(){var e,n,t,i=Array.isArray,o={},r={};return{on:function(a,f){if(f){if(!e){var s=document,l=s.head;s.addEventListener("animationstart",function(e,n,t,i){if(n=r[e.animationName])for(e.stopImmediatePropagation(),t=n.length,i=0;i<t;i++)n[i](e.target)},!0),e=s.createElement("style"),l.insertBefore(e,l.firstChild),n=e.sheet,t=n.cssRules}(i(a)?a:[a]).map(function(e,i,a){(i=o[e])||(a="!"==e[0],o[e]=i=a?e.slice(1):"sentinel-"+Math.random().toString(16).slice(2),t[n.insertRule("@keyframes "+i+"{from{transform:none;}to{transform:none;}}",t.length)]._id=e,a||(t[n.insertRule(e+"{animation-duration:0.0001s;animation-name:"+i+";}",t.length)]._id=e),o[e]=i),(r[i]=r[i]||[]).push(f)})}},off:function(e,a){(i(e)?e:[e]).map(function(e,i,f,s){if(i=o[e]){if(f=r[i],a)for(s=f.length;s--;)f[s]===a&&f.splice(s,1);else f=[];if(!f.length){for(s=t.length;s--;)t[s]._id==e&&n.deleteRule(s);delete o[e],delete r[i]}}})},reset:function(){o={},r={},e&&e.parentNode.removeChild(e),e=0}}});
},{}],8:[function(require,module,exports){
!function(i,s){"use strict";var e="model",o="name",r="type",a="vendor",n="version",d="mobile",t="tablet",l="smarttv",w={extend:function(i,s){var e={};for(var o in i)s[o]&&s[o].length%2==0?e[o]=s[o].concat(i[o]):e[o]=i[o];return e},has:function(i,s){return"string"==typeof i&&-1!==s.toLowerCase().indexOf(i.toLowerCase())},lowerize:function(i){return i.toLowerCase()},major:function(i){return"string"==typeof i?i.replace(/[^\d\.]/g,"").split(".")[0]:void 0},trim:function(i){return i.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}},u={rgx:function(i,s){for(var e,o,r,a,n,d,t=0;t<s.length&&!n;){var l=s[t],w=s[t+1];for(e=o=0;e<l.length&&!n;)if(n=l[e++].exec(i))for(r=0;r<w.length;r++)d=n[++o],"object"==typeof(a=w[r])&&a.length>0?2==a.length?"function"==typeof a[1]?this[a[0]]=a[1].call(this,d):this[a[0]]=a[1]:3==a.length?"function"!=typeof a[1]||a[1].exec&&a[1].test?this[a[0]]=d?d.replace(a[1],a[2]):void 0:this[a[0]]=d?a[1].call(this,d,a[2]):void 0:4==a.length&&(this[a[0]]=d?a[3].call(this,d.replace(a[1],a[2])):void 0):this[a]=d||void 0;t+=2}},str:function(i,s){for(var e in s)if("object"==typeof s[e]&&s[e].length>0){for(var o=0;o<s[e].length;o++)if(w.has(s[e][o],i))return"?"===e?void 0:e}else if(w.has(s[e],i))return"?"===e?void 0:e;return i}},c={browser:{oldsafari:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}}},device:{amazon:{model:{"Fire Phone":["SD","KF"]}},sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2000:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}}}},b={browser:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]{3,6}).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],[o,n],[/(opios)[\/\s]+([\w\.]+)/i],[[o,"Opera Mini"],n],[/\s(opr)\/([\w\.]+)/i],[[o,"Opera"],n],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]*)/i,/(avant\s|iemobile|slim)(?:browser)?[\/\s]?([\w\.]*)/i,/(bidubrowser|baidubrowser)[\/\s]?([\w\.]+)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]*)/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon)\/([\w\.-]+)/i],[o,n],[/(konqueror)\/([\w\.]+)/i],[[o,"Konqueror"],n],[/(trident).+rv[:\s]([\w\.]{1,9}).+like\sgecko/i],[[o,"IE"],n],[/(edge|edgios|edga|edg)\/((\d+)?[\w\.]+)/i],[[o,"Edge"],n],[/(yabrowser)\/([\w\.]+)/i],[[o,"Yandex"],n],[/(Avast)\/([\w\.]+)/i],[[o,"Avast Secure Browser"],n],[/(AVG)\/([\w\.]+)/i],[[o,"AVG Secure Browser"],n],[/(puffin)\/([\w\.]+)/i],[[o,"Puffin"],n],[/(focus)\/([\w\.]+)/i],[[o,"Firefox Focus"],n],[/(opt)\/([\w\.]+)/i],[[o,"Opera Touch"],n],[/((?:[\s\/])uc?\s?browser|(?:juc.+)ucweb)[\/\s]?([\w\.]+)/i],[[o,"UCBrowser"],n],[/(comodo_dragon)\/([\w\.]+)/i],[[o,/_/g," "],n],[/(windowswechat qbcore)\/([\w\.]+)/i],[[o,"WeChat(Win) Desktop"],n],[/(micromessenger)\/([\w\.]+)/i],[[o,"WeChat"],n],[/(brave)\/([\w\.]+)/i],[[o,"Brave"],n],[/(whale)\/([\w\.]+)/i],[[o,"Whale"],n],[/(qqbrowserlite)\/([\w\.]+)/i],[o,n],[/(QQ)\/([\d\.]+)/i],[o,n],[/m?(qqbrowser)[\/\s]?([\w\.]+)/i],[o,n],[/(baiduboxapp)[\/\s]?([\w\.]+)/i],[o,n],[/(2345Explorer)[\/\s]?([\w\.]+)/i],[o,n],[/(MetaSr)[\/\s]?([\w\.]+)/i],[o],[/(LBBROWSER)/i],[o],[/xiaomi\/miuibrowser\/([\w\.]+)/i],[n,[o,"MIUI Browser"]],[/;fbav\/([\w\.]+);/i],[n,[o,"Facebook"]],[/FBAN\/FBIOS|FB_IAB\/FB4A/i],[[o,"Facebook"]],[/safari\s(line)\/([\w\.]+)/i,/android.+(line)\/([\w\.]+)\/iab/i],[o,n],[/headlesschrome(?:\/([\w\.]+)|\s)/i],[n,[o,"Chrome Headless"]],[/\swv\).+(chrome)\/([\w\.]+)/i],[[o,/(.+)/,"$1 WebView"],n],[/((?:oculus|samsung)browser)\/([\w\.]+)/i],[[o,/(.+(?:g|us))(.+)/,"$1 $2"],n],[/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)*/i],[n,[o,"Android Browser"]],[/(sailfishbrowser)\/([\w\.]+)/i],[[o,"Sailfish Browser"],n],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i],[o,n],[/(dolfin)\/([\w\.]+)/i],[[o,"Dolphin"],n],[/(qihu|qhbrowser|qihoobrowser|360browser)/i],[[o,"360 Browser"]],[/((?:android.+)crmo|crios)\/([\w\.]+)/i],[[o,"Chrome"],n],[/(coast)\/([\w\.]+)/i],[[o,"Opera Coast"],n],[/fxios\/([\w\.-]+)/i],[n,[o,"Firefox"]],[/version\/([\w\.]+)\s.*mobile\/\w+\s(safari)/i],[n,[o,"Mobile Safari"]],[/version\/([\w\.]+)\s.*(mobile\s?safari|safari)/i],[n,o],[/webkit.+?(gsa)\/([\w\.]+)\s.*(mobile\s?safari|safari)(\/[\w\.]+)/i],[[o,"GSA"],n],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[o,[n,u.str,c.browser.oldsafari.version]],[/(webkit|khtml)\/([\w\.]+)/i],[o,n],[/(navigator|netscape)\/([\w\.-]+)/i],[[o,"Netscape"],n],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([\w\.-]+)$/i,/(firefox)\/([\w\.]+)\s[\w\s\-]+\/[\w\.]+$/i,/(mozilla)\/([\w\.]+)\s.+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]*)/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[o,n]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[["architecture","amd64"]],[/(ia32(?=;))/i],[["architecture",w.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[["architecture","ia32"]],[/windows\s(ce|mobile);\sppc;/i],[["architecture","arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[["architecture",/ower/,"",w.lowerize]],[/(sun4\w)[;\)]/i],[["architecture","sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+[;l]))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[["architecture",w.lowerize]]],device:[[/\((ipad|playbook);[\w\s\),;-]+(rim|apple)/i],[e,a,[r,t]],[/applecoremedia\/[\w\.]+ \((ipad)/],[e,[a,"Apple"],[r,t]],[/(apple\s{0,1}tv)/i],[[e,"Apple TV"],[a,"Apple"],[r,l]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(hp).+(tablet)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],[a,e,[r,t]],[/(kf[A-z]+)(\sbuild\/|\)).+silk\//i],[e,[a,"Amazon"],[r,t]],[/(sd|kf)[0349hijorstuw]+(\sbuild\/|\)).+silk\//i],[[e,u.str,c.device.amazon.model],[a,"Amazon"],[r,d]],[/android.+aft([bms])\sbuild/i],[e,[a,"Amazon"],[r,l]],[/\((ip[honed|\s\w*]+);.+(apple)/i],[e,a,[r,d]],[/\((ip[honed|\s\w*]+);/i],[e,[a,"Apple"],[r,d]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[\s_-]?([\w-]*)/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],[a,e,[r,d]],[/\(bb10;\s(\w+)/i],[e,[a,"BlackBerry"],[r,d]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7|padfone|p00c)/i],[e,[a,"Asus"],[r,t]],[/(sony)\s(tablet\s[ps])\sbuild\//i,/(sony)?(?:sgp.+)\sbuild\//i],[[a,"Sony"],[e,"Xperia Tablet"],[r,t]],[/android.+\s([c-g]\d{4}|so[-l]\w+)(?=\sbuild\/|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[e,[a,"Sony"],[r,d]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],[a,e,[r,"console"]],[/android.+;\s(shield)\sbuild/i],[e,[a,"Nvidia"],[r,"console"]],[/(playstation\s[34portablevi]+)/i],[e,[a,"Sony"],[r,"console"]],[/(sprint\s(\w+))/i],[[a,u.str,c.device.sprint.vendor],[e,u.str,c.device.sprint.model],[r,d]],[/(htc)[;_\s-]{1,2}([\w\s]+(?=\)|\sbuild)|\w+)/i,/(zte)-(\w*)/i,/(alcatel|geeksphone|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]*)/i],[a,[e,/_/g," "],[r,d]],[/(nexus\s9)/i],[e,[a,"HTC"],[r,t]],[/d\/huawei([\w\s-]+)[;\)]/i,/android.+\s(nexus\s6p|vog-[at]?l\d\d|ane-[at]?l[x\d]\d|eml-a?l\d\da?|lya-[at]?l\d[\dc]|clt-a?l\d\di?)/i],[e,[a,"Huawei"],[r,d]],[/android.+(bah2?-a?[lw]\d{2})/i],[e,[a,"Huawei"],[r,t]],[/(microsoft);\s(lumia[\s\w]+)/i],[a,e,[r,d]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],[e,[a,"Microsoft"],[r,"console"]],[/(kin\.[onetw]{3})/i],[[e,/\./g," "],[a,"Microsoft"],[r,d]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?:?(\s4g)?)[\w\s]+build\//i,/mot[\s-]?(\w*)/i,/(XT\d{3,4}) build\//i,/(nexus\s6)/i],[e,[a,"Motorola"],[r,d]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[e,[a,"Motorola"],[r,t]],[/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],[[a,w.trim],[e,w.trim],[r,l]],[/hbbtv.+maple;(\d+)/i],[[e,/^/,"SmartTV"],[a,"Samsung"],[r,l]],[/\(dtv[\);].+(aquos)/i],[e,[a,"Sharp"],[r,l]],[/android.+((sch-i[89]0\d|shw-m380s|SM-P605|SM-P610|gt-p\d{4}|gt-n\d+|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[[a,"Samsung"],e,[r,t]],[/smart-tv.+(samsung)/i],[a,[r,l],e],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-\w[\w\d]+))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)/i,/sec-((sgh\w+))/i],[[a,"Samsung"],e,[r,d]],[/sie-(\w*)/i],[e,[a,"Siemens"],[r,d]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]*)/i],[[a,"Nokia"],e,[r,d]],[/android[x\d\.\s;]+\s([ab][1-7]\-?[0178a]\d\d?)/i],[e,[a,"Acer"],[r,t]],[/android.+([vl]k\-?\d{3})\s+build/i],[e,[a,"LG"],[r,t]],[/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],[[a,"LG"],e,[r,t]],[/linux;\snetcast.+smarttv/i,/lg\snetcast\.tv-201\d/i],[[a,"LG"],e,[r,l]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w*)/i,/android.+lg(\-?[\d\w]+)\s+build/i],[e,[a,"LG"],[r,d]],[/(lenovo)\s?(s(?:5000|6000)(?:[\w-]+)|tab(?:[\s\w]+))/i],[a,e,[r,t]],[/android.+(ideatab[a-z0-9\-\s]+)/i],[e,[a,"Lenovo"],[r,t]],[/(lenovo)[_\s-]?([\w-]+)/i],[a,e,[r,d]],[/linux;.+((jolla));/i],[a,e,[r,d]],[/((pebble))app\/[\d\.]+\s/i],[a,e,[r,"wearable"]],[/android.+;\s(oppo)\s?([\w\s]+)\sbuild/i],[a,e,[r,d]],[/crkey/i],[[e,"Chromecast"],[a,"Google"],[r,l]],[/android.+;\s(glass)\s\d/i],[e,[a,"Google"],[r,"wearable"]],[/android.+;\s(pixel c)[\s)]/i],[e,[a,"Google"],[r,t]],[/android.+;\s(pixel( [2-9]a?)?( xl)?)[\s)]/i],[e,[a,"Google"],[r,d]],[/android.+;\s(\w+)\s+build\/hm\1/i,/android.+(hm[\s\-_]?note?[\s_]?(?:\d\w)?)\sbuild/i,/android.+(redmi[\s\-_]?(?:note|k)?(?:[\s_]?[\w\s]+))(?:\sbuild|\))/i,/android.+(mi[\s\-_]?(?:a\d|one|one[\s_]plus|note lte)?[\s_]?(?:\d?\w?)[\s_]?(?:plus)?)\sbuild/i],[[e,/_/g," "],[a,"Xiaomi"],[r,d]],[/android.+(mi[\s\-_]?(?:pad)(?:[\s_]?[\w\s]+))(?:\sbuild|\))/i],[[e,/_/g," "],[a,"Xiaomi"],[r,t]],[/android.+;\s(m[1-5]\snote)\sbuild/i],[e,[a,"Meizu"],[r,d]],[/(mz)-([\w-]{2,})/i],[[a,"Meizu"],e,[r,d]],[/android.+a000(1)\s+build/i,/android.+oneplus\s(a\d{4})[\s)]/i],[e,[a,"OnePlus"],[r,d]],[/android.+[;\/]\s*(RCT[\d\w]+)\s+build/i],[e,[a,"RCA"],[r,t]],[/android.+[;\/\s](Venue[\d\s]{2,7})\s+build/i],[e,[a,"Dell"],[r,t]],[/android.+[;\/]\s*(Q[T|M][\d\w]+)\s+build/i],[e,[a,"Verizon"],[r,t]],[/android.+[;\/]\s+(Barnes[&\s]+Noble\s+|BN[RT])(V?.*)\s+build/i],[[a,"Barnes & Noble"],e,[r,t]],[/android.+[;\/]\s+(TM\d{3}.*\b)\s+build/i],[e,[a,"NuVision"],[r,t]],[/android.+;\s(k88)\sbuild/i],[e,[a,"ZTE"],[r,t]],[/android.+[;\/]\s*(gen\d{3})\s+build.*49h/i],[e,[a,"Swiss"],[r,d]],[/android.+[;\/]\s*(zur\d{3})\s+build/i],[e,[a,"Swiss"],[r,t]],[/android.+[;\/]\s*((Zeki)?TB.*\b)\s+build/i],[e,[a,"Zeki"],[r,t]],[/(android).+[;\/]\s+([YR]\d{2})\s+build/i,/android.+[;\/]\s+(Dragon[\-\s]+Touch\s+|DT)(\w{5})\sbuild/i],[[a,"Dragon Touch"],e,[r,t]],[/android.+[;\/]\s*(NS-?\w{0,9})\sbuild/i],[e,[a,"Insignia"],[r,t]],[/android.+[;\/]\s*((NX|Next)-?\w{0,9})\s+build/i],[e,[a,"NextBook"],[r,t]],[/android.+[;\/]\s*(Xtreme\_)?(V(1[045]|2[015]|30|40|60|7[05]|90))\s+build/i],[[a,"Voice"],e,[r,d]],[/android.+[;\/]\s*(LVTEL\-)?(V1[12])\s+build/i],[[a,"LvTel"],e,[r,d]],[/android.+;\s(PH-1)\s/i],[e,[a,"Essential"],[r,d]],[/android.+[;\/]\s*(V(100MD|700NA|7011|917G).*\b)\s+build/i],[e,[a,"Envizen"],[r,t]],[/android.+[;\/]\s*(Le[\s\-]+Pan)[\s\-]+(\w{1,9})\s+build/i],[a,e,[r,t]],[/android.+[;\/]\s*(Trio[\s\w\-\.]+)\s+build/i],[e,[a,"MachSpeed"],[r,t]],[/android.+[;\/]\s*(Trinity)[\-\s]*(T\d{3})\s+build/i],[a,e,[r,t]],[/android.+[;\/]\s*TU_(1491)\s+build/i],[e,[a,"Rotor"],[r,t]],[/android.+(Gigaset)[\s\-]+(Q\w{1,9})\s+build/i],[a,e,[r,t]],[/android .+?; ([^;]+?)(?: build|\) applewebkit).+? mobile safari/i],[e,[r,d]],[/android .+?;\s([^;]+?)(?: build|\) applewebkit).+?(?! mobile) safari/i],[e,[r,t]],[/\s(tablet|tab)[;\/]/i,/\s(mobile)(?:[;\/]|\ssafari)/i],[[r,w.lowerize],a,e],[/[\s\/\(](smart-?tv)[;\)]/i],[[r,l]],[/(android[\w\.\s\-]{0,9});.+build/i],[e,[a,"Generic"]]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[n,[o,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[n,[o,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[o,n],[/rv\:([\w\.]{1,9}).+(gecko)/i],[n,o]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[o,n],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s\w]*)/i,/(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[o,[n,u.str,c.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[o,"Windows"],[n,u.str,c.os.windows.version]],[/\((bb)(10);/i],[[o,"BlackBerry"],n],[/(blackberry)\w*\/?([\w\.]*)/i,/(tizen|kaios)[\/\s]([\w\.]+)/i,/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|sailfish|contiki)[\/\s-]?([\w\.]*)/i],[o,n],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]*)/i],[[o,"Symbian"],n],[/\((series40);/i],[o],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[o,"Firefox OS"],n],[/crkey\/([\d\.]+)/i],[n,[o,"Chromecast"]],[/(nintendo|playstation)\s([wids34portablevu]+)/i,/(mint)[\/\s\(]?(\w*)/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|suse|opensuse|gentoo|(?=\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?(?!chrom)([\w\.-]*)/i,/(hurd|linux)\s?([\w\.]*)/i,/(gnu)\s?([\w\.]*)/i],[o,n],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[o,"Chromium OS"],n],[/(sunos)\s?([\w\.\d]*)/i],[[o,"Solaris"],n],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]*)/i],[o,n],[/(haiku)\s(\w+)/i],[o,n],[/cfnetwork\/.+darwin/i,/ip[honead]{2,4}(?:.*os\s([\w]+)\slike\smac|;\sopera)/i],[[n,/_/g,"."],[o,"iOS"]],[/(mac\sos\sx)\s?([\w\s\.]*)/i,/(macintosh|mac(?=_powerpc)\s)/i],[[o,"Mac OS"],[n,/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]*)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.])*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms|fuchsia)/i,/(unix)\s?([\w\.]*)/i],[o,n]]},m=function(s,e){if("object"==typeof s&&(e=s,s=void 0),!(this instanceof m))return new m(s,e).getResult();var o=s||(i&&i.navigator&&i.navigator.userAgent?i.navigator.userAgent:""),r=e?w.extend(b,e):b;return this.getBrowser=function(){var i={name:void 0,version:void 0};return u.rgx.call(i,o,r.browser),i.major=w.major(i.version),i},this.getCPU=function(){var i={architecture:void 0};return u.rgx.call(i,o,r.cpu),i},this.getDevice=function(){var i={vendor:void 0,model:void 0,type:void 0};return u.rgx.call(i,o,r.device),i},this.getEngine=function(){var i={name:void 0,version:void 0};return u.rgx.call(i,o,r.engine),i},this.getOS=function(){var i={name:void 0,version:void 0};return u.rgx.call(i,o,r.os),i},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return o},this.setUA=function(i){return o=i,this},this};m.VERSION="0.7.23",m.BROWSER={NAME:o,MAJOR:"major",VERSION:n},m.CPU={ARCHITECTURE:"architecture"},m.DEVICE={MODEL:e,VENDOR:a,TYPE:r,CONSOLE:"console",MOBILE:d,SMARTTV:l,TABLET:t,WEARABLE:"wearable",EMBEDDED:"embedded"},m.ENGINE={NAME:o,VERSION:n},m.OS={NAME:o,VERSION:n},"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=m),exports.UAParser=m):"function"==typeof define&&define.amd?define(function(){return m}):i&&(i.UAParser=m);var p=i&&(i.jQuery||i.Zepto);if(p&&!p.ua){var h=new m;p.ua=h.getResult(),p.ua.get=function(){return h.getUA()},p.ua.set=function(i){h.setUA(i);var s=h.getResult();for(var e in s)p.ua[e]=s[e]}}}("object"==typeof window?window:this);
},{}],9:[function(require,module,exports){
(function(){var l,n,t,r=[].indexOf||function(l){for(var n=0,t=this.length;t>n;n++)if(n in this&&this[n]===l)return n;return-1};n=exports,t=require("./utils"),l=999999,n.Rewarder=function(){function n(conf){this.conf=conf}return n.prototype.handleStep=function(n,e,s){var u,a,o,i,v,g,f,p,c,d,h,w,y,x,M,m,A;for(-l<(h=e.value)&&l>h||(e.value=null!=(w=s.valueDef)?w:1),a=null!=(y=null!=(x=_d.G[e.goal])?x.a:void 0)?y:[],Array.isArray(e.agents)&&(a=e.agents.filter(function(l){return r.call(a,l)>=0})),g=this.selsFor(n,e,a),n.log("Goal '"+e.goal+"' mapped to agents: "+a+" ("+g.length+" have a selection)"),i=f=0,p=g.length;p>f;i=++f)(v=g[i]).g=e.goal,v.v=this.val(n,e,s,v),u=null!=(M=_d.A[v.a])?M.a.s:void 0,null!=v.v&&null!=v.fs&&"running"===u&&"p"!==(m=v.p)&&"b"!==m&&"x"!==m&&"p"!==v.s?(null==(o=n.sess.rwds)[c=v.a]&&(o[c]={}),A=this.getPrior(n,v.a,v.g),v.pr=A[0],v.ri=A[1],s.rw&&v.pr&&(d=t.Dates.stamp()-v.pr.gts)<s.rw?(n.log("Not rewarding "+v.a+" for "+v.g+" ("+d+" of "+s.rw+" secs)"),g[i]=null):n.rwdAdd(v.a,v.g,v.v)):(n.log("Not rewarding "+v.a+" for "+v.g+" (policy "+v.p+" - status "+u+" "+v.s+")"),g[i]=null);return{items:g}},n.prototype.selsFor=function(l,n,t){var r,e,s,u,a;for(s=[],u=0,a=t.length;a>u;u++)r=t[u],null!=(e=l.selGet(r))&&s.push({a:r,c:e.c,p:e.p,s:e.s,fs:e.fs.concat(),dts:e.ts});return s},n.prototype.getPrior=function(l,n,t){var r,e,s,u,a,o;for(r in a=0,e={v:0,gv:0,gts:0,ts:0},o=null!=(u=l.sess.rwds[n])?u:{})null!=(s=o[r])&&"number"==typeof s.v&&(e.v+=s.v,r===t&&(e.gv+=s.v,e.gts=s.ts,a=s.n),s.ts>e.ts&&(e.ts=s.ts));return 0===e.ts&&(e=void 0),[e,a]},n.prototype.val=function(l,n,t,r){var e,s,u,a,o,i,v;switch(e=null!=(s=null!=(u=l.sess.rwds[r.a])?u[r.g]:void 0)?s:{},v=null!=(a=null!=(o=n.value)?o:t.valueDef)?a:1,!1){case!(e.n>=(null!=(i=t.countMax)?i:1)):return null;case!(null==t.valueMin&&null==t.valueMax):return 1;case!(null!=t.valueMin&&v<t.valueMin||null!=t.valueMax&&v>t.valueMax):return null;default:return v}},n}()}).call(this);
},{"./utils":19}],10:[function(require,module,exports){
(function(){var r,n=[].indexOf||function(r){for(var n=0,t=this.length;t>n;n++)if(n in this&&this[n]===r)return n;return-1};r=require("./utils"),exports.Chooser=function(){function t(conf){this.conf=conf}var e;return t.prototype.handleStep=function(t,e){var l,c,a,u,i,s,o,p,f,h,d,v,g,y;return o=this.priorChoice(t,e),v=t.tFor(e.a),d=t.polGet(e.a),c=function(){var r;switch(!1){case"p"!==d:return[];default:return null!=(r=t.data["a.sel-reduce:"+e.a])?r:[]}}(),g=Array.isArray(e.x)?e.x:[],(c.length>0||g.length>0)&&(e.c=e.c.filter(function(r){return(0===c.length||n.call(c,r)>=0)&&n.call(g,r)<0}),null!=o&&(p=o.c,n.call(e.c,p)<0)&&(o=null)),s=function(){var r,n;switch(!1){case"x"!==d&&"p"!==d:return d;case!t.dnt():return"p";case null==o:return"s";case!d:return d;case"ar"!==e.p:return"r";case 1!==c.length:return"f";case null==e.n:return"a";case"c"!==(r=e.p)&&"p"!==r&&"b"!==r&&"f"!==r&&"x"!==r:case"a"!==(n=e.p)&&"r"!==n:return e.p;default:return"r"}}(),l=null!=(f=_d.A[e.a])?f:{},"s"===s?u=o.c:"p"===s?u=l.dc:"x"===s?u="":(y=(a=function(){var r,t,c,a,u,s;for(s=[],r=0,t=(u=null!=(c=null!=(a=l.T)?a.rank:void 0)?c:e.c).length;t>r;r++)i=u[r],n.call(e.c,i)>=0&&s.push(i);return s}()).map(function(r){var n,t;switch(s){case"r":return null!=(n=null!=(t=e.w)?t[r]:void 0)?n:1/a.length;case"c":case"f":return r===a[0]?1:0;default:throw Error("Unknown policy '"+s+"'")}}),u=r.Rand.pick(a,y)),{a:e.a,c:u,p:s,fs:v.concat(),ts:null!=(h=null!=o?o.ts:void 0)?h:r.Dates.stamp(),ps:null!=o?o.s:void 0,pp:null!=o?o.p:void 0}},t.prototype.priorChoice=function(r,t){var l,c;return l=null!=(c=r.selGet(t.a))?c:{},void 0===t.n&&Array.isArray(l.c)&&(l.c=l.c[0]),function(){var r;switch(!1){case!(null!=t.n&&Array.isArray(l.c)):return t.n===l.c.length&&e(l.c,t.c);default:return r=l.c,n.call(t.c,r)>=0}}()&&"p"!==l.p?l:null},e=function(r,t){var e,l,c;for(e=0,l=r.length;l>e;e++)if(c=r[e],n.call(t,c)<0)return!1;return!0},t}()}).call(this);
},{"./utils":19}],11:[function(require,module,exports){
(function(){var t,e,n,r,o,s,i,u,l,a,d,c,p,f,h,v=function(t,e){return function(){return t.apply(e,arguments)}},g=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1};r=require("../diagrams/diagrams"),e=require("../../configuration"),s=require("../targeting/targeting"),n=require("data-layers").DL,o=require("loader").Loader,f=require("../../dom-utils").doc_ready,h=null!=h?h:require("harness"),u=null,i=null,p=[],d=null,l=null,c=!0===h.single,t=function(){function t(t){null==t&&(t={}),this._post=v(this._post,this),this.do_vs=v(this.do_vs,this),this.do=v(this.do,this),this._do=v(this._do,this),this.o=t,this.conf=e.merged(),this.dl=null!=i?i:i=new n(this.conf,this,this.o.dataLayer)}var a,_,y,b,w;return t.loader=new o(_d,h),t.prototype.exec=function(t,e){return this.push({t:"e",steps:t,cb:e})},t.prototype.run=function(){return this.push({t:"r"})},t.prototype.push=function(t){return p.push(t),this._do()},t.prototype._do=function(){var t;if(!l&&p.length)switch(l=t=p.shift(),t.t){case"e":this.do_exec(t.steps,t.cb);break;case"r":this.do_run();break;case"v":this.do_vs(t.vs)}},t.prototype.do=function(){return l=null,this._do()},t.prototype.select=function(t){return this.exec([{a:t}]).sels[t]},t.prototype.reward=function(t,e){this.exec([{g:t,v:e}])},t.prototype.listAgents=function(){return Object.keys(_d.A)},t.prototype.hasAgent=function(t){return g.call(this.listAgents(),t)>=0},t.prototype.version=function(){return _d.v.v+" build "+_d.v.b+" ("+_d.v.d+" - "+new Date(1e3*_d.v.m).toUTCString()+")"},t.prototype.do_exec=function(t,e){var n,o,s,i,u;return t=null!=(o=a(t))?o:[],w(t),(s=this._req()).steps=t,u=new r.State(this.conf,s),this._ses(u),_(u),n=function(t){return function(){var e,n,r,o,s,i;for(t._process(u),e=0,r=(s=(i={items:(o=u.out).res,sels:{},traits:u.tExt(),log:!0===t.o.debug?o.log.concat():void 0,ext:o.ext?o.ext:void 0}).items).length;r>e;e++)null!=(n=s[e]).a&&(i.sels[n.a]=n.c);return null!=t.o.sess&&(i.sess=JSON.stringify(u.sess)),i}}(this),"function"==typeof e?this._init(u,function(t){return function(r){return e(!1,n()),t.do()}}(this)):(this._targ(u),i=n(),setTimeout(this.do,1),i)},t.prototype.do_run=function(t){var e,n;return null==t&&(t="#init"),e=this._req(this.o.entry+"-pre"),n=null!=u?u.state:new r.State(this.conf,e),this._ses(n),_(n),!0===this.o.globalEvents&&this._spaInit(n),new r.Runner(this.conf,function(t){return function(){return n.ep(t.o.entry),t._init(n,function(e){return b(t.conf["wa:ready"],function(){return t._process(n),n.log("(end)"),t.do()})})}}(this)).run(_d.diag,n)},t.prototype.discard=function(){return h.sess_del()},t.prototype.do_vs=function(t){var e,n,r;return null==u?void this.do():(n=u.state,r=null!=(e=this.conf["rt:spa-states"])?e:[],g.call(r,t)>=0?t!==n.vstate()||g.call(this.conf["rt:spa-states-m"],t)>=0?(n.vstate(t),this._process(n),n.log("(end vstate)"),window.dispatchEvent(new CustomEvent("ConductricsStateChanged",{detail:t}))):n.log("Already at '"+t+"'"):n.log("Unknown view-state '"+t+"'"),this.do())},t.prototype._req=function(t){var e,n,r;return null==t&&(t="api"),n=this.o,(r=h.env_get()).acc=_d.acc.c,r.ep=t,r.v.traits=n.traits,r.debug=r.debug||n.debug,r.ud=n.inputs,null==(e=r.v).vid&&(e.vid=n.vid),r},t.prototype._process=function(t){t.r._dl=this.dl,this._pre(t),new r.Runner(this.conf,this._post).run(_d.diag,t)},t.prototype._init=function(t,e){var n;this._preboot(t,(n=this,function(){return n._targ(t,e)}))},t.prototype._preboot=function(t,e){var n,r,o,s,i,u;if("function"!=typeof _wa_preboot)return e();if(i=r=t.ep(),g.call(null!=(u=this.conf["js:preboot-eps"])?u:["wax"],i)<0)return t.log("Skipping preboot ("+r+")"),e();s=function(t,e,n){var r,o,s,i,u,l,a,d;switch(null==n&&(n="pre"),!1){case!Array.isArray(t):for(l=[],o=0,u=t.length;u>o;o++)r=t[o],l.push(e.tAdd(r,n));return l;case"object"!=typeof t:for(s in a=[],t)switch(d=t[s],i=g.call(s,":")>=0,!1){case!(i&&d):a.push(e.tAdd(""+s,n));break;case!(!i&&"string"==typeof d):a.push(e.tAdd(s+":"+d,n));break;default:a.push(void 0)}return a}},o=function(n,r){return null==r&&(r={}),"string"==typeof r&&(r={vstate:r}),s(n,t),"string"==typeof r.vstate&&t.vstate(r.vstate),"string"==typeof r.vid&&(t.data["v.vid"]=r.vid),"object"==typeof r.inputs&&t.ud(r.inputs),"boolean"==typeof r.qa&&t.qa(r.qa),"function"==typeof r.selection_callback&&(null!=t.handlers?t.handlers:t.handlers=[]).push(r.selection_callback),"function"==typeof r.presend_callback&&(t.ps_cb=r.presend_callback),e()};try{t.log("Preboot"),_wa_preboot(o)}catch(r){n=r,t.log("Error executing preboot: "+n),e()}},t.prototype._targ=function(t,e){var n,r,o,i;return i=_d.rt.tt,o=_d.rt.ttt,(n=void 0===e)&&(e=function(){}),i.length>0?(r=new s.Targeter(this.conf,h,n),t.log("Resolve targeting ("+i.length+")"),void r.resolve(t,i,function(n,r){var s,i,u;if(n)return e(n);for(s in i=r.values)null!=(u=i[s])&&(g.call(o,s)>=0?t.tAdd(s+":"+u,"apply"):(t.log("Set value '"+s+"' to "+u),t.data["targ."+s]=u));return e()})):e()},t.prototype._pre=function(t){var e,n,r,o,s;if((e=t.r._dl).enabled()&&(s=e.get(this.conf["dl:key-tr"]),Array.isArray(s)))for(n=0,r=s.length;r>n;n++)o=s[n],t.tAdd(o,"dl");t.data["v.sels"]=t.sess.sels},t.prototype._ses=function(t){var e,n,r,o,s,i,u,l,a,p,f;if(f=null!=(s=t.r.v)?s:{},a=h.sess_get(),c&&null==a&&(d=null),l=t.sess=null!=d?d:{traits:null!=(i=null!=(u=f.traits)?u.cust:void 0)?i:[],sels:{},rwds:{}},r=function(){var t;try{return JSON.parse(null!=(t=this.o.sess)?t:a)}catch(t){}}.call(this),c&&(d=l),y(t.sess,r),Array.isArray(o=null!=r?r.traits:void 0))for(e=0,n=o.length;n>e;e++)p=o[e],t.tAdd(p,"init")},t.prototype._post=function(t){var e;return e=function(e){return function(){var n;t.dnt()||t.bot()||((n=t.sess).traits=t.tExt(),n.vals=t.targ,h.sess_set(JSON.stringify(n))),e._send(t)}}(this),t.ps_cb&&t.out.work.length>0?(t.log("Waiting for presend callback"),t.ps_cb({},function(n){var r,o,s,i;if(t.log("Presend callback returned "+typeof n),n)for(r=0,s=(i=t.out.work).length;s>r;r++)(o=i[r]).ctx&&n.vid&&(t.log("Presend callback returned id '"+n.vid+"'"),o.ctx.vid=n.vid);return t.ps_cb=null,e()})):e()},t.prototype._send=function(t){var e,n;switch(n=(e=t.out.work.splice(0)).length,!1){case 0!==n:return;case!t.dnt():t.log("Not sending events ("+n+") due to DNT");break;case!t.bot():t.log("Not sending events ("+n+") because 'bot'");break;case!t.muted():t.log("Not sending events ("+n+") because 'muted': "+JSON.stringify(e));break;default:t.log("Sending events ("+n+")"),h.beacon(this.conf["event-queue:sqs-url"]+"?Action=SendMessage&Version=2012-11-05&MessageBody="+encodeURIComponent(JSON.stringify(e)))}},y=function(t,e){return Object.assign(t,e)},t.prototype._spaInit=function(t){c&&(null==u&&window.addEventListener("ConductricsStateChange",function(t){return function(e){return t.on(e.type,e.detail)}}(this)),u={state:t})},t.prototype.on=function(t,e){var n,r;switch(t){case"ConductricsStateChange":if("wax"===this.o.entry&&(null!=(n=this.conf["rt:spa-states"])?n.length:void 0)>0)return this.push({t:"v",vs:e});break;case"ConductricsCommands":if(Array.isArray(r=null!=e?e.commands:void 0))return this.exec(r,function(){})}},a=function(t){if("string"!=typeof t)return t;try{return JSON.parse(t)}catch(t){}},_=function(t){t.log(_d.v.v+" build "+_d.v.b+" ("+_d.v.d+" - "+new Date(1e3*_d.v.m).toUTCString()+")"),t.qa()&&t.log("QA visitor detected")},w=function(t){},b=function(t,e){switch(t){case"doc":return f(e);default:return e()}},t}(),(null!=(a=function(){return"undefined"!=typeof window&&null!==window?window:this}()).Conductrics?a.Conductrics:a.Conductrics={}).ClientApi=t,("undefined"!=typeof define&&null!==define?define.amd:void 0)&&define(["ClientApi"],t),("undefined"!=typeof module&&null!==module?module.exports:void 0)&&(module.exports.ClientApi=t),("undefined"!=typeof __module&&null!==__module?__module.exports:void 0)&&(__module.exports.ClientApi=t),null!=h&&(h.ClientApi=t)}).call(this);
},{"../../configuration":2,"../../dom-utils":4,"../diagrams/diagrams":15,"../targeting/targeting":18,"data-layers":"data-layers","harness":"harness","loader":"loader"}],12:[function(require,module,exports){
(function(){exports.GA=function(){function t(){}var e,n,r;return t.get=function(conf){return window[n(conf)]},t.init=function(conf){var t,e,i,u,a,c,o,l;a=conf["x-ga:gtm"],t=window,c=n(conf),u="string"==typeof conf["x-ga:gat"],i=null!=(l=conf["x-ga:gat"])?l:"t0",a&&(null==t[c]&&(t[c]=function(){var e;return(null!=(e=t[c]).q?e.q:e.q=[]).push(arguments)}),null==(e=t[c]).l&&(e.l=1*new Date)),t[c]&&(t[c]._ci||(o=function(){var e,n;return(e=t[c]).getByName(i)?void r(e.getByName(i)):(n=e.create,e.create=function(){var t,a,c,o,l;if(o=n.apply(e,arguments),u)r(e.getByName(i));else for(t=0,a=(c=e.getAll()).length;a>t;t++)l=c[t],r(l);return o})},t[c](o),t[c]._ci=!0))},r=function(t){var n;t&&!t._ci&&(n=t.get("sendHitTask"),t.set("sendHitTask",function(t){var r;return r=n(t),e(document,"ga.conductrics",t),r}),t._ci=!0)},e=function(t,e,n){var r;window.CustomEvent?r=new CustomEvent(e,{detail:n}):(r=document.createEvent("CustomEvent")).initCustomEvent(e,!0,!0,n),t.dispatchEvent(r)},t.eventApplies=function(t,e){var n,r,i,u;if("event"!==e.get("hitType"))return!1;if("Conductrics"===e.get("eventCategory"))return!1;for(i=function(n){var r,i,u,a,c,o,l,g;if(r=e.get(n),"/"===(g=null!=(o=t["ga_"+n])?o:"")[0]&&"/"===g[g.length-1])return RegExp(g.slice(1,-1)).test(r);for(i=0,u=(l=g.split(",")).length;u>i;i++)switch(c=l[i],!1){case!("*"===c||c===r):return!0;case!(c.indexOf("*")>=0):return a=c.replace("*","[ \\S]*"),RegExp("^"+a+"$").test(r);default:return!1}},n=0,r=(u=["eventCategory","eventAction","eventLabel"]).length;r>n;n++)if(!i(u[n]))return!1;return!0},n=function(conf){var t,e;return null!=(t=null!=(e=conf["x-ga:gao"])?e:window.GoogleAnalyticsObject)?t:"ga"},t}()}).call(this);
},{}],13:[function(require,module,exports){
(function(){var e,conf;e=require("../../configuration"),conf=e.merged(),function(){var e,n;if(null!=("undefined"!=typeof window&&null!==window&&null!=(n=window.opener)?n.postMessage:void 0))e=function(e){var n;return(n=document.createElement("script")).src=e,document.getElementsByTagName("head")[0].appendChild(n)},window.addEventListener("message",function(n){var a,t;switch(null!=(t=n.data)?t.type:void 0){case"wa-author-load":return a=n.data.d2?conf["admin-ui-server-d2:url"]:conf["admin-ui-server:url"],e(a+"/gen/wa-author-time.js"),e(a+"/js/mutation-summary.js"),e(a+"/js/css-parse.js")}}),window.opener.postMessage({type:"wa-rt-ready",pageUrl:document.location.href},"*")}()}).call(this);
},{"../../configuration":2}],14:[function(require,module,exports){
(function(){require("../../data"),function(){var e,n,t,c;if("undefined"!=typeof document&&null!==document?document.querySelector:void 0)n=function(e){var n;return null!=(n=/__c-token=([a-zA-Z0-9-]+)/.exec(e))?n[1]:void 0},c=_d.rt,null!=(t=n(document.location.href))&&null==document.querySelector("script[src*='&__c-token="+t+"']")&&((e=document.createElement("script")).src=c.s+"&__c-token="+t,document.head.appendChild(e))}()}).call(this);
},{"../../data":3}],15:[function(require,module,exports){
(function (process){(function (){
(function(){var t,n,r,i=function(t,n){return function(){return t.apply(n,arguments)}},o=[].indexOf||function(t){for(var n=0,r=this.length;r>n;n++)if(n in this&&this[n]===t)return n;return-1};r=require("../../utils"),t=require("../../bots").Bots,n=module.exports,exports.M=function(){function t(t){this.conf=t}var n;return t.prototype.getNodes=function(t){var n;return null!=(n=t.items)?n:[]},t.prototype.active=function(t,n){return!0},t.prototype.process=function(t,n){},t.prototype.isId=r.Strings.isId,t.prototype.wait=function(t,n){return setTimeout(n,t)},t.prototype.clone=function(t){return JSON.parse(JSON.stringify(t))},t.prototype.sel=function(t){return n(t.selector,t.so)},n=function(t,n){var r,i,o,s,e,u;if(null==n&&(n={}),o=document.querySelectorAll(t),n.t){for(r=[],s=0,e=o.length;e>s;s++)(null!=(u=(i=o[s]).textContent)?u.indexOf(n.t):void 0)>=0&&r.push(i);o=r}return(n.i>0||n.n>0)&&(o=Array.prototype.slice.call(o,n.i,n.n)),o},t}(),n.Runner=function(){function t(t,r){this.conf=t,this.ph=r,this.mf=new n.MFactory(this.conf)}var i;return t.prototype.run=function(t,n){return this.exec(t,n)},t.prototype.exec=function(t,n){return this.walk(t,n),this.ph(n)},t.prototype.walk=function(t,n){var r,o,s,e,u;if(null!=(e=this.mf.provide(t))&&i(e,t,n)&&!e.process(t,n,this))for(o=0,s=(u=e.getNodes(t)).length;s>o;o++)r=u[o],this.walk(r,n)},t.prototype.find=function(t,n,r,o){var s,e,u,a,l;if(null==o&&(o=[]),null==(a=this.mf.provide(t)))return!1;if(!i(a,t,n))return!1;for(r(t)&&o.push(t),e=0,u=(l=a.getNodes(t)).length;u>e;e++)s=l[e],this.find(s,n,r,o);return o},t.prototype.resume=function(t,n){var r;return r={module:"root",items:t.items.concat()},this.exec(r,n)},i=function(t,n,i){var o;switch(!1){case!!t.active(n,i):case!((null!=(o=n.conds)?o.length:void 0)>0&&!r.Conds.evalConds(n.conds,i,n.module)):return!1;default:return!0}},t}(),exports.Conds=r.Conds,n.MFactory=function(){function t(t){this.conf=t}return t.prototype.provide=function(t){var n;n=t.module;try{return new(0,require("./modules/"+n).m)(this.conf)}catch(t){return console.log("Can't provide '"+n+"'"),null}},t}(),n.State=function(){function n(n,s){var e,u,a,l,c,d,p,h,f,v,y,g,m,w;if(this.conf=n,null==s&&(s={}),this.tAdd=i(this.tAdd,this),this.r=s,m=null!=(l=s.v)?l:{},w=Array.isArray(m.vid)&&m.vid.length>0?m.vid.join("||"):m.vid,(e=!0===this.conf["qa:v-qa"]||"true"===(c=m.qa)||!0===c)&&(m.dnt=!1),this.debug=s.debug||this.conf["js:debug-all"],this.data={"v.ip":m.ip,"v.ua":m.ua,"v.vid":w,"v.ref":m.ref,"v.tzo":m.tzo,"v.ts":Math.floor(null!=(d=s.ts>9999999999?s.ts/1e3:s.ts)?d:(new Date).getTime()/1e3),"v.traits":["*"],"v.dnt":m.dnt,"v.qa":e,"v.bot":new t(this.conf).detect(m.ua),ud:{},"d.ep":null!=(p=s.ep)?p:"wax","d.dc":function(){return _d.v.d},selex:function(t){return document.querySelector(t)},wf:function(t){var n;try{return"function"==typeof(n=r.nested(t,window))?n():n}catch(t){}},dl:function(t){var n;return null!=(n=s._dl)?n.get(t):void 0},st:function(t){var n,i,s,e,u;try{return(i="="===t[0]&&o.call(t,":")>=0)&&(e=t.slice(1).split(":"),t=e[0],s=e[1]),u="function"==typeof(n=null!=n?n:require("harness")).st_get?n.st_get(t):void 0,i&&(u=r.Obj.read(JSON.parse(u),s)),u}catch(t){}}},this.loc(null!=(h=m.loc)?h:{}),process.env.C_SEND_CTX&&this.conf["pass:sid"]&&(this.data["v.sid"]=m.sid),this.ud(s.ud),this.out={status:200,res:[],sel:{},log:[],work:[]},(null!=(f=m.traits)?f.length:void 0)>0)for(u=0,a=(v=m.traits).length;a>u;u++)g=v[u],this.tAdd(g,"api");this.dnt()&&this.log("DO-NOT-TRACK visitor detected; will not persist or send any data."),this.vstate(null!=(y=m.vstate)?y:"#init")}var s,e,u,a;return e=function(t,n){var r;return null!=(r=_d.A[t])?r.a.c[n]:void 0},n.prototype.loc=function(t){return t?Object.assign(this.data,{"v.loc":t,"v.loc.path":t.pathname,"v.loc.qs":r.Strings.qs(t.search),"v.loc.qx":t.protocol+"//"+t.host+t.pathname}):void 0},n.prototype.ud=function(t){return Object.assign(this.data.ud,u(t))},n.prototype.stepSet=function(t){return this.step=t},n.prototype.resp=function(t){return this.out.res.push(t)},n.prototype.respGet=function(t){var n,r,i,o;for(r=0,i=(o=this.out.res).length;i>r;r++)if((n=o[r]).a===t)return n},n.prototype.done=function(t){var conf,n,i,o;return conf=this.conf,null!=t.a&&(t.a=r.Strings.qualify(t.a,this.conf["acc:code"],this.conf["acc:env"])),null!=t.fs&&(i=this.conf["rt:tr-ids"],t.fs=t.fs.map(function(t){var n;return null!=(n=i[t])?n:t})),null==t.ds&&(t.ds=_d.rt.ds),process.env.C_SEND_CTX&&(n=t.ctx={},conf["pass:ua"]&&(n.ua=this.data["v.ua"]),conf["pass:ip"]&&(n.ip=this.data["v.ip"]),conf["pass:loc"]&&(n.loc=null!=(o=this.data["v.loc"])?o.href:void 0),conf["pass:vid"]&&(n.vid=this.data["v.vid"],!n.vid&&conf["pass:sid"]&&(n.vid=this.data["v.sid"])),(conf["pass:qa"]||conf["pass:qax"])&&(n.qa=this.qa())),this.out.work.push(t)},n.prototype.dnt=function(){return this.data["v.dnt"]},n.prototype.bot=function(){return null!=this.data["v.bot"]},n.prototype.ep=function(t){var n;return n=this.data,null!=t?(this.log("Entry point "+t),n["d.ep"]=t):n["d.ep"]},n.prototype.muted=function(){return this.r.muted},n.prototype.reread=function(){return this.data["v.sels"]=this.sess.sels},n.prototype.selAdd=function(t){var n,r;if(null!=(null!=t?t.a:void 0)&&null!=t.c)switch(r=this.data["v.sels"],this.out.sel[t.a]=t,t.p){case"s":if((n=r[t.a])&&n.s!==t.s)return n.s=t.s,this.dirty=!0;break;default:return r[t.a]=t,null!=this.sess.rwds[t.a]&&(this.sess.rwds[t.a]={}),this.dirty=!0}},n.prototype.selDel=function(t){return this.selHas(t)?(this.log("Discarding selection for agent "+t),delete this.data["v.sels"][t],this.sess.rwds[t]={},this.dirty=!0):void 0},n.prototype.selGet=function(t){var n,r,i,o;return o=null!=(r=e(t,"a:sd-ttl"))?r:this.conf["a:sd-ttl"],null!=(n=this.data["v.sels"][t])&&n.ts+o>=a()&&n.ts>=(null!=(i=_d.A[t])?i.drts:void 0)?(null==n.fs&&(n.fs=this.tr().concat()),n):void 0},n.prototype.selHas=function(t){return null!=this.data["v.sels"][t]},n.prototype.selRed=function(t,n){return n instanceof Array&&(this.data["a.sel-reduce:"+t]=n,1)?this.log("Reducing choices for "+t+" to ["+n+"]"):void 0},n.prototype.rwdAdd=function(t,n,r){var i,o;return i=this.sess.rwds[t],Array.isArray(i[n])&&(i[n]=void 0),null==(o=null!=i[n]?i[n]:i[n]={}).n&&(o.n=0),o.n+=1,null==o.v&&(o.v=0),o.v+=r,o.ts=a(),this.dirty=!0},n.prototype.polSet=function(t,n){return"string"!=typeof t||"a"!==n&&"r"!==n&&"c"!==n&&"p"!==n&&"b"!==n&&"x"!==n||(this.data["a.sel-pol:"+t]=n,0)?void 0:this.log("Setting policy for "+t+" to (policy "+n+")")},n.prototype.polHas=function(t){return null!=this.polGet(t)},n.prototype.polGet=function(t){return this.data["a.sel-pol:"+t]},n.prototype.vstate=function(t){var n,r,i,s,e;return r=this.data,0===arguments.length?r["v.vstate"]:(e=null!=(s=this.conf["rt:spa-states"])?s:"",n=this.vstate(),(i=o.call(e,t)>=0&&t!==n)&&(null!=r["v.vstate"]&&this.log("view-state is now '"+t+"' (was '"+n+"')"),"#init"!==t&&this.mdn()&&this.loc(window.location),r["v.vstate"]=t),i)},n.prototype.qa=function(t){return"boolean"==typeof t?(this.log("QA Mode: "+t),this.data["v.qa"]=t):!0===this.data["v.qa"]},n.prototype.tr=function(){return this.data["v.traits"]},n.prototype.tFor=function(t){var n,r,i;return n=null!=(r=null!=(i=_d.A[t])?i.fs:void 0)?r:this.tr(),this.tr().filter(function(t){var r;return"*"===t||(r=t.split(":")[0],o.call(n,r)>=0)}).slice(0,this.conf["targ:traits-agent-max"])},n.prototype.tExt=function(){return this.tr().filter(function(t){return 0===t.indexOf("cust/")})},n.prototype.tMap=function(t){var n,r,i,o,s,e;for(s={"*":1},r=this.conf["rt:tr-ids"],i=0,o=t.length;o>i;i++)s[null!=(e=r[n=t[i]])?e:n]=1;return s},n.prototype.tHas=function(t){return t=s(t),o.call(this.data["v.traits"],t)>=0},n.prototype.tAdd=function(t,n){var r,i,o,e,u,a,l;if(o=(e=(t=s(t)).split(":"))[0],!(l=e[1]))return!1;if(t.indexOf(" ")>-1&&(t=(o=o.trim())+":"+(l=l.trim())),this.tHas(t))return!1;if(i="init"===n,null!=(r=this.data["targ."+o]))switch(null!=(u=null!=(a=_d.T[o])?a.me:void 0)?u:"l"){case"f":if(!i)return!1;this.tDel(o+":"+r);break;case"l":if(i)return!1;this.tDel(o+":"+r)}return this.data["targ."+o]=l,this.data["v.traits"].push(t),i||(this.dirty=!0),this.log("Added trait '"+t+"' ("+n+")"),!0},n.prototype.tDel=function(t){var n,r,i;return t=s(t),!!this.tHas(t)&&(n=(i=t.split(":"))[0],i[1],null!=n&&(this.data["targ."+n]=void 0,(r=this.data["v.traits"].indexOf(t))>-1&&this.data["v.traits"].splice(r,1),this.log("Removed trait '"+t+"'"),!0))},s=function(t){switch(!1){case"*"!==t:return"*";case o.call(t,"/")>=0:return"cust/"+t;default:return t}},n.prototype.plAdd=function(t){var n,r,i;return n=null!=(r=null!=(i=this.data["v.pl"])?i.split(","):void 0)?r:[],o.call(n,t)<0&&n.push(t),this.data["v.pl"]=n.join(",")},n.prototype.log=function(t){return this.out.log.push(t),this.debug&&("undefined"!=typeof console&&null!==console?console.log:void 0)?console.log("C:\\ ["+this.out.log.length+"] "+t):void 0},n.prototype.mdn=function(){return this.r.mdn},n.prototype.qualify=function(t){return r.Strings.qualify(t,this.conf["acc:code"],this.conf["acc:env"])},a=function(){return r.Dates.stamp()},u=function(t){var n,r,i,o;if(t){for(n in i={},t)("string"==(r=typeof(o=t[n]))||"number"===r||"boolean"===r)&&(i[n]=o);return i}},n}(),exports.Reapplyer=function(){function t(t,n,r,o){this.cb=t,this.targets=null!=n?n:[],this.opts=null!=r?r:{characterData:!0,subtree:!0,attributes:!0,childList:!0},this.max=null!=o?o:100,this.on=i(this.on,this);try{this.o=new MutationObserver(this.on)}catch(t){}this.n=0}return t.prototype.start=function(){var t,n,r,i,o;for(t=0,n=(r=this.targets).length;n>t;t++)o=r[t],this.o&&1===o.nodeType&&null!=(i=this.o)&&i.observe(o,this.opts)},t.prototype.stop=function(){var t;return null!=(t=this.o)?t.disconnect():void 0},t.prototype.on=function(t,n){return this.n++<=this.max?(this.stop(),this.cb(),this.start()):void 0},t}()}).call(this);
}).call(this)}).call(this,require('_process'))
},{"../../bots":1,"../../utils":19,"_process":6,"harness":"harness"}],16:[function(require,module,exports){
(function(){exports._resolve=function(e,a,s){var c,r,t,n;return n=a+60*s,isFinite(n)?(r=new Date(1e3*n),c=r.getUTCDay(),t=r.getUTCHours(),function(){switch(e){case"wp":switch(c){case 0:case 6:return"we";default:return"wd"}break;case"dp":switch(t){case 6:case 7:case 8:case 9:case 10:case 11:return"m";case 12:case 13:case 14:case 15:case 16:return"a";case 17:case 18:case 19:case 20:return"e";default:return"n"}break;case"d":return["su","mo","tu","we","th","fr","sa"][c];case"h":return t;case"z":return Math.floor(s/60);case"ts":return a}}()):null}}).call(this);
},{}],17:[function(require,module,exports){
(function(){exports.registry=function(){function n(conf){this.conf=conf}return n.prototype.getPlugin=function(n,e,t){var o,r;try{if(o=require("./plugins/"+n).p,!0===e&&!0!==r.sync)return;return(r=new o(this.conf))&&(r.harness=t),r}catch(e){return e,"undefined"!=typeof console&&null!==console&&console.log("Plugin '"+n+"' unavailable"),null}},n}()}).call(this);
},{}],18:[function(require,module,exports){
(function(){var n,t,r,e,l=[].indexOf||function(n){for(var t=0,r=this.length;r>t;t++)if(t in this&&this[t]===n)return t;return-1};r=require("../../utils"),n=require("./registry"),(t=exports).Plugin=function(){function n(){}return n.prototype.ttl=function(n){return 3600},n.prototype.as_code=function(n){return null!=n?n.replace(/[^A-Za-z0-9_-]/g,"-"):void 0},n.prototype.active=function(n){return!0},n.prototype.resolve=function(n,t,r){return r()},n}(),t.Targeter=function(){function t(t,r,e){this.conf=t,this.harness=r,this.sync_only=e,this.registry=new n.registry(this.conf),this.mode=null!=this.harness?"b":"s"}return t.prototype.resolve=function(n,t,u){var o,i,s,a,c,v;return(null!=t?t.length:void 0)>0?(a={values:{}},o=null!=n.targ?n.targ:n.targ=null!=(i=null!=(s=n.sess)?s.vals:void 0)?i:{},this.sync_only&&n.log("In sync mode; async targeting lookups will be skipped."),c=[],v=r.Dates.stamp(),e(t,function(t){return function(r,e){var u,i,s,d,f,g,h,p,y;return null!=(f="undefined"!=typeof _dd&&null!==_dd&&null!=(g=_dd.targ)?g.v[r]:void 0)?(a.values[r]=f,e(!1,a)):(s=(h=r.split("/"))[0],u=h[1],(null!=(d=t.registry.getPlugin(s,t.sync_only,t.harness))&&"function"==typeof d.active?d.active(n):void 0)?(y=d.ttl(),void 0!==o[r]&&y>0&&o[r].ts+y>v?(a.values[r]=o[r].v,e(!1,a)):(i=null!=(p=d.constructor.modes)?p:[],"b"===t.mode&&l.call(i,"b")<0&&l.call(i,"s")>=0?(c.push(r),e(!1,a)):d.resolve(n,u,function(n,u){return n?e(n):(a.values[r]=u,o[r]=null!=u&&y>0?{v:u,ts:v}:void 0,null===u&&"b"===t.mode&&l.call(i,"s")>=0&&c.push(r),e())}))):e())}}(this),function(t){return function(e){var l,conf,i,s,d,f,g,h,p,y,_;if(e)return u(e);if(0===c.length)return u(!1,a);if(p=(conf=t.conf)["targ:sl-rate"],y=r.Rand.coin(p),n.log("Resolve ["+c+"] on server? "+y+" ("+p+")"),!y){for(s=0,f=c.length;f>s;s++)l=c[s],o[l]={v:null,ts:v};return u(!1,a)}for(_=conf["targ:lookup-url"]+"?codes="+c.join(",")+"&apikey="+_d.acc.k+"&vid="+n.data["v.vid"],d=0,g=(h=["ua","ip"]).length;g>d;d++)i=h[d],null!=n.data["v."+i]&&(_=_+"&"+i+"="+escape(n.data["v."+i]));return t.harness.http("GET",_,conf["targ:ext-tms"],function(t,r){var e,i,s,d,f,g,h;if(t)return n.log("Could not resolve: "+c+" ("+t+")"),u(!1,a);try{for(i=JSON.parse(r).data,g=[],s=0,d=c.length;d>s;s++)l=c[s],h=null!=(f=i.values[l])?f:null,n.log("Resolved on server: '"+l+"' ("+h+")"),null==(e=a.values)[l]&&(e[l]=h),g.push(o[l]={v:h,ts:v});return g}finally{return u(!1,a)}})}}(this))):u(!1,{})},t}(),t.geo_dm=function(conf,n){var t;switch(t=null!=conf?conf["acc:c-dom"]:void 0,!1){case void 0!==t:case null!=n&&""!==n:return"x";case l.call(t,n)<0:return"d";default:return"i"}},e=function(n,t,r){var e,l,u;return l=-1,u=n.length,(e=function(){return++l===u?r():t(n[l],function(n){return n&&r(n),e()})})()}}).call(this);
},{"../../utils":19,"./registry":17}],19:[function(require,module,exports){
(function (process){(function (){
(function(){var n,t=[].slice,e=[].indexOf||function(n){for(var t=0,e=this.length;e>t;t++)if(t in this&&this[t]===n)return t;return-1};switch(n={},!1){case"undefined"==typeof define||null===define:define(function(){return n});break;case"undefined"==typeof module||null===module:module.exports=n}n.Obj=function(){function n(){}return n.extend=function(){var n,e,r,i,u,o;for(n=arguments[0],e=0,i=(o=2<=arguments.length?t.call(arguments,1):[]).length;i>e;e++)for(r in u=o[e])n[r]=u[r];return n},n.read=function(n,t){var e;for(e=t.split(".");e.length&&(n=n[e.shift()]););return n},n}(),n.Dates=function(){function n(){}return n.now=function(){var n;return null!=(n="function"==typeof Date.now?Date.now():void 0)?n:(new Date).getTime()},n.stamp=function(){return Math.floor(this.now()/1e3)},n}(),n.Rand=function(){function n(){}return n.pick=function(n,t){var e,r,i,u,o,f;for(o=0,r=0,i=t.length;i>r;r++)o+=t[r];for(e in 0===o&&(t=n.map(function(n){return 1}),o=n.length),u=Math.random()*o,f=0,t)if((f+=t[e])>u)return n[e]},n.coin=function(n){return n>1||this.pick([!0,!1],[n,1-n])},n}(),n.Conds=function(){function t(){}return t.evalConds=function(e,r,i){var u,o,f,l,c,a,s,d,h;if(!((null!=e?e.length:void 0)>0))return!1;if(d=null!=(e=e.concat())[e.length-1].mode?e.pop():{mode:"all"},0===e.length)return"all"===(h=d.mode)||"any"===h;if("sets"===d.mode)return e.length>0&&e.every(function(t){return n.Conds.evalConds(t,r,i)});switch(d.mode){case"all":for(o=0,f=e.length;f>o;o++)if(u=e[o],!t.evalCond(u,r,i))return!1;return!0;case"any":for(a=0,l=e.length;l>a;a++)if(u=e[a],t.evalCond(u,r,i))return!0;return!1;case"none":for(s=0,c=e.length;c>s;s++)if(u=e[s],t.evalCond(u,r,i))return!1;return!0;default:throw Error("Unknown conds mode '"+d.mode+"'")}},t.evalCond=function(e,r,i){var u,o,f,l,c,a;return null==i&&(i=""),o=e[0],f=e[1],a=e[2],o=n.Strings.interpolate(o,r.data),a=n.Strings.interpolate(a,r.data),("gt"===f||"gte"===f||"lt"===f||"lte"===f)&&("string"==typeof o&&(o=parseFloat(o)),"string"==typeof a&&(a=parseFloat(a))),l=null!=(c="function"==typeof(u=t.ops)[f]?u[f](o,a):void 0)&&c,"undefined"!=typeof process&&null!==process&&r.log("Condition "+l+": "+e+" ("+o+") ("+a+") ["+i+"]"),l},t.ops={is:function(n,t){return n===t},isnt:function(n,t){return n!==t},mp:function(t,e){return!0===n.Strings.pmatch(t,e,!0)},"mp-not":function(t,e){return!1===n.Strings.pmatch(t,e,!0)},gt:function(n,t){return n>t},lt:function(n,t){return t>n},gte:function(n,t){return n>=t},lte:function(n,t){return t>=n},in:function(n,t){return""!==n&&t.indexOf(n)>=0},nin:function(n,t){return""!==n&&-1===t.indexOf(n)},sw:function(n,t){return n.slice(0,t.length)===t},ew:function(n,t){return n.slice(-t.length)===t},re:function(n,t){try{return RegExp(t).test(n)}catch(n){return n,!1}},sub:function(n,t){return("function"==typeof n.indexOf?n.indexOf(t):void 0)>=0},"sub-not":function(n,t){return!(("function"==typeof n.indexOf?n.indexOf(t):void 0)>=0)},"has-any":function(n,t){var r,i,u;if(!((n=function(){switch(!1){case""!==n:return[];case"string"!=typeof n:return n.split(",");default:return n}}()).length>0&&t.length>0))return!1;for(r=0,i=t.length;i>r;r++)if(u=t[r],e.call(n,u)>=0)return!0;return!1},"has-all":function(n,t){var r,i,u;if(!((n=function(){switch(!1){case""!==n:return[];case"string"!=typeof n:return n.split(",");default:return n}}()).length>0&&t.length>0))return!1;for(r=0,i=t.length;i>r;r++)if(u=t[r],e.call(n,u)<0)return!1;return!0}},t}(),n.Strings=function(){function n(){}var t,e;return t=/^[A-Za-z0-9_-]+$/,e=/\$\{([A-Za-z0-9.:_=-]+)\}/g,n.isId=function(n,e){var r,i,u;if(null==e&&(e=!1),"undefined"===n||"string"!=typeof n)return!1;if(e){if(!((u=n.split(":")).length>1))return!1;for(r=0,i=u.length;i>r;r++)if(n=u[r],!this.isId(n))return!1;return!0}return"string"==typeof n&&n.length<=100&&t.test(n)},n.interpolate=function(t,e){var r,i,u,o,f,l;if(Array.isArray(t))return t;if(0===(u=n.interkeys(""+t)).length)return t;for(f=""+t,r=0,o=u.length;o>r;r++)i=u[r],l=n.propeval(i,e),f=f.replace("${"+i+"}",null!=l?l:"");return f},n.interkeys=function(n){var t,r;if("string"!=typeof n)return[];if(-1===n.indexOf("${"))return[];if("${"===n.slice(0,2)&&-1===n.indexOf("::")&&n.indexOf("}")===n.length-1)return[n.slice(2,-1)];for(r=[];null!=(t=e.exec(n));)r.push(""+t[1]);return r},n.propeval=function(n,t){var e,r,i,u,o,f;for(f=t,e=r=0,i=(o=u=n.split("::")).length;i>r&&null!=(f=f[o[e]]);e=++r)if("function"==typeof f)return f(u[e+1]);return f},n.isNum=function(n){return""+ +n===n},n.parseUrl=function(n){var t,e,r,i,u,o,f;switch(!1){case!(null==n):return null;case"object"!=typeof n:return n;case"undefined"==typeof window||null===window:if(window.location.href===n)return window.location;try{return new window.URL(n)}catch(l){l;try{for(t=$("<a>",{href:n})[0],u={},e=0,i=(o=["hash","hostname","href","pathname","port","protocol","search"]).length;i>e;e++)u[r=o[e]]=null!=(f=t[r])?""+f:void 0;return u.pathname.length>0&&"/"!==u.pathname[0]&&(u.pathname="/"+u.pathname),u}catch(n){return void n}}break;default:return require("url").parse(n)}},n.pmatch=function(n,t,e){return null==e&&(e=!1),e&&(n=this.pnorm(n),t=this.pnorm(t)),t=t.replace("*","[\\S]*"),RegExp("^"+t+"$").test(n)},n.pnorm=function(n){return n.length>1&&"/"!==n.slice(-1)&&"*"!==n.slice(-1)?n+"/":n},n.qualify=function(n,t,e){return-1===n.indexOf(":")?t+":"+n+":"+e:n},n.qs=function(n){var t,e,r,i,u,o,f;if(o={},"string"!=typeof n)return o;for(t=0,r=(u=(n=n.trim().replace(/^(\?|#|&)/,"")).split("&")).length;r>t;t++)e=(i=u[t].replace(/\+/g," ").split("=")).shift(),f=i.length>0?i.join("="):void 0,o[decodeURIComponent(e)]=null!=f?decodeURIComponent(f):null;return o},n}(),n.nested=function(n,t,e){return null==e&&(e="."),n.split(e).reduce(function(n,t){return null!=n?n[t]:void 0},t)}}).call(this);
}).call(this)}).call(this,require('_process'))
},{"_process":6,"url":5}],"data-layers":[function(require,module,exports){
(function(){var t=function(t,n){return function(){return t.apply(n,arguments)}},n=[].indexOf||function(t){for(var n=0,e=this.length;e>n;n++)if(n in this&&this[n]===t)return n;return-1};exports.DL=function(){function e(conf,n,e,s){this.conf=conf,this.listener=n,null==e&&(e="dataLayer"),null==s&&(s=window),this.sub=t(this.sub,this),this._on=t(this._on,this),this.subs=[],this.dl=function(){switch(typeof e){case"string":return null!=s[e]?s[e]:s[e]=[];case"object":return e;default:return}}(),this.enabled()&&(null==s.DataLayerHelper&&require("dl-helper"),this.dlh=new s.DataLayerHelper(this.dl,this._on,!0))}return e.prototype.enabled=function(){var t;return"function"==typeof(null!=(t=this.dl)?t.push:void 0)},e.prototype.get=function(t){return this.enabled()?this.dlh.get(t):void 0},e.prototype.push=function(t,n){var e;return this.enabled()?this.dl.push(((e={event:t})[""+t]=n,e)):void 0},e.prototype._on=function(t,n){var e,s,i,r,o,u,h;switch(!1){case"string"!=typeof(h=n[this.conf["dl:key-vs"]]):return this.listener.on("ConductricsStateChange",h);case!Array.isArray(e=n[this.conf["dl:key-ex"]]):return this.listener.on("ConductricsCommands",{commands:e});case"string"!=typeof n.event:for(u=[],i=0,r=(o=this.subs).length;r>i;i++)s=o[i],u.push(s(n));return u}},e.prototype.sub=function(t){var e,s,i,r;if(!(n.call(this.subs,t)>=0)){if(this.enabled()&&this.conf["dl:past-events"])for(e=0,s=(r=this.dl).length;s>e;e++)"string"==typeof(i=r[e]).event&&t(i);this.subs.push(t)}},e.prototype.unsub=function(t){return this.subs.splice(this.subs.indexOf(t),1)},e}()}).call(this);
},{"dl-helper":"dl-helper"}],"dl-helper":[function(require,module,exports){
!function(){function t(t){return null==t?t+"":(t=f.exec(Object.prototype.toString.call(Object(t))))?t[1].toLowerCase():"object"}function r(t,r){return Object.prototype.hasOwnProperty.call(Object(t),r)}function n(n){if(!n||"object"!=t(n)||n.nodeType||n==n.window)return!1;try{if(n.constructor&&!r(n,"constructor")&&!r(n.constructor.prototype,"isPrototypeOf"))return!1}catch(t){return!1}for(var e in n);return void 0===e||r(n,e)}function e(t,r,n){this.b=t,this.f=r||function(){},this.d=!1,this.a={},this.c=[],this.e=o(this),i(this,t,!n);var e=t.push,c=this;t.push=function(){var r=[].slice.call(arguments,0),n=e.apply(t,r);return i(c,r),n}}function i(r,e,i){for(r.c.push.apply(r.c,e);!1===r.d&&0<r.c.length;){if("array"==t(e=r.c.shift()))t:{var o=e,f=r.a;if("string"==t(o[0])){for(var u=o[0].split("."),s=u.pop(),p=(o=o.slice(1),0);p<u.length;p++){if(void 0===f[u[p]])break t;f=f[u[p]]}try{f[s].apply(f,o)}catch(t){}}}else if("function"==typeof e)try{e.call(r.e)}catch(t){}else{if(!n(e))continue;for(var l in e)a(c(l,e[l]),r.a)}i||(r.d=!0,r.f(r.a,e),r.d=!1)}}function o(t){return{set:function(r,n){a(c(r,n),t.a)},get:function(r){return t.get(r)}}}function c(t,r){for(var n={},e=n,i=t.split("."),o=0;o<i.length-1;o++)e=e[i[o]]={};return e[i[i.length-1]]=r,n}function a(e,i){for(var o in e)if(r(e,o)){var c=e[o];"array"==t(c)?("array"==t(i[o])||(i[o]=[]),a(c,i[o])):n(c)?(n(i[o])||(i[o]={}),a(c,i[o])):i[o]=c}}var f=/\[object (Boolean|Number|String|Function|Array|Date|RegExp)\]/;window.DataLayerHelper=e,e.prototype.get=function(t){var r=this.a;t=t.split(".");for(var n=0;n<t.length;n++){if(void 0===r[t[n]])return;r=r[t[n]]}return r},e.prototype.flatten=function(){this.b.splice(0,this.b.length),this.b[0]={},a(this.a,this.b[0])}}();
},{}],"harness":[function(require,module,exports){
(function(){var t,e,n,o,r,c;e="cp-sess",o=function(t){try{return localStorage.getItem(t)}catch(t){}},n=function(t){try{return decodeURIComponent(document.cookie.replace(RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(t).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null}catch(t){}},module.exports=t={single:!0,sess_get:function(){return o(e)},sess_set:function(t){try{localStorage.setItem(e,t)}catch(t){}},sess_del:function(){try{localStorage.removeItem(e)}catch(t){}},beacon:function(e){navigator.sendBeacon?navigator.sendBeacon(e):t.http("GET",e)},http:function(t,e,n,o){var r;null==n&&(n=2e3),r=new XMLHttpRequest,null!=o&&(r.onload=function(){return o(!1,r.responseText)},r.ontimeout=function(){return o("timeout")},r.onerror=function(){return o("HTTP error ("+r.status+")")}),r.open(t,e),r.timeout=n,r.send()},st_get:function(t){var e,o;if(t)try{return null!=(e=null!=(o=n(t))?o:sessionStorage.getItem(t))?e:localStorage.getItem(t)}catch(t){}},env_get:function(){var t,e;return{mdn:(t=r())?"m":"n",v:{ua:navigator.userAgent,loc:window.location,ref:window.document.referrer,ts:Date.now()/1e3,tzo:0-(new Date).getTimezoneOffset(),dnt:!t||1===(e=navigator.doNotTrack)||"1"===e||!c(),vid:this.st_get(_d.conf["targ:vid"]),qa:this.st_get(_d.conf["qa:st-key"])},debug:"true"===o("c-conductrics-debug"),muted:"true"===o("c-conductrics-muted")}},log:function(){return"undefined"!=typeof console&&null!==console?console.log.call(this,arguments):void 0}},r=function(){try{return null!=("undefined"!=typeof document&&null!==document?document.querySelector:void 0)&&null!=window.addEventListener&&null!=window.localStorage}catch(t){return!1}},c=function(){var t;try{return t="c-storage-check",localStorage.setItem(t,1),localStorage.removeItem(t),!0}catch(t){return!1}}}).call(this);
},{}],"jsonpack":[function(require,module,exports){
("undefined"!=typeof define&&define.amd?define:function(e,r){var n=r();if("undefined"!=typeof exports)for(var t in n)exports[t]=n[t];else window.jsonpack=n})([],function(){var e=function(e){return"string"!=typeof e?e:e.replace(/[\+ \|\^\%]/g,function(e){return{" ":"+","+":"%2B","|":"%7C","^":"%5E","%":"%25","~":"%7E"}[e]})},r=function(e){return"string"!=typeof e?e:e.replace(/\+|%2B|%7C|%5E|%25/g,function(e){return{"+":" ","%2B":"+","%7C":"|","%5E":"^","%25":"%","%7E":"~"}[e]})},n=function(e){return Number.prototype.toString.call(e,36).toUpperCase()},t=function(e){return parseInt(e,36)},i=Array.prototype.indexOf||function(e,r){for(var n=r||0,t=this.length;t>n;n++)if(this[n]===e)return n;return-1};return{JSON:JSON,pack:function(r,t){t=t||{},r="string"==typeof r?this.JSON.parse(r):r;var s={strings:[],integers:[],floats:[]},f=function r(t){var f,u=typeof t;if(null===t)return{type:"null",index:-3};if(void 0===t)return{type:"undefined",index:-5};if(t instanceof Array){for(var a=["@"],o=0;o<t.length;o++)a.push(r(t[o]));return a}if("object"===u){for(var p in a=["$"],t)t.hasOwnProperty(p)&&(a.push(r(p)),a.push(r(t[p])));return a}if(""===t)return{type:"empty",index:-4};if("string"===u)return-1==(f=i.call(s.strings,t))&&(s.strings.push(e(t)),f=s.strings.length-1),{type:"strings",index:f};if("number"===u&&t%1==0)return-1==(f=i.call(s.integers,t))&&(s.integers.push(n(t)),f=s.integers.length-1),{type:"integers",index:f};if("number"===u)return-1==(f=i.call(s.floats,t))&&(s.floats.push(t),f=s.floats.length-1),{type:"floats",index:f};if("boolean"===u)return{type:"boolean",index:t?-1:-2};throw Error("Unpack type "+typeof t)}(r),u=s.strings.length,a=s.integers.length,o=(s.floats.length,s.strings.join("|"));return o+="^"+s.integers.join("|"),o+="^"+s.floats.join("|"),o+="^"+function e(r){if(r instanceof Array){for(var t=r.shift(),i=0;i<r.length;i++)t+=e(r[i])+"|";return("|"===t[t.length-1]?t.slice(0,-1):t)+"]"}var s=r.type,f=r.index;if("strings"===s)return n(f);if("integers"===s)return n(u+f);if("floats"===s)return n(u+a+f);if("boolean"===s)return r.index;if("null"===s)return-3;if("undefined"===s)return-5;if("empty"===s)return-4;throw new TypeError("The item is alien!")}(f),t.debug?{dictionary:s,ast:f,packed:o}:o},unpack:function(e,n){if("string"!=typeof e)return e;n=n||{};var i=e.split("^"),s=[],f=i[0];if(""!==f){f=f.split("|");for(var u=0;u<f.length;u++)s.push(r(f[u]))}if(""!==(f=i[1]))for(f=f.split("|"),u=0;u<f.length;u++)s.push(t(f[u]));if(""!==(f=i[2]))for(f=f.split("|"),u=0;u<f.length;u++)s.push(parseFloat(f[u]));f=void 0;var a="",o=[];for(u=0;u<i[3].length;u++){var p=i[3][u];"|"===p||"$"===p||"@"===p||"]"===p?(a&&(o.push(t(a)),a=""),"|"!==p&&o.push(p)):a+=p}var l=o.length,h=0;return function e(){var r=o[h++];if("@"===r){for(var n=[];l>h;h++){if("]"===(t=o[h]))return n;if("@"===t||"$"===t)n.push(e());else switch(t){case-1:n.push(!0);break;case-2:n.push(!1);break;case-3:n.push(null);break;case-5:n.push(void 0);break;case-4:n.push("");break;default:n.push(s[t])}}return n}if("$"===r){for(n={};l>h;h++){var t,i=o[h];if("]"===i)return n;if(i=-4===i?"":s[i],"@"===(t=o[++h])||"$"===t)n[i]=e();else switch(t){case-1:n[i]=!0;break;case-2:n[i]=!1;break;case-3:n[i]=null;break;case-5:n[i]=void 0;break;case-4:n[i]="";break;default:n[i]=s[t]}}return n}throw new TypeError("Bad token "+r+" isn't a type")}()}}});
},{}],"loader":[function(require,module,exports){
(function(){exports.Loader=function(){function n(){}return n}()}).call(this);

},{}]},{},[3,11,13,14]);
;
var run = (typeof window != 'undefined' && typeof window.name === 'string' && window.name != '__c-wa-ipe') && !( true && (window.location.search.indexOf('__c-token') >= 0) );
if (window.Conductrics && window.Conductrics.express == false) { run = false }
if (run) { new Conductrics.ClientApi({"entry":"wax","debug":false,"dataLayer":"conductricsDataLayer","globalEvents":true}).run(); }}() )