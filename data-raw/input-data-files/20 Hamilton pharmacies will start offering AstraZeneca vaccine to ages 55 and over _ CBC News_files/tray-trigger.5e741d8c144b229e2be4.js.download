(window._vfP=window._vfP||[]).push([[116],{508:function(t,n,e){},537:function(t,n,e){"use strict";e.d(n,"a",(function(){return r}));e(31);var i=function(){},o=function(t){return"$".concat(t,"_inListener")},a=function(t){return"$".concat(t,"_outListener")},s=function(t){return"$".concat(t,"_tid")},r=function(t){var n=t.inEvent,e=t.outEvent,r=t.activeClass,c=t.defaultCallback,u=void 0===c?i:c,l=t.outTimeout,f=void 0===l?50:l;return{inserted:function(t,i){var c=i.name,l=i.value,d=void 0===l?u:l,v=i.arg,h=void 0===v?r:v;t[o(c)]=function(){clearTimeout(t[s(c)]),t.classList.add(h),d(!0)},t.addEventListener(n,t[o(c)],{passive:!0}),t[a(c)]=function(){clearTimeout(t[s(c)]),t[s(c)]=setTimeout((function(){t.classList.remove(h),d(!1)}),f)},t.addEventListener(e,t[a(c)],{passive:!0})},unbind:function(t,i){var r=i.name;clearTimeout(t[s(r)]),delete t[s(r)],t.removeEventListener(n,t[o(r)]),delete t[o(r)],t.removeEventListener(e,t[a(r)]),delete t[a(r)]}}}},607:function(t,n){t.exports='<path fill=currentColor fill-rule=evenodd d="M50 3c7 0 13 3 18 7 4 5 7 11 8 18l5 28c2 7 5 10 9 12l3 3c1 1 2 2 2 5 0 2-2 5-5 5H10c-3 0-5-3-5-5 0-3 1-4 2-5l3-3c4-2 7-5 9-12l5-28c1-7 4-13 8-18 5-4 11-7 18-7zM36 83h28v1c0 8-6 14-14 14s-14-6-14-14v-1z"/> '},608:function(t,n,e){"use strict";e(508)},662:function(t,n,e){"use strict";e.r(n);e(23),e(4);var i=e(0),o=e(2),a=e(3),s=e(291),r=e(1),c=e(136),u=e(477),l=e(481),f=e(663),d=e(607),v=e.n(d),h=e(460),g=Object(h.c)("bell_icon",v.a),E=e(461),N={props:{floating:{type:String,default:"false"}},created:function(){this.MAXIMUM_BEFORE_TRUNCATION=9},mounted:function(){var t=this;window.vf.context.init(c.a.NOTIFICATIONS),this.trackAction("loaded"),this.$publish(r.G.CHANNEL,r.G.EVENTS.LOADED,this),this.$subscribe(r.G.CHANNEL,r.G.EVENTS.HIDE,(function(){t.hidden=t.isFloating})),this.$subscribe(r.G.CHANNEL,r.G.EVENTS.UNHIDE,(function(){setTimeout((function(){t.hidden=!1}),250)}));var n=window.localStorage.getItem("_vf_notification_queue_last_seen_".concat(this.currentUserUuid));this.isLoggedIn||null===n||this.$store.commit(o.ac,n)},data:function(){return{dataVfId:-1,hidden:!1}},computed:{countBadgeSize:function(){return this.isFloating?s.a.SMALL:s.a.TINY},isFloating:function(){return"true"===this.floating},isLoggedIn:function(){return this.$store.getters[i.Qb]},currentUserUuid:function(){return this.$store.getters[i.jb]},count:function(){var t=this.$store.state.notifications.broadcasts.guest_user;return this.isLoggedIn||""===t?this.$store.getters[i.mc]:0},ariaCount:function(){return this.$i18n("aria.new_notifications",{num:this.count.toString()})},ariaLabel:function(){return this.$i18n("aria.open_tray")},classes:function(){return{"vf-tray-trigger":!0,"vf-offscreen-text":this.hidden,floating:this.isFloating,"vf-tray-trigger--floating":this.isFloating}},countClasses:function(){return{"vf-tray-count":!0,"vf-tray-count--floating":this.isFloating,"vf-tray-count--has-plus":this.count>9}}},methods:{trackAction:function(t){return this.$store.dispatch(a.dd,{ui_action:t,ui_component:"indicator"})},toggle:function(){this.trackAction("clicked"),this.$publish(r.A.CHANNEL,r.A.EVENTS.TOGGLE,this.$el),this.$publish(r.G.CHANNEL,r.G.EVENTS.CLICKED)},trayIntent:function(){this.$publish(r.A.CHANNEL,r.A.EVENTS.OPEN_INTENT)}},components:{roundCountBadge:f.a,vfBellIcon:g,vfButton:E.a},directives:{hovered:l.a,innerFocus:u.a}},m=(e(608),e(46)),p=Object(m.a)(N,(function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("vf-button",{directives:[{name:"hovered",rawName:"v-hovered",value:t.trayIntent,expression:"trayIntent"},{name:"inner-focus",rawName:"v-inner-focus",value:t.trayIntent,expression:"trayIntent"}],class:t.classes,attrs:{"aria-label":t.ariaLabel,"data-vf-id":t.dataVfId},nativeOn:{click:function(n){return n.stopPropagation(),n.preventDefault(),t.toggle(n)}}},[e("round-count-badge",{directives:[{name:"show",rawName:"v-show",value:t.count>0,expression:"count > 0"}],class:t.countClasses,attrs:{count:t.count,max:t.MAXIMUM_BEFORE_TRUNCATION,"aria-label":t.ariaCount,size:t.countBadgeSize}}),t._v(" "),e("vf-bell-icon",{staticClass:"vf-icon-medium"})],1)}),[],!1,null,"8f72d16e",null);n.default=p.exports}}]);
//# sourceMappingURL=tray-trigger.5e741d8c144b229e2be4.js.map