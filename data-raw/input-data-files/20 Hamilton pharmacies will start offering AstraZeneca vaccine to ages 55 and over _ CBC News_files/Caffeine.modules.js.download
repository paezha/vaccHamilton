// CBC Caffeine Player
// version 17.14.0
// built on Wednesday, March 24th, 2021, 2:12:38 PM
CBC.APP.Caffeine.addModule("Constants.ErrorList",{FEED_FETCH:{code:1,message:"The clip we tried to show you isn't available.",debug:"API error: response code wasn't 200.",critical:!0,track:!0},FEED_CONTAINS_ERROR:{code:2,message:"We ran into a problem loading this clip.",debug:"API included errors with this feed response",critical:!1,track:!0},FEED_PARSE:{code:3,message:"We ran into a problem loading this clip. Refresh the page to try again.",debug:"Caffeine: could not parse API feed",critical:!0,track:!0},CLIP_UNAVAILABLE:{code:4,message:"The clip we tried to show you isn't available.",debug:"API feed contained 0 items.",critical:!0,track:!0},FEED_INVALID_CONTENTS:{code:5,message:"We ran into a problem loading this clip. Please try again later.",debug:"Could not construct a model from the data delivered by the API.",critical:!0,track:!0},DOM_FEATURE_UNAVAILABLE:{code:6,message:"Your browser isn't capable of using this media player.",debug:"Required DOM method or feature is not available in this browser",critical:!0,track:!0},INJECT_PLAYER_FAILED:{code:7,message:"We're having trouble loading this clip right now. Please try again later.",debug:"Error inserting Caffeine Player into DOM. Check that the surrounding markup is valid HTML and that it is valid to insert a div inside this element",critical:!0,track:!0},SLOW_PLATFORM:{code:8,message:"Hang on, this media player is taking longer than expected to load...",debug:"A feed took longer than allowed to load",critical:!0,track:!0},NO_HEARTBEAT:{code:9,message:"VideoHeartbeat Error",debug:"CBC.APP.SC.VideoHeartbeat does not exist",critical:!1,track:!1},DUPLICATE_CIID:{code:11,message:"We're having trouble loading this clip right now. Please try again later.",debug:"A duplicate ciid was provided to Caffeine. CIIDs must be unique.",critical:!0,track:!1},INVALID_CIID:{code:12,message:"We're having trouble loading this clip right now. Please try again later.",debug:"An invalid ciid was provided to Caffeine. CIIDs must be alphanumeric.",critical:!0,track:!1},INVALID_CONFIG:{code:15,message:"The clip we tried to show you isn't available.",debug:"There's an error with the configuration supplied to Caffeine.",critical:!0,track:!1},CONTAINER_SELECTOR_NULL:{code:16,message:"Could not find the specified container to add Caffeine to.",debug:"Query selector for caffeine container failed.",critical:!0,track:!1},TRACKING_ERROR:{code:17,message:"VideoHeartbeat Error",debug:"CBC.APP.SC.VideoHeartbeat function threw an error",critical:!1,track:!1},MEDIA_ERROR:{code:19,message:"Technical problems prevent us from playing this media.",debug:"The playback element threw and error that could not be recovered from",critical:!0,track:!0},AD_EXTENSION_ERROR:{code:20,message:"There as an error with ad playback.",debug:"There was a problem loading or playing ads with the IMA SDK.",critical:!1,track:!1},BLOCKED:{code:21,message:"We're sorry, this content is not available in your location. If you believe you have received this message in error please <a href='//www.cbc.ca/connects/'>contact us</a>",debug:"This content is unavailable in your area.",critical:!0,track:!1},AKAMAI_ANALYTICS_ERROR:{code:22,message:"Akamai Analytics Error",debug:"There was a problem loading Akamai Analytics",critical:!1,track:!1},TIMEOUT_ERROR:{code:23,message:"A media timeout has prevented us from playing this media.",debug:"Playback was stalled for too long, gave up",critical:!0,track:!0},HLSJS_NETWORK_ERROR:{code:24,message:"A network timeout has prevented us from playing this media.",debug:"HLS.js could not recover from a network error",critical:!0,track:!0},HLSJS_DEFAULT_ERROR:{code:25,message:"Technical problems prevent us from playing this media.",debug:"HLS.js had an uncaught error",critical:!1,track:!0},NO_COMPATIBLE_SOURCES:{code:26,message:"We cannot play this media in your browser",debug:"All sources were attempted, and none were able to play in the browser",critical:!0,track:!1},AD_FAILURE:{code:27,message:"Could not play ad",debug:"AdsErrorManager canceled a misbehaving ad.",critical:!1,track:!0},SMIL_ERROR:{code:28,message:"Technical problems prevent us from playing this media.",debug:"Could not get metadata for this media.",critical:!0,track:!0},EXCESSIVE_PLAYBACK_ISSUES:{code:29,message:"There have been many playback issues in this session.",debug:"There have been many playback issues in this session.",critical:!1,track:!0},EXPIRED_CONTENT:{code:30,message:"This content is no longer available for streaming.",debug:"This content is no longer available for streaming.",critical:!0,track:!1},ATTEMPTING_FALLBACK_ASSET:{code:31,message:"Caffeine is loading a fallback source",debug:"The first asset could not be loaded, an alternate will now be attempted",critical:!1,track:!0}},!0);!function(){for(var e in CBC.APP.Caffeine.Constants.ErrorList)CBC.APP.Caffeine.Constants.ErrorList[e].toString=function(){return this.message+"("+this.code+")"}}();CBC.APP.Caffeine.addModule("Helpers.ErrorList",CBC.APP.Caffeine.getModule("Constants.ErrorList"),!0);CBC.APP.Caffeine.addModule("Constants.Event",{CAFFEINE_READY:"caffeine.ready",CAFFEINE_ERROR:"caffeine.error",CAFFEINE_INSTANCEDESTROYED:"caffeine.instanceDestroyed",MODELSMANAGER_COMPLETED:"modelsmanager.completed",REQUESTED_MODELS_READY:"handlers.requestedmodelsready",MODEL_READY:"model.ready",PLAYER_SRCSET:"player.srcset",PLAYER_SRCERR:"player.srcerr",PLAYER_PLAYINTENT:"player.playIntent",PLAYER_INITIALPLAY:"player.initialPlay",PLAYER_STATUSCHANGE:"player.statuschange",PLAYER_READY:"player.ready",PLAYER_PLAYING:"player.playing",PLAYER_PAUSED:"player.paused",PLAYER_STOPPED:"player.stopped",PLAYER_TIMEUPDATED:"player.timeupdate",PLAYER_BUFFERUPDATED:"player.bufferupdate",PLAYER_METADATALOADED:"player.metadataloaded",PLAYER_VOLUMECHANGED:"player.volumechange",PLAYER_ENDED:"player.ended",PLAYER_COMPLETED:"player.completed",PLAYER_BITRATECHANGED:"player.bitratechange",PLAYER_SEEKSTART:"player.seekstart",PLAYER_SEEKEND:"player.seekend",PLAYER_DOCKCHANGED:"player.dockchanged",PLAYER_CUE_CHANGED:"player.cuechanged",PLAYER_REFRESHUI:"player.refreshui",PLAYER_RESIZED:"player.resized",PLAYER_CAPTIONCHANGE:"player.captionchange",PLAYER_PLAYBACK_ISSUE:"player.playbackissue",PLAYER_PLAYBACK_ISSUE_RESOLVED:"player.playbackissueresolved",CHAPTER_START:"chapter.start",CHAPTER_END:"chapter.end",INSTANCE_READY:"instance.ready",INSTANCE_TRACKSKIPPED:"instance.trackskipped",INSTANCE_ATTRIBUTION_DATA:"instance.attributiondata",HLSJS_ERRORED:"hlsjs.error",HLSJS_LEVELLOADED:"hlsjs.levelloaded",HLSJS_AUDIO_TRACKS_UPDATED:"hlsjs.audiotracksupdated",HLSJS_SET_AUDIO_TRACK:"hlsjs.set.audiotrack",HANDLER_MEDIA_URL_UPDATED:"handler.media_url_updated",SESSION_READY:"session.ready",SESSION_CLIPREADY:"session.clipready",SESSION_QUEUEUPDATED:"session.queueUpdated",SESSION_FULLSCREEN_ON:"session.fullScreenOn",SESSION_FULLSCREEN_OFF:"session.fullScreenOff",SESSION_PLAYERCREATIONSTARTED:"session.playercreationstarted",SESSION_PRELOADALLOWED:"session.preload_allowed",ADS_INITIALIZED:"ads.initialized",ADS_LOADED:"ads.loaded",ADS_STARTED:"ads.started",ADS_FIRSTQUARTILE:"ads.firstquartile",ADS_MIDPOINT:"ads.midpoint",ADS_THIRDQUARTILE:"ads.thirdquartile",ADS_COMPLETE:"ads.complete",ADS_STOPPED:"ads.stopped",ADS_ERRORED:"ads.error",ADS_BREAK_START:"ads.breakstart",ADS_BREAK_COMPLETE:"ads.breakcomplete",ADS_PAUSED:"ads.paused",ADS_RESUMED:"ads.resumed",ADS_TIME_REMAINING_UPDATE:"ads.timeremainingupdate",UI_INDIRECTUSERACTION:"ui.indirectUserAction"},!0);CBC.APP.Caffeine.addModule("Helpers.Event",CBC.APP.Caffeine.getModule("Constants.Event"),!0);CBC.APP.Caffeine.addModule("Constants.PlayerStatus",{ERROR:"error",READY:"ready",LOADING:"loading",PLAYING:"playing",ADVERTISING:"advertising",ADVERTISING_PAUSED:"advertising-paused",PAUSED:"paused"},!0);CBC.APP.Caffeine.addModule("Constants.UIElements",{BUTTON_PLAY:"play",BUTTON_PAUSE:"pause",BUTTON_STOP:"stop",BUTTON_PREVIOUS:"previous",BUTTON_NEXT:"next",BUTTON_SKIPBACK:"skipBack",BUTTON_SKIPFORWARD:"skipForward",BUTTON_MUTE:"mute",BUTTON_UNMUTE:"unmute",BUTTON_SHARE:"share",BUTTON_DOCK:"dock",BUTTON_UNDOCK:"undock",BUTTON_FULLSCREEN:"fullscreen",BUTTON_CAPTIONS_ON:"captionsOn",BUTTON_CAPTIONS_OFF:"captionsOff",SLIDER_VOLUME:"slider-volume",SLIDER_SEEK:"slider-seek",INDICATOR_PLAY:"indicate-play",INDICATOR_PAUSE:"indicate-pause",INDICATOR_STOP:"indicate-stop",INDICATOR_VOLUME_MUTE:"indicate-volume-mute",INDICATOR_VOLUME_LOW:"indicate-volume-low",INDICATOR_VOLUME_MEDIUM:"indicate-volume-medium",INDICATOR_VOLUME_HIGH:"indicate-volume-high",INDICATOR_SKIPBACK:"indicate-skipback",INDICATOR_SKIPFORWARD:"indicate-skipforward",METADATA_DURATION:"metadata-duration",METADATA_CURRENT_TIME:"metadata-current-time",METADATA_BUFFER:"metadata-buffer",METADATA_PROGRESS:"metadata-progress",CONDITIONAL_PLAY_PAUSE_STOP:"conditional-pps",CONDITIONAL_CAPTIONS:"conditional-captions",CONDITIONAL_VOLUME:"conditional-volume",CONDITIONAL_DOCK:"conditional-dock",CLICK_TO_ACTIVATE_VOLUME:"click-to-activate-volume",CLICK_TO_ACTIVATE_AUDIOTRACKS:"click-to-activate-audiotracks"},!0);CBC.APP.Caffeine.addModule("Constants.UITemplates",{READY:{VideoOndemand:["UIVideoPlaceholder.html","UIVideoIndicators.html"],VideoLive:["UIVideoPlaceholder.html","UIVideoIndicators.html"],AudioOndemand:["LegacyUIAudioOndemandShowInfo.html","LegacyUILoading.html","UIAudioPlaceholder.html"],AudioLive:["LegacyUIAudioLiveShowInfo.html","LegacyUILoading.html","UIAudioPlaceholder.html"]},PLAYING:{VideoOndemand:["UIVideoControls.html","UIVideoIndicators.html"],VideoLive:["UIVideoControls.html","UIVideoIndicators.html"],AudioOndemand:["LegacyUIAudioOndemandShowInfo.html","LegacyUILoading.html","LegacyUIAudioOndemandControlRack.html"],AudioLive:["LegacyUIAudioLiveShowInfo.html","LegacyUILoading.html","LegacyUIAudioLiveControlRack.html"]},DOCK_READY:{VideoOndemand:["UIVideoDocked.html"],VideoLive:["UIVideoDocked.html"]},DOCK_PLAYING:{VideoOndemand:["UIVideoDocked.html"],VideoLive:["UIVideoDocked.html"]}},!0);CBC.APP.Caffeine.addModule("Core.Components.Ads_DAI",function(t){"use strict";var a,i,r,o,c=this,e=CBC.APP.Caffeine,s=e._,u=e.Constants.Event,n=0,l=!1;c.on(u.HANDLER_MEDIA_URL_UPDATED,d);function d(e){C();if(o=e.extras.streamManager){o.setClickElement(t);f(!0)}}function f(e){if(o){var t=google.ima.dai.api.StreamEvent.Type,n=e?"addEventListener":"removeEventListener",a=s.values(t);o[n](a,p,!1);c[n=e?"on":"off"](u.PLAYER_CUE_CHANGED,A)}}function A(e){if("TXXX"===e.key&&0===e.data.indexOf("google")){var t={};t[e.key]=e.data;o.onTimedMetadata(t)}}function p(e){if(!l){var t=google.ima.dai.api.StreamEvent.Type;try{switch(e.type){case t.ERROR:c.trigger(u.ADS_ERRORED);break;case t.STARTED:!function(e){var t=e.getAd(),n=t.getAdId(),a=t.getDuration(),i=t.getTitle(),r=t.getAdPodInfo(),o=r.getAdPosition(),s=r.getTotalAds();c.trigger(u.ADS_LOADED,t);1===o&&m();var l={id:n,length:a,position:o,name:i,totalAds:s,isAudio:!1};c.trigger(u.ADS_STARTED,l)}(e);break;case t.COMPLETE:!function(e){var t=e.getAd().getAdId();n+=e.getAd().getDuration();c.trigger(u.ADS_COMPLETE,t);i=null}(e);break;case t.FIRST_QUARTILE:c.trigger(u.ADS_FIRSTQUARTILE);break;case t.MIDPOINT:c.trigger(u.ADS_MIDPOINT);break;case t.THIRD_QUARTILE:c.trigger(u.ADS_THIRDQUARTILE);break;case t.AD_BREAK_STARTED:m(e);break;case t.AD_BREAK_ENDED:_(e);break;case t.AD_PROGRESS:!function(e){var t=e.getStreamData().adProgressData,n=t.adBreakDuration;if(n!==a){a=n;!function(){var e=1e3*Math.ceil(a);r=window.clearTimeout(r);i&&(r=window.setTimeout(E,e))}()}i=t}(e);break;case t.CLICK:}}catch(e){window.console.error(e)}}}function m(e){c.trigger(u.ADS_BREAK_START);c.player.volume*=.667}function _(e){n=0;r=window.clearTimeout(r);c.trigger(u.ADS_BREAK_COMPLETE);c.player.volume*=1/.667}function E(){r=window.clearTimeout(r);_()}function C(){if(o){f(!1);o.reset();o.requestStream()}}return{destroy:function(){C();l=!0;c.off(u.HANDLER_MEDIA_URL_UPDATED,d)},getRemainingTime:function(){if(i)return i.adBreakDuration-n-i.currentTime;return-1},manageAds:d,pause:function(){document.querySelector(".playbackelement video").pause();c.trigger(u.ADS_PAUSED)},resume:function(){c.trigger(u.ADS_RESUMED);document.querySelector(".playbackelement video").play()}}});CBC.APP.Caffeine.addModule("Core.Components.Ads_IMA",function(i,a,e){"use strict";var r,o,s,l=this,c=CBC.APP.Caffeine,u=c.Constants.Event,d=c.Constants.PlayerStatus,f=l.session.config,A=l.session.modelsManager.getClip(l.currentClip.id),p=!1,t=!1,m=.5625;!function(){if(r)return;i.classList.add("ima");var e=null,t=c.getSettings();if(t&&t.AD_URL||f&&f.adUrl)e=t.AD_URL||f.adUrl;else if(A.getAdOrder()||"audioId"===A.getIdType())try{var n={player:"caffeine",container:f.caffeineNode,metadata:{id:A.getId(),idType:A.getIdType(),adOrder:A.getAdOrder(),adCategoryExclusion:A.getAdCategoryExclusion()}};e=CBC.APP.ADS.getURL(n)}catch(e){"object"==typeof CBC.APP.ADS&&window.console.error("Error getting ad URL from CBC.APP.ADS.getURL")}if(!e)return;(r=new google.ima.AdsLoader(a)).addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,E,!1);r.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,C,!1);(o=new google.ima.AdsRequest).adTagUrl=e;o.linearAdSlotWidth=640;o.linearAdSlotHeight=400;o.nonLinearAdSlotWidth=640;o.nonLinearAdSlotHeight=150;r.requestAds(o)}();function n(e){var t=e?"on":"off";l[t](u.PLAYER_RESIZED,U);l[t](u.PLAYER_VOLUMECHANGED,N);l[t](u.PLAYER_PLAYINTENT,v)}function _(e){if(s){var t=google.ima.AdEvent.Type,n=google.ima.AdErrorEvent.Type,a=e?"addEventListener":"removeEventListener";s[a](n.AD_ERROR,h);s[a](t.LOADED,g);s[a](t.STARTED,P);s[a](t.CONTENT_PAUSE_REQUESTED,T);s[a](t.CONTENT_RESUME_REQUESTED,I);s[a](t.COMPLETE,b);s[a](t.PAUSED,y);s[a](t.RESUMED,L);s[a](t.FIRST_QUARTILE,S);s[a](t.MIDPOINT,R);s[a](t.THIRD_QUARTILE,D)}}function E(e){var t=new google.ima.AdsRenderingSettings;t.restoreCustomPlaybackStateOnAdBreakComplete=!1;t.enablePreloading=!0;s=e.getAdsManager(l.player,t);n(!0);_(!0);l.trigger(u.ADS_INITIALIZED,s);l.player.status!==d.READY&&v()}function C(e,t){window.console.error(e.getError().toString());B()}function v(){if(!p&&s&&l.session.capabilities.canAutoplay){var e=google.ima.ViewMode,t=i.style.width.match(/\d+/),n=i.style.height.match(/\d+/);try{s.init(t,n,e.NORMAL);s.start();p=!0}catch(e){}}}function g(e){var t=e.getAd();l.trigger(u.ADS_LOADED,t);l.player.status!==d.READY&&v()}function h(e){window.console.error(e.getError().toString());l.trigger(u.ADS_ERRORED)}function P(e){var t=e.getAd(),n=t.getAdPodInfo();m=t.getWidth()/t.getHeight()||.5625;var a=k(t);M(n);var i=t.getAdId(),r=t.getDuration(),o=t.getTitle(),s={id:i,length:r,position:n.getAdPosition(),name:o,totalAds:n.getTotalAds(),isAudio:a};l.trigger(u.ADS_STARTED,s);l.player.status===d.ADVERTISING_PAUSED&&CBC.APP.Caffeine._.delay(O,10)}function T(e){switch(l.player.status){case d.PLAYING:case d.LOADING:l.pause()}var t=e.getAd(),n=t.getAdPodInfo();k(t);M(n)}function I(e){w()}function y(e){l.trigger(u.ADS_PAUSED)}function L(e){l.trigger(u.ADS_RESUMED)}function S(){l.trigger(u.ADS_FIRSTQUARTILE)}function R(){l.trigger(u.ADS_MIDPOINT)}function D(){l.trigger(u.ADS_THIRDQUARTILE)}function b(e){l.player.status===d.ADVERTISING_PAUSED&&L();var t=e.getAd(),n=t.getAdId(),a=t.getAdPodInfo(),i=a.getAdPosition(),r=a.getTotalAds();l.trigger(u.ADS_COMPLETE,n);i===r&&w()}var U=CBC.APP.Caffeine._.throttle(function(e){if(s){var t,n=i.offsetWidth||i.style.width.match(/\d+/),a=Math.ceil(n*m);t=l.fullscreenManager.fullScreen?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL;s.resize(n,a,t)}},500);function N(){s&&(l.player.muted?s.setVolume(0):s.setVolume(.667*l.player.volume))}function O(){s.pause()}function M(e){N();if(!t&&1===e.getAdPosition()){l.pause();t=!0;l.trigger(u.ADS_BREAK_START,e.getPodIndex())}}function w(){if(t){t=!1;l.trigger(u.ADS_BREAK_COMPLETE);i.classList.remove("is-audio")}}function k(e){var t=!1;try{t=-1<e.getContentType().indexOf("audio")}catch(e){}t?i.classList.add("is-audio"):i.classList.remove("is-audio");return t}function B(){_(!1);if(r){r.removeEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,E,!1);r.removeEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,C,!1);r.destroy()}s&&s.destroy();s=o=r=null;n(p=!1);i.classList.remove("ima")}return{getRemainingTime:function(){return s?s.getRemainingTime():-1},manageAds:v,pause:O,resume:function(){s.resume()},destroy:B}});CBC.APP.Caffeine.addModule("Core.Components.Ads",function(n){"use strict";var a,i,r,o,s,t,e,l,c,u=this,d=CBC.APP.Caffeine,f=d._,A=d.Constants.Event,p=d.Constants.PlayerStatus,m=d.Helpers.DateTimeFormat,_=u.session.config,E="//imasdk.googleapis.com/js/sdkloader/ima3.js",C="https://www.cbc.ca/ads/urlGenerator.js",v=!1,g=!1;u.on(A.PLAYER_RESIZED,H);if(y()&&h())T();else{h()||CBC.APP.Caffeine.addDependency(C,P,I);y()||CBC.APP.Caffeine.addDependency(E,P,I)}function h(){return"object"==typeof CBC.APP.ADS&&"function"==typeof CBC.APP.ADS.getURL}function P(){y()&&h()&&T()}function T(){!function(){var e=CBC.APP.Caffeine.Templates["Ads.html"](),t=_.caffeineNode;t.insertAdjacentHTML("afterbegin",e);a=t.querySelector(".advertisement");i=a.querySelector(".ads-video-player");r=a.querySelector(".ads-time-remaining");o=a.querySelector(".ads-count");s=a.querySelector(".ads-close");i.appendChild(n);l=new google.ima.AdDisplayContainer(i,n);H({width:_.caffeineNode.offsetWidth,height:.5625*_.caffeineNode.offsetWidth})}();L(!0);u.ima={destroy:F,get playing(){return g},pause:q,resume:V};u.player&&R()}function I(){F()}function y(){return"object"==typeof google&&"object"==typeof google.ima&&"string"==typeof google.ima.VERSION}function L(e){var t=e?"on":"off";u[t](A.PLAYER_PLAYINTENT,M);u[t](A.PLAYER_READY,w);u[t](A.PLAYER_ENDED,B);u[t](A.PLAYER_STATUSCHANGE,k,!0);u[t](A.ADS_BREAK_START,D,!0);u[t](A.ADS_BREAK_COMPLETE,O,!0);u[t](A.ADS_STARTED,U,!0);u[t](A.ADS_ERRORED,b,!0);u[t](A.ADS_COMPLETE,N,!0);t=e?"addEventListener":"removeEventListener";s&&s[t]("click",x);document[t]("click",S)}function S(){g||l&&l.initialize();document.removeEventListener("click",S)}function R(){if(!v){if(u.session.modelsManager.getClip(u.currentClip.id).isDAI())c=u.initModule("Core.Components.Ads_DAI",i);else{l&&l.initialize();c=u.initModule("Core.Components.Ads_IMA",a,l)}v=!0}}function D(){g=!0}function b(){g=!1}function U(e){g=!0;if(0<e.totalAds){o.innerHTML=f.template(" <%= position %> of <%= totalAds %>")(e)}else o.innerHTML="";t=setInterval(Y,333)}function N(){g=!1;clearInterval(t)}function O(){g=!1;clearInterval(t)}function M(){S();!c&&e&&R()}function w(){g=!1;e=null;v&&B();!v&&y()&&R()}function k(e){switch(e.to){case p.READY:break;case p.PLAYING:g=!1}}function B(){if(c){window.clearInterval(t);c.destroy();c=null;v=!1;if(g){g=!1;u.trigger(A.ADS_STOPPED)}}}function Y(){var e=Math.floor(c.getRemainingTime());u.trigger(A.ADS_TIME_REMAINING_UPDATE,e);e=m.getFormattedDuration(e);r.innerHTML="("+e+")"}function x(e){B();R()}function q(){c&&c.pause&&c.pause()}function V(){c&&c.resume&&c.resume()}function H(e){if(e&&e.width&&e.height&&a){a.style.width=e.width+"px";a.style.height=e.height+"px"}}function F(){B();L(!1);l&&l.destroy();a&&a.parentNode===_.caffeineNode&&_.caffeineNode.removeChild(a);u.off(A.PLAYER_RESIZED,H);g=!1;delete u.ima}return{destroy:F}});CBC.APP.Caffeine.addModule("Core.Components.Annotations",function(n){"use strict";var a,i,r,o=CBC.APP.Caffeine.getSettings(),s=CBC.APP.Caffeine,t=s.Helpers.Event,l=this;e(!0);function e(e){l[e?"on":"off"](t.PLAYER_READY,c)}function c(){u();l.currentClip&&l.currentClip.id&&!l.currentClip.isAudio&&o.ANNOTATIONS&&o.ANNOTATIONS[l.currentClip.id]&&function(){var e=s.Templates["Annotations.html"]({message:o.ANNOTATIONS[l.currentClip.id]});a=n.container.querySelector(".cbc-caffeine-container");var t=document.createElement("div");try{t.insertAdjacentHTML("afterbegin",e);i=t.firstChild;a.appendChild(i)}catch(e){window.console.error(e)}(r=i.querySelector(".close-button")).addEventListener("click",u)}()}function u(){r&&r.removeEventListener("click",u);i&&a.removeChild(i);i=r=null}return{destroy:function(){u();e(!1)}}});CBC.APP.Caffeine.addModule("Core.Components.AudioTracksMenu",function(){"use strict";var r,o,s=CBC.APP.Caffeine,l=this,e=s._,c=s.Helpers.Event;l.on(c.PLAYER_PLAYING,u);function u(){e.defer(t)}function t(){l.off(c.PLAYER_PLAYING,u);var e=l.player.audioTracks;if(e&&!(e.length<=1)){var t=l.session.config.container,n=t.querySelector(".audiotracks-controls");o=t.querySelector(".audiotracks-menu-container");n.classList.add("available");var a=s.Templates["AudioTracks.html"]({audioTracks:e});o.insertAdjacentHTML("beforeend",a);r=o.querySelectorAll(".menu-item > button");for(var i=0;i<r.length;i++)r[i].addEventListener("click",d)}}function d(e){var t=e.target.dataset.audiotrackid;if(t){o.querySelector(".menu-item.active").classList.remove("active");l.player.audioTrack=t;e.target.parentNode.classList.add("active")}}return{destroy:function(){l.off(c.PLAYER_PLAYING,u);if(r)for(var e=0;e<r.length;e++)r[e].removeEventListener("click",d)}}});CBC.APP.Caffeine.addModule("Core.Components.AutoPlayManager",function(e,t){var n,a,i=this,r=!1,o=!1,s=!1,l=!1,c=CBC.APP.Caffeine,u=c.Constants.Event,d=c.Constants.PlayerStatus;!function(){!function(){(a=new Audio).canPlayType("audio/ogg")?a.src="data:audio/ogg;base64,T2dnUwACAAAAAAAAAADNFExGAAAAAB5NbckBHgF2b3JiaXMAAAAAAUSsAAAAAAAAgLsAAAAAAAC4AU9nZ1MAAAAAAAAAAAAAzRRMRgEAAADoAmMEDz//////////////////MgN2b3JiaXMvAAAAWGlwaC5PcmcgbGliVm9yYmlzIEkgMjAxNDAxMjIgKFR1cnBha8OkcsOkamlpbikAAAAAAQV2b3JiaXMfQkNWAQAAAQAYY1QpRplS0kqJGXOUMUaZYpJKiaWEFkJInXMUU6k515xrrLm1IIQQGlNQKQWZUo5SaRljkCkFmVIQS0kldBI6J51jEFtJwdaYa4tBthyEDZpSTCnElFKKQggZU4wpxZRSSkIHJXQOOuYcU45KKEG4nHOrtZaWY4updJJK5yRkTEJIKYWSSgelU05CSDWW1lIpHXNSUmpB6CCEEEK2IIQNgtCQVQAAAQDAQBAasgoAUAAAEIqhGIoChIasAgAyAAAEoCiO4iiOIzmSY0kWEBqyCgAAAgAQAADAcBRJkRTJsSRL0ixL00RRVX3VNlVV9nVd13Vd13UgNGQVAAABAEBIp5mlGiDCDGQYCA1ZBQAgAAAARijCEANCQ1YBAAABAABiKDmIJrTmfHOOg2Y5aCrF5nRwItXmSW4q5uacc845J5tzxjjnnHOKcmYxaCa05pxzEoNmKWgmtOacc57E5kFrqrTmnHPGOaeDcUYY55xzmrTmQWo21uaccxa0pjlqLsXmnHMi5eZJbS7V5pxzzjnnnHPOOeecc6oXp3NwTjjnnHOi9uZabkIX55xzPhmne3NCOOecc84555xzzjnnnHOC0JBVAAAQAABBGDaGcacgSJ+jgRhFiGnIpAfdo8MkaAxyCqlHo6ORUuoglFTGSSmdIDRkFQAACAAAIYQUUkghhRRSSCGFFFKIIYYYYsgpp5yCCiqppKKKMsoss8wyyyyzzDLrsLPOOuwwxBBDDK20EktNtdVYY62555xrDtJaaa211koppZRSSikIDVkFAIAAABAIGWSQQUYhhRRSiCGmnHLKKaigAkJDVgEAgAAAAgAAADzJc0RHdERHdERHdERHdETHczxHlERJlERJtEzL1ExPFVXVlV1b1mXd9m1hF3bd93Xf93Xj14VhWZZlWZZlWZZlWZZlWZZlWYLQkFUAAAgAAIAQQgghhRRSSCGlGGPMMeegk1BCIDRkFQAACAAgAAAAwFEcxXEkR3IkyZIsSZM0S7M8zdM8TfREURRN01RFV3RF3bRF2ZRN13RN2XRVWbVdWbZt2dZtX5Zt3/d93/d93/d93/d93/d1HQgNWQUASAAA6EiOpEiKpEiO4ziSJAGhIasAABkAAAEAKIqjOI7jSJIkSZakSZ7lWaJmaqZneqqoAqEhqwAAQAAAAQAAAAAAKJriKabiKaLiOaIjSqJlWqKmaq4om7Lruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7rui4QGrIKAJAAANCRHMmRHEmRFEmRHMkBQkNWAQAyAAACAHAMx5AUybEsS9M8zdM8TfRET/RMTxVd0QVCQ1YBAIAAAAIAAAAAADAkw1IsR3M0SZRUS7VUTbVUSxVVT1VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVTVN0zRNIDRkJQAABADAYo3B5SAhJSXl3hDCEJOeMSYhtV4hBJGS3jEGFYOeMqIMct5C4xCDHggNWREARAEAAMYgxxBzyDlHqZMSOeeodJQa5xyljlJnKcWYYs0oldhSrI1zjlJHraOUYiwtdpRSjanGAgAAAhwAAAIshEJDVgQAUQAAhDFIKaQUYow5p5xDjCnnmHOGMeYcc44556B0UirnnHROSsQYc445p5xzUjonlXNOSiehAACAAAcAgAALodCQFQFAnACAQZI8T/I0UZQ0TxRFU3RdUTRd1/I81fRMU1U90VRVU1Vt2VRVWZY8zzQ901RVzzRV1VRVWTZVVZZFVdVt03V123RV3ZZt2/ddWxZ2UVVt3VRd2zdV1/Zd2fZ9WdZ1Y/I8VfVM03U903Rl1XVtW3VdXfdMU5ZN15Vl03Vt25VlXXdl2fc103Rd01Vl2XRd2XZlV7ddWfZ903WF35VlX1dlWRh2XfeFW9eV5XRd3VdlVzdWWfZ9W9eF4dZ1YZk8T1U903RdzzRdV3VdX1dd19Y105Rl03Vt2VRdWXZl2fddV9Z1zzRl2XRd2zZdV5ZdWfZ9V5Z13XRdX1dlWfhVV/Z1WdeV4dZt4Tdd1/dVWfaFV5Z14dZ1Ybl1XRg+VfV9U3aF4XRl39eF31luXTiW0XV9YZVt4VhlWTl+4ViW3feVZXRdX1ht2RhWWRaGX/id5fZ943h1XRlu3efMuu8Mx++k+8rT1W1jmX3dWWZfd47hGDq/8OOpqq+brisMpywLv+3rxrP7vrKMruv7qiwLvyrbwrHrvvP8vrAso+z6wmrLwrDatjHcvm4sv3Acy2vryjHrvlG2dXxfeArD83R1XXlmXcf2dXTjRzh+ygAAgAEHAIAAE8pAoSErAoA4AQCPJImiZFmiKFmWKIqm6LqiaLqupGmmqWmeaVqaZ5qmaaqyKZquLGmaaVqeZpqap5mmaJqua5qmrIqmKcumasqyaZqy7LqybbuubNuiacqyaZqybJqmLLuyq9uu7Oq6pFmmqXmeaWqeZ5qmasqyaZquq3meanqeaKqeKKqqaqqqraqqLFueZ5qa6KmmJ4qqaqqmrZqqKsumqtqyaaq2bKqqbbuq7Pqybeu6aaqybaqmLZuqatuu7OqyLNu6L2maaWqeZ5qa55mmaZqybJqqK1uep5qeKKqq5ommaqqqLJumqsqW55mqJ4qq6omea5qqKsumatqqaZq2bKqqLZumKsuubfu+68qybqqqbJuqauumasqybMu+78qq7oqmKcumqtqyaaqyLduy78uyrPuiacqyaaqybaqqLsuybRuzbPu6aJqybaqmLZuqKtuyLfu6LNu678qub6uqrOuyLfu67vqucOu6MLyybPuqrPq6K9u6b+sy2/Z9RNOUZVM1bdtUVVl2Zdn2Zdv2fdE0bVtVVVs2TdW2ZVn2fVm2bWE0Tdk2VVXWTdW0bVmWbWG2ZeF2Zdm3ZVv2ddeVdV/XfePXZd3murLty7Kt+6qr+rbu+8Jw667wCgAAGHAAAAgwoQwUGrISAIgCAACMYYwxCI1SzjkHoVHKOecgZM5BCCGVzDkIIZSSOQehlJQy5yCUklIIoZSUWgshlJRSawUAABQ4AAAE2KApsThAoSErAYBUAACD41iW55miatqyY0meJ4qqqaq27UiW54miaaqqbVueJ4qmqaqu6+ua54miaaqq6+q6aJqmqaqu67q6Lpqiqaqq67qyrpumqqquK7uy7Oumqqqq68quLPvCqrquK8uybevCsKqu68qybNu2b9y6ruu+7/vCka3rui78wjEMRwEA4AkOAEAFNqyOcFI0FlhoyEoAIAMAgDAGIYMQQgYhhJBSSiGllBIAADDgAAAQYEIZKDRkRQAQJwAAGEMppJRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkgppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkqppJRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoplVJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSCgCQinAAkHowoQwUGrISAEgFAACMUUopxpyDEDHmGGPQSSgpYsw5xhyUklLlHIQQUmktt8o5CCGk1FJtmXNSWosx5hgz56SkFFvNOYdSUoux5ppr7qS0VmuuNedaWqs115xzzbm0FmuuOdecc8sx15xzzjnnGHPOOeecc84FAOA0OACAHtiwOsJJ0VhgoSErAYBUAAACGaUYc8456BBSjDnnHIQQIoUYc845CCFUjDnnHHQQQqgYc8w5CCGEkDnnHIQQQgghcw466CCEEEIHHYQQQgihlM5BCCGEEEooIYQQQgghhBA6CCGEEEIIIYQQQgghhFJKCCGEEEIJoZRQAABggQMAQIANqyOcFI0FFhqyEgAAAgCAHJagUs6EQY5Bjw1BylEzDUJMOdGZYk5qMxVTkDkQnXQSGWpB2V4yCwAAgCAAIMAEEBggKPhCCIgxAABBiMwQCYVVsMCgDBoc5gHAA0SERACQmKBIu7iALgNc0MVdB0IIQhCCWBxAAQk4OOGGJ97whBucoFNU6iAAAAAAAAwA4AEA4KAAIiKaq7C4wMjQ2ODo8AgAAAAAABYA+AAAOD6AiIjmKiwuMDI0Njg6PAIAAAAAAAAAAICAgAAAAAAAQAAAAICAT2dnUwAEAAAAAAAAAADNFExGAgAAAPrUdacBAQA=":a.src="data:audio/mpeg;base64,/+MYxAAAAANIAUAAAASEEB/jwOFM/0MM/90b/+RhST//w4NFwOjf///PZu////9lns5GFDv//l9GlUIEEIAAAgIg8Ir/JGq3/+MYxDsLIj5QMYcoAP0dv9HIjUcH//yYSg+CIbkGP//8w0bLVjUP///3Z0x5QCAv/yLjwtGKTEFNRTMuOTeqqqqqqqqqqqqq/+MYxEkNmdJkUYc4AKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq";e.muted&&(a.muted=!0);a.classList.add("autoplay-test");e.caffeineNode.appendChild(a);void 0!==(n=a.play())?n.then(function(){p()}).catch(function(e){m()}):a.addEventListener("playing",p)}();A(!0)}();function f(e){if(!s){document.removeEventListener("click",f,!0);t.audio.load();t.video.load();t.ads.load();s=!0}}function A(e){var t=e?"on":"off";i[t](u.PLAYER_READY,_);t=e?"addEventListener":"removeEventListener";document[t]("click",f,!0)}function p(){s=o=r=!0;m();E()}function m(){a.removeEventListener("playing",p);n=null;a.parentNode&&a.parentNode.removeChild(a)}function _(){E()}function E(){i.player&&i.player.status===d.READY&&l&&(r||s?i.player.play():o||a.addEventListener("playing",C))}function C(){i.player.play();a.removeEventListener("playing",C)}i.autoPlayManager={get autoPlayNextMedia(){return l},set autoPlayNextMedia(e){l=!0===e},get canAutoPlay(){return r||s},destroy:function(){a.removeEventListener("playing",C);A(!1);delete i.autoPlayManager}}});CBC.APP.Caffeine.addModule("Core.Components.ClipMetadata",function(e){"use strict";var t=this,n=t.queue[e],a=t.session.modelsManager.getClip(n),i=CBC.APP.Caffeine.Helpers.DateTimeFormat;if(void 0===a)return null;function r(){return t.player&&t.player.duration?t.player.duration:a.getDuration()}function o(){return t.player?t.player.duration===1/0:a.isLive()}function s(){return a.getAirDate()}return{get id(){return a.getId()},get idType(){return a.getIdType()},get queuePosition(){return e},get title(){return a.getTitle()},get description(){return a.getDescription()},get artist(){if("music"===a.getContentArea().toLowerCase())return a.getShowName()},get album(){if("music"===a.getContentArea().toLowerCase())return a.getDescription()},get showName(){return a.getShowName()},get thumbnail(){return t.session.config.thumbnail||a.getThumbnail()||"https://www.cbc.ca/i/caffeine/images/default_video_image.jpg"},get hostImage(){return a.getHostImage()},get duration(){return r()},get formattedDuration(){var e=r();if(e!==1/0&&0!==e)return i.getFormattedDuration(e);var t=s();return 0<=Date.now()-t?"Live":"Coming Up"},get chapters(){return a.getChapters()},get currentChapterIndex(){return t.player?t.player.currentChapterIndex:0},get airDate(){return s()},get formattedAirDate(){return i.getTimeSince(s(),null,o())},get addedDate(){return a.getAddedDate()},get contentArea(){return a.getContentArea()},get season(){return a.getSeason()},get episode(){return a.getEpisode()},get type(){return a.getType()},get region(){return a.getRegion()},get sport(){return a.getSport()},get genre(){return a.getGenre()},get categories(){return a.getCategories()},get pageUrl(){return a.getPageUrl()},get isAudio(){return a.isAudio()},get isVideo(){return a.isVideo()},get isLive(){return o()},get isOnDemand(){return t.player?t.player.duration<1/0:a.isOnDemand()},get isBlocked(){return a.isBlocked()},get embeddedVia(){return a.getEmbeddedVia()},get nextClip(){return t.initModule("Core.Components.ClipMetadata",e+1)},toString:function(){return n}}});CBC.APP.Caffeine.addModule("Core.Components.Conductrics",function(){"use strict";var t,e=this,n=CBC.APP.Caffeine.Helpers.Event,a=!1;e.on(n.PLAYER_PLAYINTENT,i);function i(){e.off(n.PLAYER_PLAYINTENT,i);if(t=CBC.APP.Caffeine.getSettings().CONDUCTRICS_AGENT_ID)try{CBC.APP.AB.Testing.getDecision(t,!1,!1,r)}catch(e){window.console.error("Error getting selection from Conductrics")}}function r(e){try{a=e.data.sels[t]||!1}catch(e){window.console.error("Error parsing selection from Conductrics")}}e.session.conductrics={destroy:function(){e.off(n.PLAYER_PLAYINTENT,i);delete e.session.conductrics},get selection(){return a}};return e.session.conductrics});CBC.APP.Caffeine.addModule("Core.Components.Config",function(r){"use strict";var n=CBC.APP.Caffeine.Helpers.ErrorList,a=CBC.APP.Caffeine.getSettings(),i=Math.round(100*Math.random());function o(){var e=document.querySelector(r.containerSelector);if(null===e)throw new Error(n.CONTAINER_SELECTOR_NULL.debug);if(e.insertAdjacentHTML&&"undefined"!=typeof JSON)return e;var t=n.DOM_FEATURE_UNAVAILABLE;try{e.innerHTML=t.message}catch(e){}throw new Error(n.DOM_FEATURE_UNAVAILABLE.debug)}function t(){return e}function s(){return"cp"+Math.floor(99999*Math.random())}var e=function(){var e,t;if(r.ciid&&CBC.APP.Caffeine.getInstance(r.ciid)){t=n.DUPLICATE_CIID;o().insertAdjacentHTML("beforebegin",t.message);throw new Error(t.debug)}if(!/^([a-z_]|-[a-z_-])[a-z\d_-]*$/i.test(r.ciid)){t=n.INVALID_CIID;o().insertAdjacentHTML("beforebegin",t.message);throw new Error(t.debug)}e=r.ciid||s();for(;CBC.APP.Caffeine.getInstance(e);)e=s();return e}();return{get container(){return o()},get caffeineNode(){return function(){var e=document.getElementById("Caffeine"+t());if(!e)throw new Error(n.INJECT_PLAYER_FAILED.debug);return e}()},get ciid(){return t()},get embeddedClips(){return function(){for(var e=["audioId","audioCategoryId","mediaId","inline","clipId","categoryId","categoryName","platformQuery","liveRadioId","webRadioId","firstPlayId","neuroMediaId"],t={},n=0;n<e.length;n++){var a=e[n];if(r[a])if("platformQuery"===a){var i=JSON.stringify(r[a]);t[a]=i}else t[a]=r[a]}return t}()},get autoPlay(){return"true"==r.autoPlay||!0===r.autoPlay},get autoDock(){return"true"==r.autoDock||!0===r.autoDock},get dockEventsOnly(){return"true"==r.dockEventsOnly||!0===r.dockEventsOnly},get playerWidth(){return function(){if(void 0!==r.playerWidth)return 0<parseInt(r.playerWidth)?parseInt(r.playerWidth):void 0}()},get forceVideo(){return"true"==r.forceVideo||!0===r.forceVideo},get adPolicy(){return!!r.adPolicy&&r.adPolicy},get thumbnail(){return function(){if(r.thumbnail){r.thumbnail=decodeURIComponent(r.thumbnail);return!!/[-a-zA-Z0-9@:%_\+.~#?&\/=]{2,256}\.[a-z]{2,4}\b(\/[-a-zA-Z0-9@:%_\+.~#?&\/=]*)?/gi.test(r.thumbnail)&&r.thumbnail}return!1}()},get shareUrl(){return function(){if(r.shareUrl){r.shareUrl=decodeURIComponent(r.shareUrl);return!!/(http|https):\/\/(www\.)?[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&\/=]*)/g.test(r.shareUrl)&&r.shareUrl}return!1}()},get noCompanion(){return"true"==r.noCompanion||!0===r.noCompanion},get adUrl(){return!!r.adUrl&&r.adUrl},get playlistLimit(){return function(){var e=void 0!==r.playlistLimit&&/^\d+$/.test(r.playlistLimit)?Number(r.playlistLimit):1/0;0===e&&(e=1);return e}()},get sort(){return void 0!==r.sort&&"dateadded"===r.sort.toLowerCase()?"dateAdded":"dateAired"},get playlistThumbnails(){return function(){switch(r.playlistThumbnails){case"host":return"host";case"false":return!1;default:return"default"}}()},get playlistContainer(){return document.querySelector(r.playlistSelector)},get continuousPlay(){return"true"==r.continuousPlay||!0===r.continuousPlay},get editablePlaylist(){return"true"==r.editablePlaylist||!0===r.editablePlaylist},get musicDJUid(){return!!r.musicDJUid&&r.musicDJUid},get beta(){return function(){var e=!1;e=!0===r.beta||"true"===r.beta;if(a.FORCE_INTERNAL_BETA){var t=CBC.APP.Caffeine.Helpers.Utils.getIsInternal();a.FORCE_INTERNAL_BETA&&t&&(e=!0)}i<=a.FORCE_BETA_THRESHOLD&&(e=!0);var n=decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent("avcaff_beta").replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"));"false"===n?e=!1:"true"===n&&(e=!0);return e}()},get maxHeight(){return function(){if(void 0!==r.maxHeight)return 0<parseInt(r.maxHeight)?parseInt(r.maxHeight):void 0}()},get env(){return/^[a-zA-Z0-9]{2,25}$/.test(r.env)?r.env:void 0},get disableRecommend(){return"true"==r.disableRecommend||!0===r.disableRecommend},get headless(){return"true"==r.headless||!0===r.headless},get muted(){return"true"==r.muted||!0===r.muted}}});CBC.APP.Caffeine.addModule("Core.Components.DockManager",function(){"use strict";var e,a,i,n,r=this,o=CBC.APP.Caffeine.Helpers.Event,t=CBC.APP.Caffeine.Constants.PlayerStatus,s=r.session.config,l=!1,c=!1,u=!1,d=CBC.APP.Caffeine.autoDockDisabled;!function(){a=s.caffeineNode;if(!(u=s.dockEventsOnly)){!function(){e=r.player.initModule("Players.UI.UserInterface","DockPlaceholder.html",s.container);i=e.html;n=i.querySelector("button.undock")}();r.on(o.PLAYER_RESIZED,_)}m(!0)}();function f(){window.removeEventListener("scroll",v);if(c){d=!0;CBC.APP.Caffeine.autoDockDisabled=!0}}function A(){if(!l){window.removeEventListener("scroll",v);l=!0;u?r.trigger(o.PLAYER_DOCKCHANGED,{isDocked:!0}):function(){a.classList.add("docked");i.style.display="flex";r.off(o.PLAYER_RESIZED,_);r.trigger(o.PLAYER_DOCKCHANGED,{isDocked:!0})}()}}function p(){if(l){window.removeEventListener("scroll",v);l=c=!1;u?r.trigger(o.PLAYER_DOCKCHANGED,{isDocked:!1}):function(){a.classList.remove("docked");i.style.display="none";r.on(o.PLAYER_RESIZED,_);r.trigger(o.PLAYER_DOCKCHANGED,{isDocked:!1})}()}}function m(e){var t=e?"addEventListener":"removeEventListener";s.autoDock&&!d&&window[t]("scroll",v);if(!u){n[t]("click",f);r[t=e?"on":"off"](o.PLAYER_STATUSCHANGE,C);r[t](o.SESSION_FULLSCREEN_ON,E)}}function _(e){i.style.width=e.width+"px";i.style.height=e.height+"px"}function E(){p()}function C(e){i.setAttribute("data-status",e.to)}function v(){if(r.player.status===t.PLAYING)if(l&&g())p();else if(!l&&!g()){c=!0;A()}}function g(){var e,t=(e=l?i.getBoundingClientRect():a.getBoundingClientRect()).top+e.height/3<=0,n=e.bottom>=document.documentElement.clientHeight+e.height/3;return!(t||n)}return{get docked(){return l},set docked(e){e&&!l?A():!e&&l&&p()},destroy:function(){m(!1);p();if(!u){r.off(o.PLAYER_RESIZED,_);e.destroy()}}}});CBC.APP.Caffeine.addModule("Core.Components.ErrorLogger",function(r){"use strict";var o,s=this,e=CBC.APP.Caffeine,t=e.Constants.Event,n=e.getSettings(),l=n.CBC_DOMAIN+"/i/caffeine/js/libs/raygun.vanilla.min.js",c=!1,u=[];s.on(t.CAFFEINE_ERROR,a);function a(e){e.track&&i(e);window.console&&window.console.error&&window.console.error("Caffeine Error: "+e.debug)}function d(){(o=Raygun.noConflict()).init(n.RAYGUN_API_KEY);o.setVersion("17.14.0");var e=function(){var e={};s.session.userManager&&(e=s.session.userManager.getRecSysUserId()||{});for(var t,n=[{name:"Music DJ",value:s.session.config.musicDJUid},{name:"CBC Plus",value:e.cbc_plus},{name:"CBC Visitor",value:e.cbc_visitor}],a=0;a<n.length;a++){var i=n[a];if(i.value){t=i.value;break}}return t}();o.setUser(e);o.onBeforeSend(function(e){try{e.Details.User.UUID||e.Details.User.Identifier}catch(e){}return e});c=!0;for(var t=0;t<u.length;t++){i(u[t])}u=[]}function i(e){if(c)try{var t,n="Error "+e.code+": "+e.debug;try{throw new Error(n)}catch(e){t=e}var a=CBC.APP.Caffeine.Helpers.Utils.getIsInternal(),i=JSON.parse(JSON.stringify({config:r,isInternal:a}));s.player&&Object.assign(i,{playheadTime:Math.floor(1e3*s.player.currentTime),playerStatus:s.player.status,currentChapterIndex:s.player.currentChapterIndex,mediaId:s.player.currentClip});i.feedUrl=e.feedUrl;i.feedResponse=e.feedResponse;i.feedStatus=e.feedStatus;e.jsError&&(i.jsError=e.jsError.name+": "+e.jsError.message);o.send(t,i)}catch(e){if(window.console){window.console.log("Raygun error:");window.console.log(e)}}else{CBC.APP.Caffeine.addDependency(l,d);u.push(e)}}return{destroy:function(){s.off(t.CAFFEINE_ERROR,a)}}});CBC.APP.Caffeine.addModule("Core.Components.EventLogger",function(){"use strict";var n=CBC.APP.Caffeine._,a=this,i=CBC.APP.Caffeine.Helpers.Event,r=[],o={},t=[i.PLAYER_TIMEUPDATED,i.PLAYER_BUFFERUPDATED];!function(){for(var e in i)i.hasOwnProperty(e)&&-1===n.indexOf(t,i[e])&&s(e)}();function s(t){var e=function(){var e={name:t,args:n.clone(CBC.APP.Caffeine._.toArray(arguments)),timestamp:Date.now()};r.push(e)};a.on(i[t],e);o[t]=e}a.eventLogger={getEventsFromLast:function(e){if(!e)return r;for(var t=r.length-1;-1<t;t--)if(r[t].name===e)return r.slice(t)},destroy:function(){r=[];for(var e in o){a.off(i[e],o[e]);delete o[e]}delete a.eventLogger}}});CBC.APP.Caffeine.addModule("Core.Components.FeedQueue",function(){"use strict";function i(e,t){var n,a=[];if("string"!=typeof e)throw new Error("FeedQueue.Item requires a URL to load");Object.defineProperty(this,"url",{get:function(){return e}});Object.defineProperty(this,"request",{get:function(){return n}});Object.defineProperty(this,"callbacks",{get:function(){return a.slice(0)}});this.addCallback=function(e){if("function"!=typeof e)throw new Error("FeedQueue.Item callback must be a function");a.push(e)};this.resolve=function(e){if(!(e instanceof XMLHttpRequest))throw new Error("FeedQueue.Item must be resolved with an XMLHttpRequest");n||(n=e);for(var t=0;t<a.length;t++)a[t].call(this);a=[]};this.reject=function(){a=[]};this.merge=function(e){a=a.concat(e.callbacks)};t&&this.addCallback(t);Object.seal(this)}var r={};return{QueueItem:i,add:function(t){if(!(t instanceof i))throw new Error("FeedQueue.add requires a FeedQueue.Item");var e=r[t.url];if(e)e.merge(t);else{var n=new i(t.url);n.merge(t);r[t.url]=n;CBC.APP.Caffeine.getXhr(n.url,a,a)}function a(){var e=r[t.url];delete r[t.url];e.resolve(this)}},destroy:function(){for(var e in r)r.hasOwnProperty(e)&&r[e].reject()}}});CBC.APP.Caffeine.addModule("Core.Components.FullscreenManager",function(e,a){var n=this,i=!1,r=!1,o=CBC.APP.Caffeine.Helpers.Event,s=e.caffeineNode;!function(){s.requestFullscreen&&document.addEventListener("fullscreenchange",u);s.webkitRequestFullscreen&&document.addEventListener("webkitfullscreenchange",d);s.mozRequestFullScreen&&document.addEventListener("mozfullscreenchange",f);s.msRequestFullscreen&&document.addEventListener("msfullscreenchange",A);n.on(o.PLAYER_METADATALOADED,p);n.on(o.PLAYER_ENDED,m)}();function t(){return document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled}function l(e){e&&!i?(n=s.requestFullscreen||s.webkitRequestFullscreen||s.mozRequestFullScreen||s.msRequestFullscreen)?n.call(s):r&&a.video.webkitEnterFullscreen():!e&&i&&(t=document.exitFullscreen||document.webkitExitFullscreen||document.mozCancelFullScreen||document.msExitFullscreen)&&t.call(document);var t,n;s.focus()}function c(e){var t=i;i=!!e;t&&!e?n.trigger(o.SESSION_FULLSCREEN_OFF):!t&&e&&n.trigger(o.SESSION_FULLSCREEN_ON)}function u(){c(document.fullscreenElement)}function d(){c(document.webkitFullscreenElement)}function f(){c(document.mozFullScreenElement)}function A(){c(document.msFullscreenElement)}function p(){!t()&&a.video.webkitSupportsFullscreen&&(r=!0)}function m(){r&&(r=!1)}n.fullscreenManager={get fullScreen(){return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement},set fullScreen(e){l(e)},get canFullscreen(){return t()||r},destroy:function(){document.removeEventListener("fullscreenchange",u);document.removeEventListener("webkitfullscreenchange",d);document.removeEventListener("mozfullscreenchange",f);document.removeEventListener("msfullscreenchange",A);n.off(o.PLAYER_METADATALOADED,p);n.off(o.PLAYER_ENDED,m);delete n.fullscreenManager}}});CBC.APP.Caffeine.addModule("Core.Components.Heartbeat",function(){"use strict";var i,r,o,n,s=this,e=CBC.APP.Caffeine,l=e.Constants.Event,c=e.Constants.ErrorList,u=e.Helpers.DateTimeFormat,d=e._,t=!1,a=!1,f=0,A=!0,p={};!function(){try{i=CBC.APP.SC.VideoHeartbeat;r=i.init({playerName:"cbc-caffeine-heartbeat",comScore:!0})}catch(e){s.trigger(l.CAFFEINE_ERROR,c.NO_HEARTBEAT)}q=d.throttle(q,1e3,{trailing:!1});m(!0)}();function m(e){var t=e?"on":"off";s[t](l.PLAYER_INITIALPLAY,D);s[t](l.PLAYER_ENDED,V);s[t](l.PLAYER_PLAYING,b);s[t](l.PLAYER_PAUSED,U);s[t](l.CHAPTER_START,N);s[t](l.CHAPTER_END,O);s[t](l.PLAYER_SEEKSTART,M);s[t](l.PLAYER_SEEKEND,w);s[t](l.ADS_BREAK_START,k);s[t](l.ADS_BREAK_COMPLETE,B);s[t](l.ADS_STARTED,Y);s[t](l.ADS_COMPLETE,x);s[t](l.PLAYER_TIMEUPDATED,q);s[t](l.INSTANCE_ATTRIBUTION_DATA,_)}function _(t){["name","instance","position","value"].forEach(function(e){t[e]&&(p[e]=t[e])})}function E(){var e=o,t={keywords:e.getKeywords(),streamtitle:e.getTitle(),contentarea:e.getContentArea(),source:e.getIdType(),type:e.getType(),show:e.isLive()?"":e.getShowName(),genre:e.getGenre(),audiovideo:e.isAudio()?"audio":"video",totalchapters:e.isLive()?"1":e.getChapters().length+"",uid:e.getId()+"",partnername:e.getMediaPublisherName(),sponsorname:e.getBrandedSponsorName(),department:e.getOriginalDepartment()};0!==Object.keys(p).length&&(t.feature=p);var n={liveondemand:e.isLive()?"Live":"On-Demand",pdkplayername:"cbc-caffeine-heartbeat"},a={streamType:e.isLive()?"live":"vod",playhead:s.player.currentTime,length:T(s.currentClip.id)?g():o.isLive()?-1:o.getDuration(),cbcContextVideo:t};switch(e.getIdType()){case"webRadioId":a.streamType="live";a.length=-1;t.streamtitle=e.getDescription();t.totalchapters="-1";delete t.show;break;case"firstPlayId":a.length=g();t.streamtitle=e.getDescription();t.totalchapters=h().length+"";break;case"mediaId":case"liveRadioId":t.seasonnumber=e.getSeason()+"";t.episodenumber=e.getEpisode()+"";t.region=e.getRegion();t.airDate=u.getIso8601Date(e.getAirDate());t.sport=e.getSport();a.playerContextVideo=n;break;case"audioId":t.airDate=u.getIso8601Date(e.getAirDate());a.playerContextVideo=n;delete t.genre}return a}function C(){var e=s.session.modelsManager.getClip(s.currentClip.id),t=!!o;t&&(t=o.getId()===e.getId());t&&(t=n===s.currentClip.queuePosition);return!t}function v(){if(a||C()){n=s.currentClip.queuePosition;o=s.session.modelsManager.getClip(s.currentClip.id);a=!1;if(!t||!T(s.currentClip.id)||!I(e=s.session.queueactiveposition,e-1)){t&&R();H("videoLoad",A,E());p={};t=o;var e}}}function g(){for(var e=0,t=h(),n=0;n<t.length;n++)e+=t[n].getDuration();return 0<e&&e<1/0?e:-1}function h(){var e,t,n=[o],a=s.queue,i=s.session.queueactiveposition;for(e=i-1;0<=e;e--){t=s.session.modelsManager.getClip(a[e]);if(!I(e,i))break;n.push(t)}for(e=i+1;e<a.length;e++){t=s.session.modelsManager.getClip(a[e]);if(!I(e,i))break;n.push(t)}return n}function P(e){for(var t=0,n=e-1;0<=n&&I(e,n);){var a=s.queue[n];t+=s.session.modelsManager.getClip(a).getDuration();n--}return t}function T(){for(var e=["webRadioId","firstPlayId"],t=0;t<arguments.length;t++){var n=arguments[t];if(!n)return!1;var a=s.session.modelsManager.getClip(n);if(-1===e.indexOf(a.getIdType()))return!1}return!0}function I(e,t){var n=s.queue[e],a=s.queue[t];if(!n||!a)return!1;if(!T(n,a))return!1;var i=s.session.modelsManager.getClip(n),r=s.session.modelsManager.getClip(a);return i.getIdType()===r.getIdType()&&d.isEqual(i.getEmbeddedVia(),r.getEmbeddedVia())}function y(e){return T(s.currentClip.id)?function(){for(var e=1,t=s.session.queueactiveposition-1;0<=t&&I(t,s.session.queueactiveposition);){e++;t--}return e}():e+1}function L(){return!o.isLive()&&(!T(s.currentClip.id)||o.isOnDemand()&&!I(e=s.session.queueactiveposition,e+1));var e}function S(){return Math.round(s.player.currentTime)}function R(){H("videoUnload",!A);t=!1}function D(){v()}function b(){H("videoPlay",A)}function U(){H("videoPause",A)}function N(e){var t,n=o.getChapters()[e],a={length:function(e){var t=o.getChapters();if(e<0||e>=t.length)return-1;var n,a=t[e];n=e===t.length-1?o.getDuration()-a.startTime:t[e+1].startTime-a.startTime;n<=0&&(n=-1);return n}(e),position:y(e),startTime:(t=e,T(s.currentClip.id)?P(s.session.queueactiveposition):o.getChapters()[t].startTime),playhead:T(s.currentClip.id)?P(s.session.queueactiveposition):S()};switch(o.getIdType()){case"liveRadioId":a.cbcContextChapter={show:n.name};break;case"firstPlayId":case"webRadioId":a.cbcContextChapter={author:o.getShowName(),chaptertitle:o.getTitle()}}H("chapterStart",!A,a)}function O(e){H("chapterComplete",A)}function M(){H("seekStart",A)}function w(){H("seekComplete",A)}function k(e){C()&&v();f++;var t;switch(e){case-1:t="post-roll";break;case 0:t="pre-roll";break;default:t="mid-roll-"+e}H("adBreakStart",A,{name:t,position:f})}function B(){H("adBreakComplete",A)}function Y(e){H("adStart",!A,{id:e.id,length:e.length,position:e.position,name:e.name})}function x(e){H("adComplete",!A,{id:e})}function q(){H("updatePlayHead",A)}function V(){if(o){if(L()){a=!0;H("videoComplete",A)}else if(o.isLive()){a=!0;R()}f=0}}function H(e,t,n){if(!0===t){n||(n={});n.playhead=S()}if("updatePlayHead"!==e&&window.debugCaffeineHeartbeat){window.console.log("%c Heartbeat "+e,"color: blue");window.console.log(n)}if(i)try{var a=[r];n&&a.push(n);i[e].apply(window,a)}catch(e){s.trigger(l.CAFFEINE_ERROR,c.TRACKING_ERROR)}}return{destroy:function(){i&&i.destroy();m(!1)}}});CBC.APP.Caffeine.addModule("Core.Components.Keyboard",function(n){"use strict";var a=this,i={SPACE_BAR:32,UP_ARROW:38,DOWN_ARROW:40,RIGHT_ARROW:39,LEFT_ARROW:37},e=CBC.APP.Caffeine,r=e.Constants.Event,o=e.Constants.PlayerStatus,s=e.Constants.UIElements;n.caffeineNode.addEventListener("keydown",t);function t(e){if(!(e.altKey||e.ctrlKey||e.metaKey||e.shiftKey))switch(e.keyCode){case i.SPACE_BAR:!function(e){if(document.activeElement===n.caffeineNode||l(n.caffeineNode,document.activeElement)&&"BUTTON"!==document.activeElement.tagName.toUpperCase()){e.preventDefault();!function(){if(!a.player)return;if(a.player.status===o.PLAYING&&a.player.metadata.isLive){a.player.stop();a.trigger(r.UI_INDIRECTUSERACTION,s.INDICATOR_STOP)}else if(a.player.status===o.PLAYING){a.player.pause();a.trigger(r.UI_INDIRECTUSERACTION,s.INDICATOR_PAUSE)}else{a.player.play();a.trigger(r.UI_INDIRECTUSERACTION,s.INDICATOR_PLAY)}}()}}(e);break;case i.UP_ARROW:case i.DOWN_ARROW:!function(e){if(document.activeElement===n.caffeineNode||l(n.caffeineNode,document.activeElement)&&"INPUT"!==document.activeElement.tagName.toUpperCase()){var t=e.keyCode==i.UP_ARROW?.1:-.1;e.preventDefault();!function(e){if(!a.player)return;var t,n=Math.round(10*(a.player.volume+e))/10;0===n?t=s.INDICATOR_VOLUME_MUTE:0<n&&n<=.333?t=s.INDICATOR_VOLUME_LOW:.333<n&&n<=.667?t=s.INDICATOR_VOLUME_MEDIUM:.667<n&&n<=1&&(t=s.INDICATOR_VOLUME_HIGH);if(t){a.player.volume=n;a.trigger(r.UI_INDIRECTUSERACTION,t)}}(t)}}(e);break;case i.LEFT_ARROW:case i.RIGHT_ARROW:!function(e){if(!a.player)return;if(a.player.status===o.ADVERTISING)return;if(a.player.status===o.ADVERTISING_PAUSED)return;if(document.activeElement===n.caffeineNode||document.activeElement.classList.contains("seek")||l(n.caffeineNode,document.activeElement)&&"INPUT"!==document.activeElement.tagName.toUpperCase()){var t=e.keyCode==i.LEFT_ARROW?-5:5;e.preventDefault();a.player.currentTime=t+a.player.currentTime;a.trigger(r.UI_INDIRECTUSERACTION,e.keyCode==i.LEFT_ARROW?s.INDICATOR_SKIPBACK:s.INDICATOR_SKIPFORWARD)}}(e);break;case 27:a.session.ui.closeOverlay();a.session.ui.closeContextMenu();e.preventDefault();break;case 192:a.session.ui.openOverlay("playbackstats");e.preventDefault()}}function l(e,t){for(var n=t.parentNode;null!==n;){if(n==e)return!0;n=n.parentNode}return!1}return{destroy:function(){document.removeEventListener("keydown",t)}}});CBC.APP.Caffeine.addModule("Core.Components.LocalStorage",function(){"use strict";var t,a,i,r,n=this,o=CBC.APP.Caffeine.Helpers.Event;!function(){try{a=window.localStorage;i=JSON.parse(a.getItem("caffeine"))||{}}catch(e){return}e(!0)}();function s(e){if(void 0!==a){var t=i[r];return void 0===t?null:void 0===e?t[r]:t?t[e]:null}}function e(e){var t=e?"addEventListener":"removeEventListener";window[t]("beforeunload",u);n[t=e?"on":"off"](o.PLAYER_READY,c);n[t](o.PLAYER_INITIALPLAY,l);n[t](o.PLAYER_COMPLETED,d)}function l(){var e=s("currentTime");t.isOnDemand()&&0<e&&(n.player.currentTime=e)}function c(){t=n.session.modelsManager.getClip(n.player.currentClip);r=t.getId();var e=s("lastModified");1728e5<Date.now()-e&&function(){delete i[r];try{a.setItem("caffeine",JSON.stringify(i))}catch(e){}}()}function u(){d()}function d(){if(n.player&&void 0!==a&&function(){var e=!0;-1===["audioId","mediaId"].indexOf(t.getIdType())&&(e=!1);t.isLive()&&(e=!1);return e}()){var e=n.player.currentTime;.9<=e/t.getDuration()&&(e=0);e!==(s("currentTime")||0)&&function(e,t){if(void 0!==a){var n=s()||{};null===n&&(n={});if(void 0===t)delete n[e];else{n[e]=t;n.lastModified=Date.now()}Object.keys(n).length<2?delete i[r]:i[r]=n;try{a.setItem("caffeine",JSON.stringify(i))}catch(e){}}}("currentTime",e)}}return{destroy:function(){e(!1);t&&d()}}});CBC.APP.Caffeine.addModule("Players.Components.MediaSessionAPI",function(){"use strict";var t,n=this,a=CBC.APP.Caffeine.Helpers.Event,i=CBC.APP.Caffeine.Constants.PlayerStatus,r=navigator.mediaSession,o=window.MediaMetadata;CBC.APP.Caffeine._.defer(function(){if(!r)return;e(!0)});function e(e){var t=e?"on":"off";n[t](a.PLAYER_READY,s);n[t](a.PLAYER_STATUSCHANGE,l);n[t](a.SESSION_QUEUEUPDATED,c);if(e){r.setActionHandler("play",u);r.setActionHandler("pause",d);r.setActionHandler("seekbackward",A);r.setActionHandler("seekforward",f);c()}}function s(){t=n.session.modelsManager.getClip(n.player.currentClip);navigator.mediaSession.metadata=(e=t.getHostImage()||t.getThumbnail()||"https://www.cbc.ca/i/caffeine/images/default_video_image.jpg",new o({title:t.getTitle(),artist:t.getShowName(),album:t.getDescription(),artwork:[{src:e+"?resize=*:96px&crop=h:h;*,*",sizes:"96x96",type:"image/jpeg"},{src:e+"?resize=*:128px&crop=h:h;*,*",sizes:"128x128",type:"image/jpeg"},{src:e+"?resize=*:192px&crop=h:h;*,*",sizes:"192x192",type:"image/jpeg"},{src:e+"?resize=*:256px&crop=h:h;*,*",sizes:"256x256",type:"image/jpeg"},{src:e+"?resize=*:384px&crop=h:h;*,*",sizes:"384x384",type:"image/jpeg"},{src:e,sizes:"512x512",type:"image/jpeg"}]}));var e}function l(e){switch(e.to){case i.PLAYING:case i.ADVERTISING:r.playbackState="playing";break;case i.PAUSED:case i.ADVERTISING_PAUSED:r.playbackState="paused";break;default:r.playbackState="none"}}function c(){if(1<n.queue.length){r.setActionHandler("previoustrack",p);r.setActionHandler("nexttrack",m)}else{r.setActionHandler("previoustrack",null);r.setActionHandler("nexttrack",null)}}function u(){n.play()}function d(){n.pause()}function f(){n.player.currentTime+=30}function A(){n.player.currentTime-=15}function p(){n.playPrevTrack()}function m(){n.playNextTrack()}n.mediaSession={destroy:function(){e(!1);if(r){r.metadata=null;r.playbackState="none"}delete n.mediaSession}}});CBC.APP.Caffeine.Model=function(a,e){"use strict";var i=CBC.APP.Caffeine._,t=CBC.APP.Caffeine,n=t.Helpers.Event,r=t.Helpers.DateTimeFormat,o=e,s=[],l=this;this.getId=function(){return o.id};!function(){for(var e=0;e<o.assetDescriptors.length;e++){var t=a.initModule("Helpers.AssetDescriptor",l.getId(),o.assetDescriptors[e].loader,o.assetDescriptors[e].key,o.assetDescriptors[e].mimeType,o.assetDescriptors[e].codec);s.push(t)}}();function c(e,t){return void 0!==e&&void 0!==o[e]?o[e]:void 0!==t?t:""}this.getIdType=function(){return o.idType};this.getTitle=function(){return c("title")};this.getDescription=function(){return c("description")};this.getCategories=function(){return c("categories")};this.getThumbnail=function(){return c("thumbnail")};this.getHostImage=function(){return c("hostImage")};this.isLive=function(){return c("isLive")};this.getDuration=function(){return-1===o.duration?1/0:c("duration",0)};this.getFormattedDuration=function(){return l.isLive()?"Live":r.getFormattedDuration(l.getDuration())};this.getChapters=function(){return c("chapters")};this.getShowName=function(){if("liveRadioId"!==this.getIdType())return c("showName");var e="";if(a.player){for(var t=this.getChapters(),n=t.length-1;0<=n&&!(Date.now()>=t[n].startTime);n--);0<=n&&(e=t[n].name)}return e};this.getOriginalDepartment=function(){return c("originalDepartment")};this.getBrandedSponsorName=function(){return c("brandedSponsorName")};this.getMediaPublisherName=function(){return c("mediaPublisherName")};this.getKeywords=function(){return c("keywords")};this.getAirDate=function(){return c("airDate")};this.getFormattedAirDate=function(){return r.getFormattedDate(l.getAirDate())};this.getAddedDate=function(){return c("addedDate")};this.getFormattedAddedDate=function(){return r.getFormattedDate(l.getAddedDate())};this.getContentArea=function(){return c("contentArea")};this.getType=function(){return c("type")};this.getRegion=function(){return c("region")};this.getSport=function(){return c("sport")};this.getGenre=function(){return c("genre")};this.getSeason=function(){return c("season")};this.getEpisode=function(){return c("episode")};this.getToken=function(){return c("token")};this.getPageUrl=function(){return c(encodeURI("pageUrl"))};this.isAudio=function(){return c("isAudio")};this.isVideo=function(){return void 0===o.isVideo?!l.isAudio():o.isVideo};this.isOnDemand=function(){return c("isOnDemand")};this.isDRM=function(){return c("isDRM")};this.getCaptions=function(){return c("captions")};this.isBlocked=function(){return c("isBlocked")};this.isDAI=function(){return c("isDAI")};this.getExcludeFromRecommendations=function(){return c("excludeFromRecommendations")};this.getEmbeddedVia=function(){return c("embeddedVia")};this.getAdOrder=function(){return c("adOrder")};this.getAdCategoryExclusion=function(){return c("adCategoryExclusion")};this.getAssetDescriptors=function(){return s};this.getAdUrl=function(){var e=c("adUrl");if(e){if(""!==(e=i.template(e)({ix_u:document.location.href.replace(location.hash,""),url:document.location.href.replace(location.hash,"")}))){var t,n="&cust_params=plat%3Dcaffeine";(t=document.referrer.split("/"),-1<i.indexOf(t,"amp"))&&(n+="%26env%3Damp");window.CAFFEINE_AD_ENV&&"fb"===window.CAFFEINE_AD_ENV&&(n+="%26env%3Dfb");return e+n}}};CBC.APP.Caffeine._.defer(function(){a.trigger(n.MODEL_READY,l)})};CBC.APP.Caffeine.addModule("Core.Components.ModelsManager",function(){"use strict";var t=this,n=t.session.config,a=CBC.APP.Caffeine.Helpers.Event,i=CBC.APP.Caffeine._,r={},o=0,s=t.initModule("Handlers.Inline"),l=t.initModule("Handlers.Bistro");t.on(a.MODEL_READY,e);t.on(a.REQUESTED_MODELS_READY,c);function e(e){r[e.getId()]||(r[e.getId()]=e);t.trigger(a.SESSION_CLIPREADY,e.getId())}function c(e){0===--o&&i.defer(function(){t.trigger(a.MODELSMANAGER_COMPLETED)})}t.session.modelsManager={destroy:function(){delete t.session.modelsManager;s.destroy();l.destroy();t.off(a.MODEL_READY,e);t.off(a.REQUESTED_MODELS_READY,c)},requestClips:function(e,t){if(e.inline){var n=i.pick(e,"inline");s.requestClips(n);delete e.inline;o++}if(!i.isEmpty(e)){l.requestClips(e,t);o++}},getClip:function(e){return r[e]},getAllClips:function(e){var t=function(e){var t=i.sortBy(e,function(e){return e["dateAdded"==n.sort?"getAddedDate":"getAirDate"]()});t.reverse();return t}(r);e&&(t=i.first(t,e));return t},getNumClips:function(){return i.size(r)}}});CBC.APP.Caffeine.addModule("Core.Components.MusicDJPlaybackTracking",function(){"use strict";var i=this,e=CBC.APP.Caffeine,t=e.Helpers.Event,n=e.getSettings(),r=n.MUSIC_DJ_PLAYBACK_LOG_URL,o=n.MUSIC_DJ_PLATFORM_ID;i.on(t.PLAYER_INITIALPLAY,a);function a(){var e=i.currentClip.id,t=i.session.modelsManager.getClip(e);if("webRadioId"===t.getIdType()){var n=t.getEmbeddedVia(),a={};a.userId=i.session.config.musicDJUid;a.trackId=e;a.sourceId=parseInt(o);a.webRadioId=n.value;(function(e){for(var t in e)if(null===e[t]||void 0===e[t]||""===e[t])return!1;return!0})(a)&&function(e){var t=new XMLHttpRequest;t.open("post",r);t.setRequestHeader("Content-type","application/json");t.send(JSON.stringify(e))}(a)}}i.musicDJPlaybackTracking={destroy:function(){i.off(t.PLAYER_INITIALPLAY,a);delete i.musicDJPlaybackTracking}}});CBC.APP.Caffeine.addModule("Core.Components.PlaybackStats",function(){"use strict";var s,n,l=this,t=l.session.ui,a=CBC.APP.Caffeine.Helpers.Event;!function(){var e=CBC.APP.Caffeine.Templates["PlaybackStats.html"]({metadata:l.player.metadata,status:l.player.status});s=t.addOverlay("playbackstats",e);n=t.addContextMenuItem("Playback Details");i(!0)}();function i(e){var t=e?"on":"off";l.player[t](a.PLAYER_STATUSCHANGE,o);l.player[t](a.PLAYER_SRCSET,c);l.player[t](a.PLAYER_BITRATECHANGED,r);l[t](a.HANDLER_MEDIA_URL_UPDATED,u);n[t=e?"addEventListener":"removeEventListener"]("click",A);s.querySelector(".mediaUrl")[t]("click",d);s.querySelector("button")[t]("click",f)}function r(e){s.querySelector(".bitrate").innerText=e}function o(e){s.querySelector(".status").innerText=e.to}function c(e){s.querySelector(".mediaUrl").value=e;l.session.conductrics&&(s.querySelector(".testgroup").innerText=l.session.conductrics.selection||"None")}function u(e){l.player.mediaSourceManager&&(s.querySelector(".assetLoader").innerText=l.player.mediaSourceManager.currentSource.descriptor+" via "+l.player.mediaSourceManager.currentSource.descriptor.key)}function d(e){this.select()}function f(e){s.querySelector(".eventsLog").value="";for(var t,n,a,i=l.eventLogger.getEventsFromLast(),r=0;r<i.length;r++){var o=CBC.APP.Caffeine.Templates["EventLoggerOutput.html"]({name:i[r].name,data:(a=i[r].args,JSON.stringify(a,function(e,t){if(t instanceof Function||"function"==typeof t)return t.toString();if(Array.isArray(t)){var n;try{n=JSON.stringify(t)}catch(e){n="could not retrieve args"}return n.replace(/[\[\]"]+/g,"")}return t})),seconds:(t=i[0].timestamp,n=i[r].timestamp,(n-t)/1e3),first:i[0].name});s.querySelector(".eventsLog").value+=o}}function A(){t.openOverlay("playbackstats")}return{show:A,destroy:function(){i(!1);s=t.removeOverlay("playbackstats");n=t.removeContextMenuItem("Playback Details")}}});CBC.APP.Caffeine.addModule("Core.Components.Playlist",function(){"use strict";var l,n=this,t=CBC.APP.Caffeine.Helpers.Event,c=n.session.config;!function(){var e=document.createElement("ul");c.playlistContainer.appendChild(e);l=e;n.on(t.SESSION_QUEUEUPDATED,i);n.on("metadataUpdated",i)}();function a(e,t){var n=c.playlistThumbnails,a=!1;"host"==n?a=e.getHostImage():"default"==n&&(a=e.getThumbnail());var i=CBC.APP.Caffeine.Templates["PlaylistItem.html"]({dataModel:e,thumbnail:a,index:t,editable:c.editablePlaylist});l.insertAdjacentHTML("beforeend",i);var r=l.lastElementChild,o=r.querySelector("button");o.onclick=CBC.APP.Caffeine._.bind(d,o);if(c.editablePlaylist){var s=r.querySelector(".delete");s.onclick=CBC.APP.Caffeine._.bind(f,s)}CBC.APP.Caffeine._.delay(CBC.APP.Caffeine._.bind(u,o),50)}function u(){this.classList.add("fadeInDown")}function d(){n.session.createPlayer(Number(this.getAttribute("data-index")),!0)}function f(e){var t=Number(this.previousElementSibling.getAttribute("data-index"));n.session.removeItemFromQueue(t)}function i(){var e=n.session.getQueue();l.innerHTML="";for(var t=0;t<e.length;t++){a(n.session.modelsManager.getClip(e[t]),t)}}n.playlist={setActivePlaylistItem:function(e,t){var n;if(0!==(n=l.querySelectorAll("button.item")).length){-1<t&&n[t].classList.remove("active");n[e]&&n[e].classList.add("active")}},destroy:function(){c.playlistContainer.removeChild(l);n.off(t.SESSION_QUEUEUPDATED,i);n.off("metadataUpdated",i);delete n.playlist}}});CBC.APP.Caffeine.addModule("Core.Components.PreloadManager",function(){"use strict";var n,a,i=this,r=CBC.APP.Caffeine.Helpers.Event;i.player?o():i.on(r.PLAYER_READY,o);function o(){n=i.session.config.caffeineNode;a=n.querySelector(".ui button.play")||n;var e,t;1!==Object.keys(CBC.APP.Caffeine.getInstance()).length||(e=a.getBoundingClientRect(),t=Math.max(document.documentElement.clientHeight,window.innerHeight),e.bottom<0||0<=e.top-t)?s(!0):l();i.off(r.PLAYER_READY,o)}function s(e){if(n){if(e){if(Object.keys(CBC.APP.Caffeine.getInstance()).length<=5){n.addEventListener("focus",l);n.addEventListener("mousemove",l)}}else{n.removeEventListener("focus",l);n.removeEventListener("mousemove",l)}i[e?"on":"off"](r.PLAYER_PLAYINTENT,l)}}function l(){s(!1);i.trigger(r.SESSION_PRELOADALLOWED)}return{destroy:function(){s(!1)}}});CBC.APP.Caffeine.addModule("Core.Components.QueueAutoUpdater",function(n){"use strict";var a=this,e=CBC.APP.Caffeine.Helpers.Event,t=CBC.APP.Caffeine.Constants.PlayerStatus,i=CBC.APP.Caffeine._;if(void 0===n)throw new Error("Cannot run the queue auto-updater without supplying which parameters to auto-update.");if(void 0!==n.webRadioId){a.on(e.PLAYER_PLAYING,r);a.on(e.SESSION_QUEUEUPDATED,o);return{destroy:function(){a.off(e.PLAYER_PLAYING,r);a.off(e.SESSION_QUEUEUPDATED,o)}}}function r(){(function(){if(s())return l(a.currentClip.id);return!1})()&&(e=i.pick(n,"webRadioId"),a.queueNext(e));var e}function o(){a.off(e.SESSION_QUEUEUPDATED,o);a.session.config.continuousPlay&&a.player&&a.player.status===t.READY&&(s()||a.playNextTrack())}function s(){var e=a.queue[a.session.queueactiveposition+1];return void 0===e||!l(e)}function l(e){void 0===e&&window.console.trace();var t=a.session.modelsManager.getClip(e);return-1!==Object.keys(n).indexOf(t.getIdType())}});CBC.APP.Caffeine.addModule("Core.Components.Recommendations",function(){"use strict";var a,r,i=this,o=CBC.APP.Caffeine,s=CBC.APP.Caffeine._,e=o.Helpers.Event,l=i.session.config,c=o.Helpers.DateTimeFormat,t=.75,n=5,u=!1,d=!1,f=!1,A=null;if(!(l.disableRecommend||!i.currentClip.isVideo||l.continuousPlay&&i.hasNextTrack())){i.on(e.PLAYER_RESIZED,L);i.on(e.PLAYER_TIMEUPDATED,p);i.on(e.PLAYER_STATUSCHANGE,m);return{destroy:S}}function p(e){i.player.duration&&(u?u&&!d&&f&&i.player.duration-t<=e&&function(){d=!0;i.session.ui.openOverlay("recommendationcontent")}():i.player.duration-n<=e&&function(){var e=CBC.APP.Caffeine.Templates["Recommendations.html"]();if(!a){a=i.session.ui.addOverlay("recommendationcontent",e);r=l.caffeineNode.querySelector(".recommendations");var t={width:l.caffeineNode.offsetWidth,height:l.caffeineNode.offsetHeight};L(t)}var n=function(){var e,t=o.getSettings().BISTRO_DOMAIN,n=i.currentClip.contentArea;if(void 0===n)return;e="News"===n?"a67db5":"bf73e4";var a=i.session.userManager.getRecSysUserId();if(!a.id)return;return t+"recommend?recSysExpId="+e+"&recSysIdType="+a.type+"&recSysUserId="+a.id+"&limit=2"}();n&&CBC.APP.Caffeine.getXhr(n,_,S,!1);u=!0}())}function m(e){if(e.to===CBC.APP.Caffeine.Constants.PlayerStatus.PLAYING){f=u=!1;if(d){i.session.ui.closeOverlay();d=!1}}}function _(){for(var e={},t=JSON.parse(this.responseText).items,n=0;n<t.length;n++){var a=new CBC.APP.Caffeine.Model(i,t[n]);e[a.getId()]=a}!function(e){if(0===Object.keys(e).length){S();return}f=!0;var t=r.querySelector(".recommended-items");t.innerHTML="";var n=(a=0,function(e){var t=CBC.APP.Caffeine.Templates["RecommendedItem.html"]({DateTimeFormat:c,dataModel:e,position:++a}),n=r.querySelector(".recommended-items");n.insertAdjacentHTML("beforeend",t)});var a;s.each(e,function(e){n(e)});E(!0);t.classList.add("loaded");p(i.player.currentTime)}(e)}function E(e){if(r)for(var t=e?"addEventListener":"removeEventListener",n=r.querySelectorAll(".recommended-item"),a=0;a<n.length;a++){var i=n[a];i[t]("click",g);i[t]("mouseenter",h);i[t]("mouseleave",P);i[t]("touchstart",v);i.querySelector(".recommended-item-link")[t]("focus",T);i.querySelector(".recommended-item-link")[t]("blur",I)}}function C(e){if(A){A.classList.remove("focused");A=null}if(e){e.classList.add("focused");A=e}}function v(e){e.preventDefault();e.currentTarget.classList.contains("focused")?y(e.currentTarget):C(e.currentTarget)}function g(e){e.preventDefault();y(e.currentTarget)}function h(e){C(this)}function P(e){C()}function T(e){C(e.currentTarget.parentNode)}function I(e){C()}function y(e){var t=e.querySelector(".recommended-item-link").getAttribute("data-id"),n={name:"media-player",instance:"rec-sys",position:e.querySelector(".recommended-item-link").getAttribute("data-position")};i.playById({mediaId:t},n)}function L(e){r&&(e.width<475?r.classList.remove("two-up"):r.classList.add("two-up"))}function S(){E(!1);i.off(e.PLAYER_RESIZED,L);i.off(e.PLAYER_TIMEUPDATED,p);i.off(e.PLAYER_STATUSCHANGE,m);a&&a.parentElement&&a.parentElement.removeChild(a)}});CBC.APP.Caffeine.addModule("Core.Components.RecSys",function(){var n=this,e=CBC.APP.Caffeine,t=e.Helpers.Event,a={All:"BF73E4",News:"A67DB5"},i=null,r=50,o=0,s=e.getSettings().ESS_PUBLISH_POST_URL,l=n.session.modelsManager.getClip(n.currentClip.id);!function(){if("mediaId"===l.getIdType()&&l.isVideo()&&!l.isLive()&&!l.getExcludeFromRecommendations()){(e=l.getDuration())&&(o=Math.ceil(e*(r/100)));n.on(t.PLAYER_TIMEUPDATED,d)}var e}();function c(e,t){return{subject:{type:"User",id:e},predicate:{type:"Stream",expId:t,end:(new Date).toISOString()},object:{type:"MPXVideo",id:l.getId()}}}function u(e,t){var n=new XMLHttpRequest;n.open("post",e);n.setRequestHeader("Content-type","application/json");n.send(t)}function d(e){if(Math.floor(e)==o){n.off(t.PLAYER_TIMEUPDATED,d);!function(){if((i=n.session.userManager.getRecSysUserId()).id){var e=c(i.id,a.All);u(s,JSON.stringify(e));if("News"===l.getContentArea()){var t=c(i.id,a.News);u(s,JSON.stringify(t))}}}()}else Math.floor(e)>o&&n.off(t.PLAYER_TIMEUPDATED,d)}return{destroy:function(){n.off(t.PLAYER_TIMEUPDATED,d)}}});CBC.APP.Caffeine.addModule("Core.Components.Session",function(e){"use strict";var t,a,i=this,n=CBC.APP.Caffeine,r=n._,o=n.Helpers.ErrorList,s=n.Helpers.Event,l=n.Constants.PlayerStatus,c=[],u=!1,d=0,f=-1,A=i.initModule("Core.Components.Config",e),p=i.initModule("Core.Components.VisualInterface",A),m=i.initModule("Core.Components.ErrorLogger",A),_=i.initModule("Core.Components.VisualError",A),E=i.initModule("Core.Components.PreloadManager"),C=i.initModule("Core.Components.Keyboard",A),v=i.initModule("Core.Components.LocalStorage");i.initModule("Core.Components.AutoPlayManager",A,p.playbackElements);i.initModule("Core.Components.FullscreenManager",A,p.playbackElements);i.initModule("Players.Components.MediaSessionAPI");i.initModule("Core.Components.EventLogger");var g,h,P,T,I,y,L,S=i.initModule("Core.Components.Heartbeat"),R=i.initModule("Core.Components.Annotations",A);i.initModule("Core.Components.MusicDJPlaybackTracking");var D=!1;r.defer(function(){i.initModule("Core.Components.Conductrics");i.initModule("Core.Components.UserManager");i.initModule("Core.Components.ModelsManager");if(0<Object.keys(A.embeddedClips).length){i.on(s.MODELSMANAGER_COMPLETED,N);i.session.modelsManager.requestClips(A.embeddedClips,A.playlistLimit);z(A.embeddedClips)}else i.on(s.MODELSMANAGER_COMPLETED,F);i.trigger(s.SESSION_READY)});i.on(s.SESSION_PRELOADALLOWED,U);i.on(s.PLAYER_READY,k);i.on(s.CAFFEINE_ERROR,b);function b(e){if(e.critical)if(i.session.config.continuousPlay&&i.hasNextTrack())i.playNextTrack();else if(i.player){M();w()}}function U(){i.off(s.SESSION_PRELOADALLOWED,U);L=i.initModule("Core.Components.Ads",p.playbackElements.ads);D=!0}function N(){i.off(s.MODELSMANAGER_COMPLETED,N);i.on(s.MODELSMANAGER_COMPLETED,F);var e,t=i.session.modelsManager.getAllClips();e=A.playlistLimit<=t.length?A.playlistLimit:t.length;for(var n=0;n<e;n++)c.push(t[n].getId());1<e&&A.playlistContainer&&i.initModule("Core.Components.Playlist");i.trigger(s.SESSION_QUEUEUPDATED,this);O(0,A.autoPlay)}function O(e,t){if(!c[e])throw new Error("Queue index is out of bounds");M();w();i.autoPlayManager.autoPlayNextMedia=t;var n=Y(e);B(e);if(i.session.modelsManager.getClip(n).isBlocked())i.trigger(s.CAFFEINE_ERROR,o.BLOCKED);else{i.trigger(s.SESSION_PLAYERCREATIONSTARTED);var a=i.initModule("Players.Main",e,p.playbackElements,A.headless);i.player=a}}function M(){if(i.player){if(y){y.destroy();y=null}if(g){g.destroy();g=null}if(h){h.destroy();h=null}if(P){P.destroy();P=null}if(T){T.destroy();T=null}if(I){I.destroy();I=null}}}function w(){if(i.player){i.player.destroy();delete i.player}}function k(){g=i.initModule("Core.Components.Share");h=i.initModule("Core.Components.AudioTracksMenu");P=i.initModule("Core.Components.PlaybackStats");T=i.initModule("Core.Components.Recommendations");y=i.initModule("Core.Components.RecSys");var e=n.Helpers.Utils.getIsInIframe();i.currentClip.isVideo&&!e&&(I=i.initModule("Core.Components.DockManager"))}function B(e){a=f;f=e;i.playlist&&i.playlist.setActivePlaylistItem(f,a)}function Y(e){return c[e]}function x(){return f}function q(e){for(var t=0;t<e.length;t++)H(d+t,e[t].getId())}function V(e){for(var t=0;t<e.length;t++)H(c.length,e[t].getId())}function H(e,t){c.splice(e,0,t);u=!0;!i.playlist&&A.playlistContainer&&i.initModule("Core.Components.Playlist");i.playlist&&i.playlist.setActivePlaylistItem(f,a)}function F(){i.off(s.SESSION_CLIPREADY,q);i.off(s.SESSION_CLIPREADY,V);if(u){u=!1;i.trigger(s.SESSION_QUEUEUPDATED,this)}}function z(e){if(void 0!==e.webRadioId){t&&t.destroy();t=i.initModule("Core.Components.QueueAutoUpdater",e)}}var G={get config(){return A},get capabilities(){return{canChangeVolume:(e=new Audio,(e.volume=.9)==e.volume),get canAutoplay(){return i.autoPlayManager.canAutoPlay},get canFullscreen(){return i.fullscreenManager.canFullscreen}};var e},get queueactiveposition(){return x()},get currentClipId(){return Y(x())},createPlayer:O,swapPlayer:function(e){var t=i.player,n=t.status,a=t.captions;M();if(e.status!==n)switch(n){case l.READY:e.stop();break;case l.LOADING:case l.PLAYING:e.play();break;case l.PAUSED:case l.ADVERTISING:case l.ADVERTISING_PAUSED:e.pause()}e.captions!==a&&e.trigger(s.PLAYER_CAPTIONCHANGE,{isAvailable:e.hasCaptions,isShowing:e.captions});i.player=e;p.updatePlayerMarkup();t.destroy();k()},refreshUI:function(){i.trigger(s.PLAYER_REFRESHUI)},getIdAtIndex:Y,getQueue:function(){return c},getTrackFromQueue:function(e){e=Number(e);var t=f+e;if(c[t])return t},queueNext:function(e){i.off(s.MODELSMANAGER_COMPLETED,N);i.off(s.REQUESTED_MODELS_READY,q);i.off(s.REQUESTED_MODELS_READY,V);i.on(s.REQUESTED_MODELS_READY,q);d=f+1;i.session.modelsManager.requestClips(e);z(e);return d},queueEnd:function(e){i.off(s.MODELSMANAGER_COMPLETED,N);i.off(s.REQUESTED_MODELS_READY,q);i.off(s.REQUESTED_MODELS_READY,V);i.on(s.REQUESTED_MODELS_READY,V);d=c.length-1;i.session.modelsManager.requestClips(e);z(e);return d},removeItemFromQueue:function(e){var t,n=!1;c[e+1]&&(t=e+1);c.splice(e,1);if(e<f)B(f-1);else if(e===f&&t)O(e);else if(e===f&&!t){M();w();B(f-1);n=!0}r.defer(function(){i.trigger(s.SESSION_QUEUEUPDATED,this);i.playlist&&!n&&i.playlist.setActivePlaylistItem(f,a)})},clearQueue:function(){M();w();if(L){L.destroy();L=null}D&&(L=i.initModule("Core.Components.Ads",p.playbackElements.ads));i.off(s.MODELSMANAGER_COMPLETED,N);i.off(s.REQUESTED_MODELS_READY,q);i.off(s.REQUESTED_MODELS_READY,V);c=[];B(-1);i.trigger(s.SESSION_QUEUEUPDATED,this)},ui:p,get docked(){return I&&I.docked},set docked(e){I&&(I.docked=e)},destroy:function(){i.playlist&&i.playlist.destroy();M();w();i.off(s.CAFFEINE_ERROR,b);i.off(s.MODELSMANAGER_COMPLETED,N);i.off(s.MODELSMANAGER_COMPLETED,F);i.off(s.SESSION_CLIPREADY,V);i.off(s.SESSION_CLIPREADY,q);i.off(s.SESSION_CLIPREADY,q);i.off(s.SESSION_PRELOADALLOWED,U);i.off(s.PLAYER_READY,k);i.ima&&i.ima.destroy();i.autoPlayManager&&i.autoPlayManager.destroy();i.mediaSession&&i.mediaSession.destroy();i.fullscreenManager&&i.fullscreenManager.destroy();i.eventLogger&&i.eventLogger.destroy();i.musicDJPlaybackTracking&&i.musicDJPlaybackTracking.destroy();i.session.userManager&&i.session.userManager.destroy();if(R){R.destroy();R=null}S&&S.destroy();m&&m.destroy();t&&t.destroy();i.session.conductrics&&i.session.conductrics.destroy();v&&v.destroy();C&&C.destroy();i.session.modelsManager&&i.session.modelsManager.destroy();E&&E.destroy();_&&_.destroy();p.destroy();A.container.innerHTML="";delete i.session}};return i.session=G});CBC.APP.Caffeine.addModule("Core.Components.Share",function(){"use strict";var t,a,i,r,o,s,l,c,n,u=this,d=CBC.APP.Caffeine,f=d._,A=u.session.config,p=u.session.modelsManager.getClip(u.currentClip.id),m=A.shareUrl||p.getPageUrl(),_=u.session.ui,E=d.Helpers.Event;!function(){var e=d.Templates["Share.html"]({CBC_DOMAIN:d.getSettings().CBC_DOMAIN,config:A,dataModel:p,shareUrl:m});t=_.addOverlay("sharecontent",e);a=t.querySelector(".share-icon-embed");i=t.querySelector(".share-icon-link");r=t.querySelector(".share-icon-facebook");o=t.querySelector(".share-icon-twitter");s=t.querySelector(".share-icon-email");l=t.querySelector(".sharelinks .copylink");c=t.querySelector(".sharelinks .copyembedcode");C(!0)}();function C(e){var t=e?"on":"off",n=e?"addEventListener":"removeEventListener";a&&a[n]("click",P);i&&i[n]("click",P);r&&r[n]("click",g);o&&o[n]("click",g);s&&s[n]("click",g);l&&l[n]("click",h);if(c){c[n]("click",h);u[t](E.PLAYER_RESIZED,v)}}function v(e){var t=c.parentElement.querySelector(".linktext"),n=t.value,a=n.match(/width="\d+/),i=n.match(/height="\d+/),r='width="'+e.width,o='height="'+e.height;n=(n=n.replace(a,r)).replace(i,o);t.value=n}function g(e){var t=e.target.dataset.href;t&&window.open(t,"_blank")}function h(){var e=n.parentNode.querySelector(".linktext");e.select();e.setSelectionRange(0,99999);document.execCommand("copy")}function P(e){var t=e.target;n?function(e){f.isElement(e)||(e=n);e.classList.remove("active");e.blur();n=null}(n):function(e){e.classList.add("active");var t=e.parentNode.querySelector("input");t.select();t.focus();n=e}(t)}return{show:function(){_.openOverlay("sharecontent")},destroy:function(){C(!1);t&&_.removeOverlay("sharecontent")}}});CBC.APP.Caffeine.addModule("Core.Components.UserManager",function(){"use strict";var e,t=this,a=CBC.APP.Caffeine._,n=CBC.APP.Caffeine.Helpers.Event,i="https://uie.data.cbc.ca/v0/current_user";r();t.on(n.PLAYER_INITIALPLAY,r);function r(){CBC.APP.Caffeine.getXhr(i,o,s,!0)}function o(){e=JSON.parse(this.responseText)}function s(){window.console.error("Could not retrieve user id from UIE - status: "+this.status)}t.session.userManager={destroy:function(){t.off(n.PLAYER_INITIALPLAY,r);delete t.session.userManager},getRecSysUserId:function(){var n={type:null,id:null};a.find(e,function(e,t){if("cbc:cbc_plus_id"===t){n.type="cbc_plus";n.id=e[0];return n}if("cbc:cbc_visitor_id"===t){n.type="cbc_visitor";n.id=e[0];return n}});return n}}});CBC.APP.Caffeine.addModule("Core.Components.VisualError",function(e){"use strict";var n,a=CBC.APP.Caffeine,t=a.Constants.Event,i=a.Constants.PlayerStatus,r=this,o=function(){var e=document.createElement("div");e.classList.add("cbc-caffeine-error-container");return e}();!function(){e.container.appendChild(o);r.on(t.CAFFEINE_ERROR,s);r.on(t.PLAYER_STATUSCHANGE,c)}();function s(e){if(e.critical){var t=a.Templates["VisualError.html"]({error:e,retry:!0,raygunUUID:!1});o.innerHTML=t;(n=o.querySelector(".error-retry")).addEventListener("click",l)}}function l(){n.removeEventListener("click",l);var e=r.session.queueactiveposition;r.session.createPlayer(e,!0)}function c(e){switch(e.to){case i.LOADING:case i.READY:o&&(o.innerHTML="")}}return{destroy:function(){r.off(t.CAFFEINE_ERROR,s);r.off(t.PLAYER_STATUSCHANGE,c);n&&n.removeEventListener("click",l);null!==o.parentNode&&o.parentNode.removeChild(o)}}});CBC.APP.Caffeine.addModule("Core.Components.VisualInterface",function(f){"use strict";var a,i,r,s,e,A=CBC.APP.Caffeine,t=A._,p=A.Constants.Event,n=A.Constants.ErrorList,m=A.Constants.PlayerStatus,o=A.Constants.UIElements,_=this,E={},l={},c=[],u=null,d=null,C=.5625,v=!1,g=!1,h=0;!function(){var e=A.Templates["Caffeine.html"]({ciid:f.ciid});a=f.container;var t=document.createElement("div");try{t.insertAdjacentHTML("afterbegin",e);a=t.firstChild;f.container.insertBefore(a,f.container.firstChild)}catch(e){window.console.error(e);throw new Error(n.INJECT_PLAYER_FAILED.debug)}f.playerWidth&&(a.style.width=f.playerWidth+"px");E.audio=new Audio;E.video=document.createElement("video");E.video.setAttribute("playsinline","");E.ads=document.createElement("video");E.ads.setAttribute("playsinline","");s=a.contextMenu||a.querySelector("menu[type=context]");P(!0)}();function P(e){var t=e?"addEventListener":"removeEventListener";E.video[t]("click",V);E.video[t]("touchend",H);a[t]("contextmenu",U);window[t]("resize",q);_[t=e?"on":"off"](p.CAFFEINE_ERROR,I);_[t](p.PLAYER_STATUSCHANGE,B);_[t](p.PLAYER_READY,w);_[t](p.PLAYER_PLAYING,S);_[t](p.PLAYER_PAUSED,L);_[t](p.PLAYER_ENDED,k);_[t](p.PLAYER_DOCKCHANGED,Y,!0);_[t](p.PLAYER_REFRESHUI,x,!0)}function T(e){var t=e?"addEventListener":"removeEventListener";f.caffeineNode[t]("mouseleave",S);f.caffeineNode[t]("mousemove",y);f.caffeineNode[t]("keyup",y);a[t]("touchstart",F);a[t]("touchend",z);a[t]("touchmove",L);h=e}function I(e){e.critical&&a.setAttribute("data-status",m.ERROR)}function y(){L();R()}function L(){if(g){r.classList.remove("media-focused");g=!1;R()}}function S(){if(_.player&&!g){e=window.clearTimeout(e);if(-1<[m.PLAYING,m.ADVERTISING].indexOf(_.player.status)){r.classList.add("media-focused");g=!0}}}function R(){e=window.clearTimeout(e);e=window.setTimeout(S,4e3)}function D(){e=window.clearTimeout(e)}function b(){if(l.activeOverlay){l.activeOverlay.classList.remove("active");var e=l.activeOverlay.querySelector(".close-button");l.activeOverlay=null;u&&u.focus();e.removeEventListener("click",b)}}function U(e){if(!f.caffeineNode.contextMenu){s.classList.contains("active")&&N(e);d=document.activeElement;s.classList.add("active");var t=e.pageX-window.scrollX,n=e.pageY-window.scrollY,a=t+s.clientWidth,i=n+s.clientHeight,r=a<window.innerWidth?t:t-s.clientWidth,o=i<window.innerHeight?n:n-s.clientHeight;s.style.left=r+"px";s.style.top=o+"px";document.addEventListener("click",N);s.querySelector("menuitem button").focus();e.preventDefault()}}function N(e){if(s&&s.classList.contains("active")){s.classList.remove("active");s.style.removeProperty("left");s.style.removeProperty("right");s.style.removeProperty("top");s.style.removeProperty("bottom");document.removeEventListener("click",N);d.focus();d=null;e&&e.preventDefault&&e.preventDefault()}}function O(){var e=f.caffeineNode;if(_.player){var t=e.offsetWidth,n=e.offsetHeight;if(0===t){window.requestAnimationFrame(O);return{width:0,height:0}}var a=function(){var e=E.video,t=_.player.metadata.thumbnail,n=f.caffeineNode.querySelector('img[src="'+t+'"]');if(_.fullScreen)C=screen.height/screen.width;else if(e&&e.videoHeight&&e.videoWidth&&_.player.status!==m.READY)C=e.videoHeight/e.videoWidth;else if(n){if(!n.naturalWidth||!n.naturalHeight){n.addEventListener("load",M);return C}n.removeEventListener("load",M);if(_.player.status===m.PLAYING)return C;C=n.naturalHeight/n.naturalWidth}return C=.25*Math.round(100*C/.25)/100}();e.style.removeProperty("width");var i=function(e){if(_.fullScreen)return{width:screen.width,height:screen.height};if("number"!=typeof f.playerWidth||v)return{width:f.caffeineNode.offsetWidth,height:f.caffeineNode.offsetWidth*e};var t=f.playerWidth;return{width:t,height:t*e}}(a),r=i.width,o=i.width,s=i.height,l=i.height,c=_.fullScreen?screen.height:"number"==typeof f.maxHeight?f.maxHeight:A.Helpers.Utils.getIsInIframe()?window.innerHeight:"number"==typeof f.playerWidth?1/0:window.innerHeight;c<s&&(l=c);o=l/a;var u=_.fullScreen?screen.width:A.Helpers.Utils.getIsInIframe()?window.innerWidth:"number"!=typeof f.playerWidth||v?f.caffeineNode.offsetWidth:f.playerWidth;u<r&&(o=u);l=o*a;o=Math.ceil(o);l=Math.ceil(l);if(_.currentClip.isVideo||f.forceVideo){e.style.setProperty("width",o+"px");e.style.setProperty("height",l+"px")}var d={width:o,height:l};o===t&&l===n||_.trigger(p.PLAYER_RESIZED,d);return d}}var M=t.throttle(O,500);function w(){r&&a.removeChild(r);r=_.player.container;i=r.querySelector(".playbackelement")||r;!function(){a.insertBefore(r,a.firstElementChild);var e=_.player.metadata,t=e.isLive?"live":"on-demand";f.caffeineNode.setAttribute("data-type",t);var n=e.isAudio?E.audio:E.video;i.appendChild(n)}();var e="barista-audio";(_.currentClip.isVideo||f.forceVideo)&&(e="barista-video");a.setAttribute("data-player",e);f.caffeineNode.style.removeProperty("width");f.caffeineNode.style.removeProperty("height");T(!0)}function k(){h&&T(!1);L()}function B(e){h||T(!0);f.caffeineNode.setAttribute("data-status",e.to);switch(e.to){case m.PLAYING:case m.ADVERTISING:case m.READY:t.defer(M)}}function Y(e){v=e.isDocked;f.dockEventsOnly||O()}function x(){O()}function q(){M()}function V(e){switch(_.player.status){case m.PLAYING:if(_.player.seekable){_.player.pause();_.trigger(p.UI_INDIRECTUSERACTION,o.INDICATOR_PAUSE)}else{_.player.stop();_.trigger(p.UI_INDIRECTUSERACTION,o.INDICATOR_STOP)}break;case m.PAUSED:case m.READY:_.player.play();_.trigger(p.UI_INDIRECTUSERACTION,o.INDICATOR_PLAY)}}function H(e){!g&&_.player.seekable||e.preventDefault();L()}function F(e){D()}function z(e){R()}return{get playbackElements(){return E},updatePlayerMarkup:function(){k();w();M()},addOverlay:function(e,t){if(!r)throw new Error("Cannot add overlay when no player has been created.");var n=A.Templates["Overlay.html"]({className:e,overlayContent:t}),a=document.createElement("div");a.innerHTML=n;var i=a.firstChild;r.appendChild(i);l[e]=i;return l[e]},removeOverlay:function(e){var t=l[e];l.activeOverlay===t&&b();t.parentNode&&t.parentNode.removeChild(t);delete l[e]},openOverlay:function(e){if(!l[e])throw new Error(e+" overlay is undefined");var t=document.activeElement;l.activeOverlay?b():u=t;l[e].classList.add("active");l[e].focus();l.activeOverlay=l[e];l.activeOverlay.querySelector(".close-button").addEventListener("click",b)},closeOverlay:b,addContextMenuItem:function(e){var t=document.createElement("menuitem"),n=document.createElement("button");n.innerText=e;t.innerText=e;t.appendChild(n);s.insertBefore(t,s.querySelector("hr"));c.push(t);return t},removeContextMenuItem:function(t){var e=c.filter(function(e){return-1<e.innerText.indexOf(t)})[0];e.parentNode&&e.parentNode.removeChild(e);c.splice(c.indexOf(e),1)},closeContextMenu:N,destroy:function(){D();N();b();for(var e=0;e<c.length;e++)s.removeChild(c[e]);T(!1);P(!1);a.parentNode&&a.parentNode.removeChild(a)}}});CBC.APP.Caffeine.addModule("Core.Instance",function(e){"use strict";var n=CBC.APP.Caffeine.Constants.Event;this.session={};this.on(n.SESSION_READY,i);function i(){this.trigger(n.INSTANCE_READY);this.off(n.SESSION_READY,i)}Object.defineProperty(this,"fullScreen",{configurable:!0,enumerable:!0,get:function(){return this.fullscreenManager.fullScreen},set:function(e){this.fullscreenManager.fullScreen=e}});Object.defineProperty(this,"currentClip",{configurable:!0,enumerable:!0,get:function(){return this.player?this.player.metadata:null}});Object.defineProperty(this,"queue",{configurable:!0,enumerable:!0,get:function(){return this.session.getQueue()}});this.initModule=function(t){var e=CBC.APP.Caffeine.getModule(t),n=CBC.APP.Caffeine._.toArray(arguments).slice(1);try{return e.apply(this,n)}catch(e){window.console.error("Error loading module "+t);window.console.error(e);throw e}};this.playById=function(e,t){a.call(this,e,!0);t&&this.trigger(n.INSTANCE_ATTRIBUTION_DATA,t)};this.loadById=function(e){a.call(this,e,!1)};function a(e,t){var n=CBC.APP.Caffeine.Helpers.Event,a=this.session.queueNext(e);this.on(n.SESSION_QUEUEUPDATED,i);this.on(n.MODELSMANAGER_COMPLETED,function e(){this.off(n.SESSION_QUEUEUPDATED,i);this.off(n.MODELSMANAGER_COMPLETED,e)});function i(){this.queue[a]&&this.session.createPlayer(a,t)}}this.playInline=function(e){this.playById({inline:e})};this.play=function(){this.player.play()};this.pause=function(){this.player.pause()};this.unpause=function(){this.player.unpause()};this.queueNext=function(e){this.session.queueNext(e)};this.queueEnd=function(e){this.session.queueEnd(e)};this.playNextTrack=function(){this.playTrack(1)};this.playPrevTrack=function(){this.playTrack(-1)};this.playTrack=function(e,t){var n=this.session.getTrackFromQueue(e);this.playTrackByIndex(n,t)};this.playTrackByIndex=function(e,t){if(!this.queue[e])throw new Error("Queue index is out of bounds");!1!==t&&(t=!0);this.trigger(n.INSTANCE_TRACKSKIPPED,e-this.currentClip.queuePosition);this.session.createPlayer(e,t)};this.hasNextTrack=function(){return Boolean(this.session.getTrackFromQueue(1))};this.refreshUI=function(){this.session.refreshUI()};this.clearQueue=function(){this.session.clearQueue()};this.destroy=function(){var e=CBC.APP.Caffeine.Helpers.Event,t=this.session.config.ciid;this.off(e.SESSION_READY,i);this.session.destroy();for(var n=Object.keys(this),a=0;a<n.length;a++){delete this[n[a]]}CBC.APP.Caffeine.trigger(e.CAFFEINE_INSTANCEDESTROYED,t)};this.initModule("Core.Components.Session",e);return this});CBC.APP.Caffeine.addModule("Handlers.Bistro",function(){"use strict";var s=this,l=s.session.config,c=CBC.APP.Caffeine,u=c._,d=c.Constants.Event,f=c.Constants.ErrorList,A=c.getSettings().BISTRO_DOMAIN,p=12e3,m=s.initModule("Core.Components.FeedQueue"),_=[],E=[];s.on(d.MODEL_READY,t);function C(e,t){var n=u.extend(e,{feedUrl:t.url,feedStatus:t.request.status,feedResponse:t.request.responseText});s.trigger(d.CAFFEINE_ERROR,n)}function t(e){if("inline"!==e.getIdType()){var t=function(n){var a,i;E.some(function(e,t){a=t;if(-1<(i=e.map(function(e){return e.payload}).indexOf(n)))return!0;i=a=null});return{outer:a,inner:i}}(e),n=t.outer,a=t.inner;if(void 0!==n&&void 0!==a){var i=E[n];i[a].isReady=!0;if(!i.some(function(e){return!1===e.isReady})){E.splice(n,1);s.trigger(d.REQUESTED_MODELS_READY,i.map(function(e){return e.payload}))}}}}return{requestClips:function(e,t){if(e){void 0===t&&(t=10);t===1/0&&(t=10);0===t&&(t=1);var n=A+"order?";for(var a in e)if(e.hasOwnProperty(a)){n+=a+"="+e[a]+"&";if("webRadioId"===a){var i=!!l.musicDJUid&&l.musicDJUid;i&&(n+="musicDJUid="+i+"&")}}n=n.slice(0,-1);n+="&limit="+t;l.sort&&(n+="&sort="+l.sort);l.env&&(n+="&env="+l.env);var r=window.setTimeout(function(){var e=u.extend(f.SLOW_PLATFORM,{feedUrl:n});s.trigger(d.CAFFEINE_ERROR,e)},p);_.push(r);var o=new m.QueueItem(n,function(){var e=function(t){var e,n=t.request;if(404!==n.status){if(200===n.status){try{(0<(e=JSON.parse(n.responseText)).errors.length||!e.items)&&C(f.FEED_CONTAINS_ERROR,t)}catch(e){C(f.FEED_PARSE,t);return}return e}C(f.FEED_FETCH,t)}else C(f.CLIP_UNAVAILABLE,t)}(this);e&&function(t){for(var e=t.items,n=[],a=0;a<e.length;a++)try{var i=new c.Model(s,e[a]),r={payload:i,isReady:!1};n.push(r)}catch(e){var o=u.extend(f.FEED_INVALID_CONTENTS,{jsError:e,feedResponse:t});s.trigger(d.CAFFEINE_ERROR,o)}0!==n.length?E.push(n):s.trigger(d.CAFFEINE_ERROR,f.CLIP_UNAVAILABLE)}(e);window.clearTimeout(r)});m.add(o)}},destroy:function(){s.off(d.MODEL_READY,t);for(var e=0;e<_.length;e++)window.clearTimeout(_[e]);m.destroy()}}});CBC.APP.Caffeine.addModule("Handlers.Components.DAILoader",function(n){var l=this,c=CBC.APP.Caffeine,u=c._,a=c.getModule("Helpers.Asset"),i=c.Constants.Event,e="//imasdk.googleapis.com/js/sdkloader/ima3_dai.js",r=!1;"object"==typeof window.google&&"object"==typeof window.google.ima&&"object"==typeof window.google.ima.dai?t():CBC.APP.Caffeine.addDependency(e,t,s);function t(){e=n.key,CBC.APP.Caffeine.getXhr(e+"&manifest=m3u",o,s);var e}function o(e){var t=(new window.DOMParser).parseFromString(this.responseText,"application/xml"),n=window.google.ima.dai.api,a=l.session.ui.playbackElements.video,i=u.values(n.StreamEvent.Type),r=new n.StreamManager(a);r.addEventListener(i,d,!1);var o=t.querySelector("param[name=assetKey]").getAttribute("value"),s=new n.LiveStreamRequest;s.assetKey=o;s.apiKey=c.getSettings().DAI_API_KEY;r.requestStream(s)}function s(e){e&&window.console.error(e);l.trigger(i.PLAYER_SRCERR)}function d(e){if(!r){var t=window.google.ima.dai.api.StreamEvent.Type;switch(e.type){case t.LOADED:!function(e){r=!0;var t=new a(e.getStreamData().url,n.id,1/0,n.mimeType,n.codec,{isDAI:!0,streamManager:e.target});l.trigger(i.HANDLER_MEDIA_URL_UPDATED,t)}(e);break;case t.ERROR:!function(e){window.console.error("DAILoader stream error");try{window.console.error(e.getStreamData().errorMessage)}catch(e){}l.trigger(i.PLAYER_SRCERR)}(e)}}}return{destroy:function(){}}});CBC.APP.Caffeine.addModule("Handlers.Components.MediaNetLoader",function(a){var i,t=this,e=CBC.APP.Caffeine,n=e._,r=e.Constants.Event,o=e.Constants.ErrorList,s=e.getModule("Helpers.Asset"),l=0;c();function c(){if("object"==typeof i){var e=i.expiry;if(Date.now()/1e3<=e){n.defer(f);return}}l++;var t=CBC.APP.Caffeine.getSettings().MEDIA_NET_VALIDATION_BASE_URL+"?appCode="+a.key.appCode+"&idMedia="+a.key.wamId+"&deviceType=ipad&connectionType=wifi&multibitrate=false&output=json";CBC.APP.Caffeine.getXhr(t,u,d,!1,[["Authorization",CBC.APP.Caffeine.getSettings().MEDIA_NET_VALIDATION_AUTH]])}function u(e){var t;try{t=JSON.parse(this.responseText)}catch(e){d();return}if(t.url&&!t.errorCode){var n;try{n=parseInt(t.url.match(/exp=([0-9]*)/)[1])}catch(e){}n||(n=Date.now()/1e3+120);i=new s(t.url,a.id,n,"application/vnd.apple.mpegurl","mp4a.40.2");l=0;f()}else d()}function d(e){l<5?n.delay(c,500):t.trigger(r.CAFFEINE_ERROR,o.SMIL_ERROR)}function f(){t.trigger(r.HANDLER_MEDIA_URL_UPDATED,i)}return{destroy:function(){}}});CBC.APP.Caffeine.addModule("Handlers.Components.PlatformLoader",function(r){var o,s,t=this,e=CBC.APP.Caffeine,n=e._,a=e.Constants.Event,i=e.Constants.ErrorList,l=e.getModule("Helpers.Asset");!function(){if("object"==typeof s){var e=s.expiry;if(Date.now()/1e3<=e){n.defer(d);return}}var t=r.key;CBC.APP.Caffeine.getXhr(t,c,u)}();function c(e){var t=(o=(new window.DOMParser).parseFromString(this.responseText,"application/xml")).querySelector("video")||o.querySelector("ref"),n=t.getAttribute("src"),a=t.getAttribute("type"),i=n.match(/~exp=([0-9]+)/);i=null===i?1/0:1<i.length?i[1]:1/0;s=new l(n,r.id,i,a,"");d()}function u(e){t.trigger(a.CAFFEINE_ERROR,i.SMIL_ERROR)}function d(){s.id=r.id;t.trigger(a.HANDLER_MEDIA_URL_UPDATED,s)}return{destroy:function(){}}});CBC.APP.Caffeine.addModule("Handlers.Components.SimpleURLLoader",function(e){var t=CBC.APP.Caffeine,n=t.getModule("Helpers.Asset"),a=t.Constants.Event,i=new n(e.key,e.id,1/0,e.mimeType,e.codec);this.trigger(a.HANDLER_MEDIA_URL_UPDATED,i)});CBC.APP.Caffeine.addModule("Handlers.Inline",function(){"use strict";var o=this,e=CBC.APP.Caffeine,s=e._,l=e.Constants.Event,c=e.Constants.ErrorList,u=[];o.on(l.MODEL_READY,t);function t(e){if("inline"===e.getIdType()){var t=u.map(function(e){return e.payload}),n=t.indexOf(e);-1<n&&(u[n].isReady=!0);u.some(function(e){return!1===e.isReady})||o.trigger(l.REQUESTED_MODELS_READY,t)}}return{requestClips:function(t){var e,n,a=u.length;try{var i=function(e){var t=e.inline,n=t.src,a=t.mimeType;"string"==typeof n&&(n=[n]);if(!(n instanceof Array))throw new Error("Inline clip has invalid source");for(var i=0;i<n.length;i++){var r="";"string"==typeof a?r=a:a instanceof Array&&(r=a[i]);t.assetDescriptors=[];var o=n[i];"string"==typeof o&&t.assetDescriptors.push({loader:"SimpleURLLoader",key:o,mimeType:r})}t.id=function(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n].key);return t.toString()}(t.assetDescriptors);t.idType="inline";return t}(t);e=i,n={payload:new CBC.APP.Caffeine.Model(o,e),isReady:!1},u.push(n)}catch(e){var r=s.extend(c.FEED_INVALID_CONTENTS,{jsError:e,feedResponse:t});o.trigger(l.CAFFEINE_ERROR,r);return}a===u.length&&o.trigger(l.CAFFEINE_ERROR,c.CLIP_UNAVAILABLE)},destroy:function(){o.off(l.MODEL_READY,t)}}});CBC.APP.Caffeine.addModule("Helpers.Asset",function(e,t,n,a,i,r){if(!e)throw new Error("Asset requires a url");if(!t)throw new Error("Asset requires an ID");return{get url(){return e},get id(){return t},get expiry(){return n?parseInt(n):1/0},get mimeType(){return a||{".flv":"video/x-flv",".mp4":"video/mp4",".m3u8":"application/x-mpegURL",".ts":"video/MP2T",".3gp":"video/3gpp",".mov":"video/quicktime",".avi":"video/x-msvideo",".wmv":"video/x-ms-wmv",".mp3":"audio/mp3"}[/(?:\.([^.]+))?$/.exec(e)[0]]},get codec(){return i||""},get extras(){return r||{}}}});CBC.APP.Caffeine.addModule("Helpers.AssetDescriptor",function(e,t,n,a,i){if(!t||!n)throw new Error("AssetDescriptor requires a loader and a key");var r,o=this,s={get id(){return e},get key(){return n},get loader(){return t},get mimeType(){return a},get codec(){return i},load:function(){r&&r.destroy&&r.destroy();r=o.initModule("Handlers.Components."+t,s)},unload:function(){r&&r.destroy&&r.destroy()},toString:function(){return t}};return s});CBC.APP.Caffeine.addModule("Helpers.DateTimeFormat",{getFormattedDuration:function(e){var t=0<=e?"":"-";e=Math.floor(Math.abs(parseFloat(e)));var n=Math.floor(e/3600),a=Math.floor(e/60%60),i=Math.round(e%60);if(n){t+=n+":";t+=(a<10?"0"+a:a)+":"}else t+=a+":";return t+=i<10?"0"+i:i},getFormattedDate:function(e){var t=new Date(e);return["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][t.getMonth()]+" "+t.getDate()+", "+t.getFullYear()},getFormattedTime:function(e,t){var n=12<e.getHours()?e.getHours()-12:e.getHours(),a=12<e.getHours()?"pm":"am",i=e.getMinutes();i<10&&(i="0"+i);var r=e.getSeconds();r<10&&(r="0"+r);return n+":"+i+(t?":"+r:a)},getTimeSince:function(e,t,n){var a=Date.now();"number"==typeof e&&window.isFinite(e)||(e=a);var i="<%= time %> <%= unit %> ago";n&&(i="Started "+i);var r,o=a<e?"in <%= time %> <%= unit %>":i,s=Math.abs(a-e)/1e3,l=[{label:"year",size:31536e3},{label:"month",size:2592e3},{label:"day",size:86400},{label:"hour",size:3600},{label:"minute",size:60}];t&&l.push({label:"second",size:1});do{if(void 0===(r=l[l.indexOf(r)+1]))return"now"}while(s<r.size);var c=Math.round(s/r.size),u=r.label+(1<c?"s":"");return CBC.APP.Caffeine._.template(o)({time:c,unit:u})},getIso8601Date:function(e){var t=new Date(e),n=t.getFullYear(),a=t.getMonth()+1;return n+"-"+(a=a<10?"0"+a:a)+"-"+(t.getDate()<10?"0"+t.getDate():t.getDate())},getProgramGuideDate:function(e){return this.getIso8601Date(e).split("-").join("/")},Round:function(e,t){var n=Math.pow(10,t),a=e*n;return Math.round(a)/n}},!0);CBC.APP.Caffeine.addModule("Helpers.Utils",{getIsInternal:function(){var e=CBC.APP.Caffeine.getSettings(),t=!1;if(e.INTERNAL_IP_MATCH&&e.USER_IP){var n=new RegExp(e.INTERNAL_IP_MATCH);t=null!==e.USER_IP.match(n)}return t},getIsInIframe:function(){return window.self!==window.top}},!0);CBC.APP.Caffeine.addModule("Players.Components.AkamaiAnalytics",function(){"use strict";var r,t,n=this,a=CBC.APP.Caffeine.Helpers.Event,e=CBC.APP.Caffeine.Helpers.ErrorList,i="https://ma80-r.analytics.edgekey.net/config/beacon-18697.xml?enableGenericAPI=1",o="https://ma80-r.analytics.edgekey.net/config/beacon-18698.xml?enableGenericAPI=1",s="https://79423.analytics.edgekey.net/js/csma.js",l=n.parentInstance.session.modelsManager.getClip(n.currentClip);!function(){l.isLive()&&l.isAudio()?window.AKAMAI_MEDIA_ANALYTICS_CONFIG_FILE_PATH=i:window.AKAMAI_MEDIA_ANALYTICS_CONFIG_FILE_PATH=o;!function(){for(var e=document.getElementsByTagName("script"),t=0;t<e.length;t++)if(e[t].getAttribute("src")===s)return!0;return!1}()||"function"!=typeof AkaHTML5MediaAnalytics?CBC.APP.Caffeine.addDependency(s,c,u):c()}();function c(){(r=new AkaHTML5MediaAnalytics({streamHeadPosition:d,streamLength:f,streamURL:A})).setData("viewerId",Math.floor(9999999*Math.random()));r.handleSessionInit();p(!0);!function(){var e,t,n,a,i;if(l.isLive()&&l.isAudio()){e=l.getCategories();t=e[0].name||"";n=e[1].name||""}else{t=l.getContentArea();n=l.getContentArea()}i=l.isLive()?"live":"onDemand";a=l.isAudio()?"audio":"video";r.setData("title",l.getTitle());r.setData("eventName",l.getTitle());r.setData("category",t);r.setData("subCategory",n);r.setData("show",l.getShowName());r.setData("pageUrl",l.getPageUrl());r.setData("pageReferrer",document.referrer);r.setData("contentLength",l.getDuration());r.setData("contentType",a);r.setData("device","");r.setData("deliveryType",i);r.setData("playerId",a+"-"+i)}()}function u(){n.trigger(a.CAFFEINE_ERROR,e.AKAMAI_ANALYTICS_ERROR)}function d(){return Math.round(n.currentTime)}function f(){return l.getDuration()}function A(){return t}function p(e){var t=e?"on":"off";n[t](a.PLAYER_SRCSET,m);n[t](a.PLAYER_PLAYING,_);n[t](a.PLAYER_PAUSED,E);n[t](a.PLAYER_STOPPED,C);n[t](a.PLAYER_ENDED,v);n[t](a.CAFFEINE_ERROR,g);n[t](a.PLAYER_BITRATECHANGED,h);n[t](a.PLAYER_STATUSCHANGE,P);n.parentInstance[t](a.ADS_LOADED,T);n.parentInstance[t](a.ADS_STARTED,I);n.parentInstance[t](a.ADS_FIRSTQUARTILE,y);n.parentInstance[t](a.ADS_MIDPOINT,L);n.parentInstance[t](a.ADS_THIRDQUARTILE,S);n.parentInstance[t](a.ADS_COMPLETE,R);n.parentInstance[t](a.ADS_STOPPED,D);n.parentInstance[t](a.ADS_ERRORED,b)}function m(e){t=e}function _(){r.handlePlaying()}function E(){r.handlePause()}function C(){r.handlePlayEnd("User.Stop.Button")}function v(){r.handlePlayEnd("Play.End.Detected")}function g(e){e.track&&r.handleError("Error "+e.code+" "+e.debug)}function h(e){r.handleBitRateSwitch(e)}function P(e){e.to===CBC.APP.Caffeine.Constants.PlayerStatus.LOADING&&r.handleBufferStart();e.from===CBC.APP.Caffeine.Constants.PlayerStatus.LOADING&&r.handleBufferEnd()}function T(e){r.handleAdLoaded(e)}function I(){r.handleAdStarted()}function y(){r.handleAdFirstQuartile()}function L(){r.handleAdMidPoint()}function S(){r.handleAdThirdQuartile()}function R(){r.handleAdCompleted()}function D(){r.handleAdStopped()}function b(){r.handleAdError()}return{destroy:function(){p(!1);delete window.AKAMAI_MEDIA_ANALYTICS_CONFIG_FILE_PATH}}});CBC.APP.Caffeine.addModule("Players.Components.AudioTracksManager",function(a){"use strict";var i,e=CBC.APP.Caffeine._,r=this,o=CBC.APP.Caffeine.Helpers.Event,s=null;a.audioTracks&&a.audioTracks.addEventListener("addtrack",t);r.on(o.HLSJS_AUDIO_TRACKS_UPDATED,n);function t(){i=!0;s=Array.from(a.audioTracks).map(l)}function n(e){i=!1;s=e.audioTracks.map(l)}function l(e){return{id:String(e.id),name:e.label||e.name,enabled:void 0!==e.enabled?e.enabled:e.default}}function c(t){s.forEach(function(e){e.id===t?e.enabled=!0:e.enabled=!1});i?(n=t,a.audioTracks.getTrackById(n).enabled=!0):(e=t,r.trigger(o.HLSJS_SET_AUDIO_TRACK,e));var e,n}return{get audioTracks(){return s},get audioTrack(){return function(){if(null!==s)return e.find(s,function(e){return!0===e.enabled})}()},set audioTrack(e){return c(e)},destroy:function(){r.off(o.HLSJS_AUDIO_TRACKS_UPDATED,n);a.audioTracks&&a.audioTracks.removeEventListener("addtrack",t)}}});CBC.APP.Caffeine.addModule("Players.Components.BufferManager",function(a){"use strict";var i,r,o,s=this,l=CBC.APP.Caffeine.Constants.Event,c=30;e(!0);function e(e){var t=e?"addEventListener":"removeEventListener";a[t]("progress",n);a[t]("timeupdate",n);s[t=e?"on":"off"](l.HLSJS_LEVELLOADED,u)}function n(e){var t=a.buffered;r=a.seekable;if(0!==t.length){if(!function(e,t){if(!e&&!t)return!0;if(!e||!t)return!1;if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++){if(e.start(n)!==t.start(n))return!1;if(e.end(n)!==t.end(n))return!1}return!0}(i,t)){i=t;var n=d();s.trigger(l.PLAYER_BUFFERUPDATED,{buffers:t,seekable:n})}}}function u(e){o=e.totalduration}function d(){return r&&r.length?a.duration<1/0?new f(r.start(0),r.end(0)):void 0!==o?function(){{if(o<=c)return new f(0,0);var e=Math.ceil(r.end(0)-o),t=Math.max(0,e),n=Math.max(r.end(0),o)-c;return new f(t,n)}}():(e=r.start(0),(t=r.end(0))-e<=c||5<e?new f(0,0):new f(e,t-c)):new f(0,0);var e,t}function f(e,t){this.start=e;this.end=t}return{get canSeek(){return e=d(),Math.floor(Math.min(c,a.duration))<=Math.ceil(e.end-e.start);var e},destroy:function(){e(!1)}}});CBC.APP.Caffeine.addModule("Players.Components.Captions",function(e,t){"use strict";var n,a,i=this,r=CBC.APP.Caffeine.Helpers.Event,o=e,s=t.getCaptions(),l=!1,c=CBC.APP.Caffeine.captions,u=!1;!function(){0<o.textTracks.length&&!0===t.isLive()&&i.on(r.PLAYER_PLAYING,d);o.textTracks.addEventListener("addtrack",d);_()}();s&&("object"==typeof(n=t.getCaptions())?f():i.on(r.HANDLER_MEDIA_URL_UPDATED,f));function d(){n=l=!0;_()}function f(){if("object"==typeof(n=t.getCaptions())&&n.src){i.off(r.HANDLER_MEDIA_URL_UPDATED,f);o.textTracks.removeEventListener("addtrack",d);(a=document.createElement("track")).src=n.src;a.srclang=n.lang;a.kind="captions";a.default=!0;a.label="English";o.setAttribute("crossorigin","anonymous");o.addEventListener("loadedmetadata",A);o.addEventListener("playing",m)}}function A(){o.removeEventListener("loadedmetadata",A);a.addEventListener("load",p);o.appendChild(a)}function p(){a.removeEventListener("load",p);l=!0;_()}function m(){E(CBC.APP.Caffeine.captions)}function _(){i.trigger(r.PLAYER_CAPTIONCHANGE,{isAvailable:n,isShowing:c});if(l){u||function(){if(0<o.textTracks.length)for(var e=0;e<o.textTracks.length;e++)if("captions"===o.textTracks[e].kind||"subtitles"===o.textTracks[e].kind){u=o.textTracks[e];return}}();u&&(u.mode=c?"showing":"hidden")}}function E(e){c=!0===e;CBC.APP.Caffeine.captions=c;_()}return{get hasCaptions(){return!!n},get captions(){return c},set captions(e){E(e)},destroy:function(){l=!1;o.contains(a)&&o.removeChild(a);o.textTracks.removeEventListener("addtrack",d);o.removeEventListener("loadedmetadata",A);o.removeEventListener("playing",m);a&&a.removeEventListener("load",p)}}});CBC.APP.Caffeine.addModule("Players.Components.ChapterManager",function(){"use strict";var t,n=this,a=CBC.APP.Caffeine._,i=CBC.APP.Caffeine.Helpers.Event,r=CBC.APP.Caffeine.Constants.PlayerStatus,o=-1,s=[];!function(){var e=-1;-1<o&&(e=s[o].startTime);s=n.metadata.chapters;o=a.findLastIndex(s,{startTime:e})}();e(!0);function e(e){var t=e?"on":"off";n[t](i.PLAYER_COMPLETED,c,!0);n[t](i.PLAYER_STATUSCHANGE,l)}function l(e){switch(e.to){case r.PLAYING:t=window.clearInterval(t);n.on(i.PLAYER_TIMEUPDATED,u);break;default:if("number"==typeof t)return;n.off(i.PLAYER_TIMEUPDATED,u);t=window.setInterval(u,1e3)}}function c(){n.trigger(i.CHAPTER_END,s.length-1);o=-1}function u(){if(n.status===r.PLAYING){var e=d();if(e!=o){0<=o&&a.defer(n.trigger,i.CHAPTER_END,o);a.defer(n.trigger,i.CHAPTER_START,e)}o=e}}function d(){return function(e){if(0===s.length)return-1;if(e<s[0].startTime)return-1;for(var t=s.length-1;0<=t;t--)if(e>=s[t].startTime)return t;return-1}(n.metadata.isLive?Date.now():Math.floor(n.currentTime))}return{get index(){return d()},get currentChapter(){return s[d()]},destroy:function(){window.clearInterval(t);e(!1);n.off(i.PLAYER_TIMEUPDATED,u)}}});CBC.APP.Caffeine.addModule("Players.Components.CueParser",function(e){if("object"==typeof e){var t,n=CBC.APP.Caffeine.Constants.Event,a=window.DataCue||window.VTTCue;void 0!==a&&e instanceof a?t=e.data instanceof ArrayBuffer?new Uint8Array(e.data):e.value:e instanceof ArrayBuffer&&(t=(t=e.data)instanceof ArrayBuffer?new Uint8Array(t):null);t instanceof Uint8Array&&(t=function(e){var t,n="",a="";if(73!==e[0]||68!==e[1]||51!==e[2])return null;t=10;for(;t<14&&t<e.length&&!(e[t]<32);){n+=String.fromCharCode(e[t]);t++}t=22;for(;t<e.length;){32<=e[t]&&(a+=String.fromCharCode(e[t]));t++}return{key:n,data:a}}(t));t&&t.value&&!t.data&&(t.data=t.value);if(t)this.trigger(n.PLAYER_CUE_CHANGED,t);else{window.console.warn("CueParser could not parse this received cue:");window.console.warn(e)}}});CBC.APP.Caffeine.addModule("Players.Components.HlsjsManager",function(e,t){var n,a,i=this,r=CBC.APP.Caffeine,o=r.Constants.Event,s=r.Constants.ErrorList,l=r.getSettings().CBC_DOMAIN+"/i/caffeine/js/libs/hls.min.js";"function"==typeof window.Hls?c():CBC.APP.Caffeine.addDependency(l,c);function c(){if(Hls.isSupported()){(n=new Hls({fragLoadingMaxRetryTimeout:4e3,liveDurationInfinity:!0})).startLevel=-1;u(!0);n.attachMedia(e)}else i.trigger(o.HLSJS_ERRORED,s.HLSJS_DEFAULT_ERROR)}function u(e){var t=e?"on":"off";n[t](Hls.Events.ERROR,A);n[t](Hls.Events.MEDIA_ATTACHED,p);n[t](Hls.Events.LEVEL_SWITCH,m);n[t](Hls.Events.LEVEL_LOADED,C);n[t](Hls.Events.STREAM_STATE_TRANSITION,f);n[t](Hls.Events.AUDIO_TRACKS_UPDATED,_);i[t](o.PLAYER_PLAYINTENT,d);i[t](o.HLSJS_SET_AUDIO_TRACK,E)}function d(){n.recoverMediaError()}function f(e,t){a=t.nextState}function A(e,t){switch(t.type){case Hls.ErrorTypes.NETWORK_ERROR:t.fatal&&i.trigger(o.HLSJS_ERRORED,s.HLSJS_NETWORK_ERROR);break;case Hls.ErrorTypes.MEDIA_ERROR:if("bufferAppendError"===t.details&&"PARSING"===a){i.trigger(o.CAFFEINE_ERROR,s.HLSJS_DEFAULT_ERROR);d()}break;default:t.fatal&&i.trigger(o.HLSJS_ERRORED,s.HLSJS_DEFAULT_ERROR)}}function p(){n.loadSource(t.url)}function m(e,t){i.trigger(o.PLAYER_BITRATECHANGED,n.levels[t.level].bitrate)}function _(e,t){i.trigger(o.HLSJS_AUDIO_TRACKS_UPDATED,t)}function E(e){n.audioTrack=e}function C(e,t){i.trigger(o.HLSJS_LEVELLOADED,t.details)}return{destroy:function(){if(n){u(!1);n.destroy()}e=null}}});CBC.APP.Caffeine.addModule("Players.Components.LivePlaceholderController",function(n){"use strict";var a,e,i,r,o,s,l,c=this,u=CBC.APP.Caffeine,d=u._,f=u.Helpers.Event,A=u.Constants.PlayerStatus,p=u.Helpers.DateTimeFormat,t=c.parentInstance.session.config,m=u.getSettings().LIVESTREAM_RETRY_WAIT_SECONDS||30,_=0,E=500,C=null,v=0,g="Load Live Stream Now";!function(){l=c.parentInstance.session.ui.addContextMenuItem(g);h(!0);P(A.READY);t.muted&&V(t.muted)}();function h(e){var t=e?"on":"off";c.parentInstance[t](f.ADS_BREAK_START,M);c.parentInstance[t](f.ADS_BREAK_COMPLETE,B);c.parentInstance[t](f.ADS_PAUSED,w);c.parentInstance[t](f.ADS_RESUMED,k);c.parentInstance[t](f.ADS_STOPPED,y);c.parentInstance[t](f.ADS_ERRORED,Y);l[t=e?"addEventListener":"removeEventListener"]("click",D)}function P(e){if(!d.contains(A,e))throw new Error("Cannot set player to invalid status of "+e);if(e!==a){var t,n=a;switch(a=e){case A.PLAYING:t=f.PLAYER_PLAYING;break;case A.PAUSED:t=f.PLAYER_PAUSED;break;case A.READY:t=n?f.PLAYER_STOPPED:f.PLAYER_READY}t&&d.defer(c.trigger,t);d.defer(c.trigger,f.PLAYER_STATUSCHANGE,{from:n,to:e})}}function T(){_+=E/1e3;!function(){var e=s.querySelector(".nowtime"),t=c.metadata.airDate-Date.now();if(2<=v){var n;n=t<-36e5?"This stream appears to be over.":"Stream is not available.";e.innerHTML=n+"<br/>Trying again "+p.getTimeSince(o,!0)}else e.innerHTML=864e5<=t?p.getTimeSince(c.metadata.airDate):0<=t?p.getFormattedDuration(t/1e3):"Connecting to live stream..."}();_;c.trigger(f.PLAYER_TIMEUPDATED,_)}function I(){if(void 0===e){e=window.setInterval(T,E);P(A.PLAYING)}}function y(){L();R();P(A.READY);c.trigger(f.PLAYER_ENDED)}function L(){void 0!==e&&(e=window.clearInterval(e))}function S(e){R();var t=Date.now(),n=1e3*e;o=Math.max(t+n,t);r=window.setTimeout(D,n)}function R(){if(r){r=window.clearTimeout(r);o=null}}function D(){R();N();s&&s.classList.add("attempting-live-stream");i=c.parentInstance.initModule("Players.Main",c.metadata.queuePosition,c.parentInstance.session.ui.playbackElements,!1);O(!0)}function b(){O(!1);v++;c.parentInstance.session.swapPlayer(i)}function U(){N();v++;S(m)}function N(){R();s&&s.classList.remove("attempting-live-stream");if(i){O(!1);i.destroy();i=null}}function O(e){var t=e?"on":"off";i[t](f.PLAYER_SRCSET,b);i[t](f.CAFFEINE_ERROR,U)}function M(){switch(c.parentInstance.player.status){case A.PLAYING:case A.LOADING:case A.ADVERTISING:C=A.PLAYING;break;case A.PAUSED:case A.ADVERTISING_PAUSED:C=A.ADVERTISING_PAUSED;break;case A.READY:C=A.READY}switch(status){case A.LOADING:case A.PLAYING:q()}P(A.ADVERTISING)}function w(){P(A.ADVERTISING_PAUSED)}function k(){P(A.ADVERTISING)}function B(){switch(C){case A.PLAYING:case A.LOADING:x();break;default:P(C)}C=null}function Y(){P(A.PAUSED);x()}function x(){if(!c.parentInstance.session.capabilities.canAutoplay)throw new Error("Cannot start playback before a user action");switch(a){case A.READY:!function(){var e=(c.metadata.airDate-Date.now())/1e3;S(e+=8*Math.random()-4);!0;P(A.LOADING);c.trigger(f.PLAYER_PLAYINTENT);I()}();!function(){var e=u.Templates["LivePlaceholder.html"]({metadata:c.metadata,startDate:p.getFormattedDate(new Date(c.metadata.airDate)),startTime:p.getFormattedTime(new Date(c.metadata.airDate))}),t=document.createElement("div");t.innerHTML=e;s=t.firstChild;n.appendChild(s)}();d.defer(c.trigger,f.PLAYER_INITIALPLAY);break;case A.PLAYING:return;case A.PAUSED:I();break;case A.ADVERTISING:if(c.parentInstance.ima.playing);else{I();P(A.PLAYING)}break;case A.ADVERTISING_PAUSED:c.parentInstance.ima.playing?c.parentInstance.ima.resume():P(A.PLAYING)}}function q(){switch(a){case A.PAUSED:case A.ADVERTISING_PAUSED:return;case A.ADVERTISING:if(c.parentInstance.ima.playing){c.parentInstance.ima.pause();P(A.ADVERTISING_PAUSED)}else L();break;case A.PLAYING:case A.LOADING:d.defer(L)}}function V(e){u.volume=e?0:1;c.trigger(f.PLAYER_VOLUMECHANGED,e?0:u.volume)}return{play:x,pause:q,unpause:x,stop:function(){a!==A.READY&&y()},get status(){return a},get currentTime(){return _},set currentTime(e){!function(e){if(e!==_){_=e;a!==A.PLAYING&&c.trigger(f.PLAYER_TIMEUPDATED,e)}}(e)},get duration(){return 1/0},get muted(){return 0===u.volume},set muted(e){V(e)},get volume(){return u.volume},set volume(e){!function(e){CBC.APP.Caffeine.volume=e;c.trigger(f.PLAYER_VOLUMECHANGED,e)}(e)},get currentChapterIndex(){return 0},get seekable(){return!1},captions:null,destroy:function(){y();h(!1);c.parentInstance.session.ui.removeContextMenuItem(g);i&&O(!1);s&&s.parentElement&&s.parentElement.removeChild(s)}}});CBC.APP.Caffeine.addModule("Players.Components.MediaSourceManager",function(a,e){var n,t,i,r=this,o=CBC.APP.Caffeine.Helpers.Event,s=CBC.APP.Caffeine.Helpers.ErrorList,l=CBC.APP.Caffeine.Constants.PlayerStatus,c=3,u=[],d=-1,f=null,A=null,p=CBC.APP.Caffeine._,m=0,_={"application/vnd.apple.mpegurl":"HLS","application/x-mpegurl":"HLS","application/x-mpegURL":"HLS"};!function(){u=e.getAssetDescriptors();E(!0);C()}();function E(e){var t=e?"on":"off";r.parentInstance[t](o.PLAYER_SRCERR,C);r[t](o.HLSJS_ERRORED,C);r[t](o.PLAYER_PLAYINTENT,g)}function C(){try{v()}catch(e){p.defer(function(){r.trigger(o.CAFFEINE_ERROR,s.NO_COMPATIBLE_SOURCES)})}}function v(){if(!D())throw new Error(s.NO_COMPATIBLE_SOURCES.debug);-1<d&&P();0<++d&&r.trigger(o.CAFFEINE_ERROR,s.ATTEMPTING_FALLBACK_ASSET);a.addEventListener("loadedmetadata",I);a.addEventListener("error",T);f=u[d];r.parentInstance.on(o.HANDLER_MEDIA_URL_UPDATED,h);i=r.initModule("Players.Components.PlaybackMonitor",a);(e=r.parentInstance.player||r).status&&e.status!==l.READY?f.load():r.on(o.PLAYER_PLAYINTENT,f.load);var e}function g(){r.off(o.PLAYER_PLAYINTENT,f.load);if(A)if(A.expiry<=Date.now()/1e3){d--;v()}else a.src||h(A)}function h(t){u.some(function(e){return e.id===t.id})&&(A&&A.url===t.url||(function(e){var t=e.mimeType;e.codec&&(t+='; codecs="'+e.codec+'"');var n=document.createElement(a.tagName);return n&&n.canPlayType&&!!n.canPlayType(t)}(A=t)?a.src=A.url:R(A)?function(){if("HLS"===R(A))try{n&&n.destroy();n=r.initModule("Players.Components.HlsjsManager",a,A)}catch(e){C()}}():C()))}function P(){f&&r.off(o.PLAYER_PLAYINTENT,f.load);r.parentInstance.off(o.HANDLER_MEDIA_URL_UPDATED,h);a.removeEventListener("loadedmetadata",I);a.removeEventListener("error",T);a.removeEventListener("error",y);n&&n.destroy();if(i){i.destroy();i=null}A&&A.expiry<Date.now()/1e3&&(a.src=null);if(f){f.unload();f=null}}function T(e){a.removeEventListener("loadedmetadata",I);a.removeEventListener("error",T);C()}function I(e){a.removeEventListener("loadedmetadata",I);a.removeEventListener("error",T);a.addEventListener("error",y);r.off(o.PLAYER_PLAYINTENT,f.load);r.trigger(o.PLAYER_SRCSET,A.url)}function y(){a.addEventListener("playing",L);if(c<=m)C();else{m++;t=setTimeout(S,2e3*m)}}function L(e){a.removeEventListener("playing",L);m=0}function S(){a.load();a.play()}function R(e){return _[e.mimeType]}function D(){return u.length-1>d}r.mediaSourceManager={destroy:function(){P();t=clearTimeout(t);a.removeEventListener("loadedmetadata",I);a.removeEventListener("error",T);a.removeEventListener("error",y);a.removeAttribute("src");a.load();E(!1);delete r.mediaSourceManager},tryNextSource:v,get hasNextSource(){return D()},get currentSource(){return{descriptor:u[d],asset:A}}};return r.mediaSourceManager});CBC.APP.Caffeine.addModule("Players.Components.PlaybackController",function(e,n){"use strict";var a,t,i,r,o,s,l,c,u=this,d=CBC.APP.Caffeine._,f=CBC.APP.Caffeine.Helpers.Event,A=CBC.APP.Caffeine.Constants.PlayerStatus,p=u.parentInstance.session.config,m=!1,_=!1,E=0,C=e,v=[],g=null;!function(){C.preload="metadata";p.muted&&W(p.muted);C.volume=CBC.APP.Caffeine.volume;y(!0);!0===n.isVideo()&&(i=u.initModule("Players.Components.Captions",C,n));h(A.READY)}();return{play:j,pause:K,unpause:function(){j()},stop:function(){if(a===A.READY)return;I()},get status(){return a},get currentTime(){return Q()},set currentTime(e){!function(e){if(e===Q())return;var t=C.duration?C.duration:n.getDuration();e=Math.max(Math.min(t,e),0);C.currentTime=e;a!==A.PLAYING&&u.trigger(f.PLAYER_TIMEUPDATED,e)}(e)},get duration(){return C.duration},get muted(){return C.muted},set muted(e){W(e)},get volume(){return C.volume},set volume(e){!function(e){C.volume=e;O()}(e)},get currentChapterIndex(){return r?r.index:0},get seekable(){return l.canSeek},get audioTracks(){return c.audioTracks},get audioTrack(){return c.audioTrack},set audioTrack(e){c.audioTrack=e},captions:i,destroy:function(){I();r&&r.destroy();s&&s.destroy();c&&c.destroy();l&&l.destroy();o&&o.destroy();i&&i.destroy();y(!1);for(var e=0;e<v.length;e++)v[e].removeEventListener("cuechange",G);C.parentNode&&C.parentNode.removeChild(C)}};function h(e){if(!d.contains(A,e))throw new Error("Cannot set player to invalid status of "+e);if(e!==a){var t,n=a;switch(a=e){case A.PLAYING:t=f.PLAYER_PLAYING;break;case A.PAUSED:t=f.PLAYER_PAUSED;break;case A.READY:t=n?f.PLAYER_STOPPED:f.PLAYER_READY}t&&d.defer(u.trigger,t);d.defer(u.trigger,f.PLAYER_STATUSCHANGE,{from:n,to:e})}}function P(){r=u.initModule("Players.Components.ChapterManager");o=u.initModule("Players.Components.MediaSourceManager",C,n);l=u.initModule("Players.Components.BufferManager",C);c=u.initModule("Players.Components.AudioTracksManager",C);window.AKAMAI_MEDIA_ANALYTICS_CONFIG_FILE_PATH||(s=u.initModule("Players.Components.AkamaiAnalytics"))}function T(){u.trigger(f.PLAYER_METADATALOADED);if((!u.parentInstance.ima||!u.parentInstance.ima.playing)&&m&&!C.playing){var e=C.play();void 0!==e&&e.then(function(){}).catch(function(){a===A.LOADING&&h(A.PAUSED)})}}function I(){C.pause();0<C.currentTime&&(C.currentTime=0);m=_=!1;h(A.READY);u.trigger(f.PLAYER_ENDED)}function y(e){var t=e?"addEventListener":"removeEventListener";C[t]("loadedmetadata",T);C[t]("loadeddata",D);C[t]("playing",b);C[t]("timeupdate",U);C[t]("pause",N);C[t]("volumechange",O);C[t]("ended",M);C[t]("seeking",H);C[t]("seeked",F);C.textTracks&&C.textTracks[t]("addtrack",z);u[t=e?"on":"off"](f.PLAYER_READY,P);u[t](f.PLAYER_SRCSET,R);u[t](f.PLAYER_PLAYBACK_ISSUE,L);u[t](f.PLAYER_PLAYBACK_ISSUE_RESOLVED,S);u.parentInstance[t](f.ADS_INITIALIZED,w);u.parentInstance[t](f.ADS_BREAK_START,k);u.parentInstance[t](f.ADS_BREAK_COMPLETE,x);u.parentInstance[t](f.ADS_PAUSED,B);u.parentInstance[t](f.ADS_RESUMED,Y);u.parentInstance[t](f.ADS_STOPPED,I);u.parentInstance[t](f.ADS_ERRORED,q);u.parentInstance[t](f.CAFFEINE_ERROR,V)}function L(){h(A.LOADING)}function S(){u.parentInstance.ima&&u.parentInstance.ima.playing||h(A.PLAYING)}function R(){E=C.currentTime}function D(){!_&&0<E&&(C.currentTime=E)}function b(){if(!_){_=!0;C.volume=CBC.APP.Caffeine.volume;d.defer(u.trigger,f.PLAYER_INITIALPLAY)}switch(a){case A.PLAYING:return;case A.ADVERTISING:case A.ADVERTISING_PAUSED:u.parentInstance.ima.playing?C.pause():h(A.PLAYING);break;default:h(A.PLAYING)}}function U(){t!==C.currentTime&&u.trigger(f.PLAYER_TIMEUPDATED,C.currentTime);t=C.currentTime}function N(){switch(a){case A.PLAYING:h(A.PAUSED);break;default:return}}function O(){if(CBC.APP.Caffeine.volume!==u.volume){CBC.APP.Caffeine.volume=u.volume;u.trigger(f.PLAYER_VOLUMECHANGED,C.volume)}}function M(){u.trigger(f.PLAYER_COMPLETED);I();p.continuousPlay&&u.parentInstance.hasNextTrack()&&u.parentInstance.playNextTrack()}function w(){}function k(){switch(u.parentInstance.player.status){case A.PLAYING:case A.LOADING:case A.ADVERTISING:g=A.PLAYING;break;case A.PAUSED:case A.ADVERTISING_PAUSED:g=A.ADVERTISING_PAUSED;break;case A.READY:g=A.READY}switch(status){case A.LOADING:case A.PLAYING:K()}h(A.ADVERTISING)}function B(){h(A.ADVERTISING_PAUSED)}function Y(){h(A.ADVERTISING)}function x(){switch(g){case A.PLAYING:case A.LOADING:case void 0:case null:j();break;default:h(g)}g=null}function q(){h(A.PAUSED);j()}function V(e){e&&!1===e.critical||h(A.ERROR)}function H(){_&&u.trigger(f.PLAYER_SEEKSTART)}function F(){if(_){u.trigger(f.PLAYER_TIMEUPDATED,C.currentTime);u.trigger(f.PLAYER_SEEKEND)}}function z(e){var t=e.track;if("metadata"==t.kind){t.mode="hidden";t.addEventListener("cuechange",G);v.push(t)}}function G(e){var t=e.target;for(var n in t.activeCues)u.initModule("Players.Components.CueParser",t.activeCues[n])}function j(){if(!u.parentInstance.session.capabilities.canAutoplay)throw new Error("Cannot start playback before a user action");switch(a){case A.READY:!function(){m=!0;h(A.LOADING);u.trigger(f.PLAYER_PLAYINTENT);C.play()}();break;case A.PLAYING:return;case A.PAUSED:C.play();break;case A.ADVERTISING:if(u.parentInstance.ima.playing);else{h(A.PLAYING);C.play()}break;case A.ADVERTISING_PAUSED:if(u.parentInstance.ima.playing)u.parentInstance.ima.resume();else{h(A.PLAYING);C.play()}}}function K(){switch(a){case A.PAUSED:case A.ADVERTISING_PAUSED:return;case A.ADVERTISING:if(u.parentInstance.ima.playing){u.parentInstance.ima.pause();h(A.ADVERTISING_PAUSED)}else C.pause();break;case A.PLAYING:case A.LOADING:C.pause()}}function W(e){C.muted=e;u.trigger(f.PLAYER_VOLUMECHANGED,e?0:C.volume)}function Q(){return C.currentTime}});CBC.APP.Caffeine.addModule("Players.Components.PlaybackMonitor",function(){var t,n,a,e,i,r=this,o=r.parentInstance.session.config,s=CBC.APP.Caffeine.Helpers.Event,l=CBC.APP.Caffeine.Helpers.ErrorList,c=CBC.APP.Caffeine.Constants.PlayerStatus,u=333,d=5e3,f=25e3,A=0,p=0,m=!1;r.on(s.PLAYER_PLAYINTENT,_);r.on(s.PLAYER_STATUSCHANGE,I);r.on(s.PLAYER_SEEKSTART,y);r.on(s.PLAYER_SEEKEND,L);r.on(s.PLAYER_ENDED,E);r.on(s.PLAYER_TIMEUPDATED,P);function _(){n=window.setTimeout(h,d)}function E(){n=window.clearTimeout(n)}function C(e){v(m=!1);r.trigger(s.PLAYER_SRCERR)}function v(e){if(e&&!t&&r.currentTime>p)t=setInterval(g,u);else if(!e&&t){t=clearInterval(t);i=clearTimeout(i);a=clearTimeout(a)}}function g(){if(r.currentTime<=A)h();else{P();A=r.currentTime}}function h(){if(!m){m=!0;r.trigger(s.PLAYER_PLAYBACK_ISSUE);i=setTimeout(C,f,l.TIMEOUT_ERROR);a=setTimeout(T,d,!0);e=clearTimeout(e)}}function P(){if(m){m=!1;r.trigger(s.PLAYER_PLAYBACK_ISSUE_RESOLVED);i=clearTimeout(i);a=clearTimeout(a);e=setTimeout(T,d,!1)}}function T(e){var t=o.caffeineNode.querySelector(".playbackelement");t&&(e?t.classList.add("playback-unreliable"):t.classList.remove("playback-unreliable"))}function I(e){switch(e.to){case c.LOADING:break;case c.PLAYING:n=window.clearTimeout(n);A=r.currentTime;P();v(!0);break;case c.READY:v(!1);A=0;break;default:n=window.clearTimeout(n);v(!1)}}function y(e){v(!1)}function L(e){A=r.currentTime;p=r.currentTime;r.status===c.PLAYING&&v(!0)}return{destroy:function(){v(!1);A=0;n=clearTimeout(n);a=clearTimeout(a);e=clearTimeout(e);i=clearTimeout(i);T(!1);r.off(s.PLAYER_PLAYINTENT,_);r.off(s.PLAYER_STATUSCHANGE,I);r.off(s.PLAYER_SEEKSTART,y);r.off(s.PLAYER_SEEKEND,L);r.off(s.PLAYER_ENDED,E);r.off(s.PLAYER_TIMEUPDATED,P)}}});CBC.APP.Caffeine.addModule("Players.Components.UITemplatesManager",function(r){"use strict";var e,t=CBC.APP.Caffeine,o=t._,n=t.Constants.Event,s=t.Constants.UITemplates,l=t.Constants.PlayerStatus,c=this,u={},d=!1;!function(){if(!(r instanceof HTMLElement))throw new Error("UITemplatesManager requires a valid parent node to insert the UI into");a(!0)}();function a(e){var t=e?"on":"off";c[t](n.PLAYER_STATUSCHANGE,f);c.parentInstance[t](n.PLAYER_DOCKCHANGED,i)}function i(e){d=e.isDocked;A()}function f(){if(e!==c.status){void 0===e&&A();switch(c.status){case l.READY:case l.ADVERTISING:case l.PLAYING:A()}e=c.status}}function A(){var e=function(){var e,t;switch(c.status){case l.READY:e=c.parentInstance.session.config.dockEventsOnly?s.READY:d?s.DOCK_READY:s.READY;break;default:e=c.parentInstance.session.config.dockEventsOnly?s.PLAYING:d?s.DOCK_PLAYING:s.PLAYING}var n=c.metadata.isVideo||c.parentInstance.session.config.forceVideo,a=c.metadata.isOnDemand;n&&a&&(t=e.VideoOndemand);n&&!a&&(t=e.VideoLive);!n&&a&&(t=e.AudioOndemand);n||a||(t=e.AudioLive);return t}(),t=Object.keys(u),n=o.intersection(t,e),a=o.difference(t,n),i=o.difference(e,n);p(a);!function(e){for(var t in e){var n;n=c.initModule("Players.UI.UserInterface",e[t],r);var a=e[t];u[a]=n}}(i)}function p(e){if(0!=e.length&&0!=u.length)for(var t=0;t<e.length;t++){var n=e[t],a=u[n];if(a){a.destroy();delete u[n]}}}return{destroy:function(){p(Object.keys(u));a(!1)}}});CBC.APP.Caffeine.addModule("Players.Main",function(r,o,s){"use strict";var l,c,u,d,f,A,p=CBC.APP.Caffeine,m=this,_=m.queue[r],E=m.session.modelsManager.getClip(_),C={get play(){return f.play},get pause(){return f.pause},get stop(){return f.stop},get parentInstance(){return m},get currentClip(){return _},get metadata(){return c},get status(){if(f)return f.status},get currentTime(){return f.currentTime},set currentTime(e){f.currentTime=e},get duration(){return f.duration||E.getDuration()},get muted(){return f.muted},set muted(e){f.muted=e},get volume(){return f.volume},set volume(e){f.volume=e},get captions(){return f.captions&&f.captions.captions},set captions(e){f.captions.captions=e},get hasCaptions(){return f.captions&&f.captions.hasCaptions},get currentChapterIndex(){return f.currentChapterIndex},get seekable(){return f.seekable},get audioTracks(){return f.audioTracks},get audioTrack(){return f.audioTrack},set audioTrack(e){f.audioTrack=e},get initModule(){return e},get destroy(){return t},get on(){return l.on},get off(){return l.off},get trigger(){return l.trigger},get container(){return u}};!function(){var e=p.Templates["Player.html"]({ciid:m.session.config.ciid}),t=document.createElement("div");t.innerHTML=e;u=t.firstElementChild;d=E.isAudio()?o.audio:o.video;u.contains(d)||u.appendChild(d);l=function(){var e=new CBC.APP.CaffeineEventDispatcher,t=e.trigger;e.trigger=function(){t.apply(this,arguments);m.player===C&&m.trigger.apply(this,arguments)};return e}();c=m.initModule("Core.Components.ClipMetadata",r);n=E.isLive(),a=E.isVideo(),i=m.player&&m.player.metadata.id===_,f=n&&a&&!i?C.initModule("Players.Components.LivePlaceholderController",u):C.initModule("Players.Components.PlaybackController",d,E);var n,a,i;s||(A=C.initModule("Players.Components.UITemplatesManager",u))}();function e(t){var e=CBC.APP.Caffeine.getModule(t),n=CBC.APP.Caffeine._.toArray(arguments).slice(1);try{return e.apply(C,n)}catch(e){window.console.error("Error loading module "+t);window.console.error(e);throw e}}function t(){A&&A.destroy();f&&f.destroy();u.contains(d)&&d.parentElement.removeChild(d)}return C});CBC.APP.Caffeine.addModule("Players.UI.ConditionalButtons.UICaptions",function(e){var t=CBC.APP.Caffeine,n=t.Constants.Event,a=t.Constants.UIElements,i=this,r=this.initModule("Players.UI.Elements.UIConditionalButton",e),o=Object.create(r);!function(){l({isAvailable:i.hasCaptions,isShowing:i.captions});s(!0)}();function s(e){i[e?"on":"off"](n.PLAYER_CAPTIONCHANGE,l)}function l(e){e.isAvailable?e.isShowing?o.setActiveChild(a.BUTTON_CAPTIONS_OFF):o.setActiveChild(a.BUTTON_CAPTIONS_ON):o.setActiveChild()}o.destroy=function(){s(!1);r.destroy()};return o});CBC.APP.Caffeine.addModule("Players.UI.ConditionalButtons.UIDock",function(e){var t=CBC.APP.Caffeine,n=t.Constants.Event,a=t.Constants.UIElements,i=this,r=this.initModule("Players.UI.Elements.UIConditionalButton",e),o=Object.create(r);!function(){l();s(!0)}();function s(e){var t=e?"on":"off";i.parentInstance[t](n.PLAYER_DOCKCHANGED,l)}function l(){!0===i.parentInstance.session.docked?o.setActiveChild(a.BUTTON_UNDOCK):!1===i.parentInstance.session.docked&&o.setActiveChild(a.BUTTON_DOCK)}o.destroy=function(){s(!1);r.destroy()};return o});CBC.APP.Caffeine.addModule("Players.UI.ConditionalButtons.UIPlayPauseStop",function(e){var t=CBC.APP.Caffeine,n=t.Constants.Event,a=t.Constants.PlayerStatus,i=t.Constants.UIElements,r=this,o=this.initModule("Players.UI.Elements.UIConditionalButton",e),s=Object.create(o);!function(){c();l(!0)}();function l(e){var t=e?"on":"off";r[t](n.PLAYER_STATUSCHANGE,c);r[t](n.PLAYER_BUFFERUPDATED,c)}function c(e){switch(r.status){case a.READY:case a.PAUSED:case a.ADVERTISING_PAUSED:s.setActiveChild(i.BUTTON_PLAY);break;case a.LOADING:s.setActiveChild(i.BUTTON_STOP);break;case a.PLAYING:r.seekable?s.setActiveChild(i.BUTTON_PAUSE):s.setActiveChild(i.BUTTON_STOP);break;case a.ADVERTISING:s.setActiveChild(i.BUTTON_PAUSE);break;default:s.setActiveChild()}}s.destroy=function(){l(!1);o.destroy()};return s});CBC.APP.Caffeine.addModule("Players.UI.ConditionalButtons.UIVolume",function(e){var t=CBC.APP.Caffeine,n=t.Constants.Event,a=t.Constants.UIElements,i=this,r=this.initModule("Players.UI.Elements.UIConditionalButton",e),o=Object.create(r);!function(){l();s(!0)}();function s(e){i[e?"on":"off"](n.PLAYER_VOLUMECHANGED,l)}function l(){i.parentInstance.session.capabilities.canChangeVolume?i.muted||0===i.volume?o.setActiveChild(a.BUTTON_UNMUTE):o.setActiveChild(a.BUTTON_MUTE):o.setActiveChild()}o.destroy=function(){s(!1);r.destroy()};return o});CBC.APP.Caffeine.addModule("Players.UI.Elements.UIButton",function(t){var e=this.initModule("Players.UI.Elements.UIElement",t),n=Object.create(e);Object.defineProperty(n,"focus",{configurable:!0,enumerable:!0,get:function(){return t===document.activeElement},set:function(e){!0===e&&t.focus()}});return n});CBC.APP.Caffeine.addModule("Players.UI.Elements.UIClickToActivate",function(a){var e,t=CBC.APP.Caffeine._,i=this.initModule("Players.UI.Elements.UIElement",a),n=Object.create(i),r=a.querySelector(".activator"),o="active";!function(){{if(!r)throw new Error('Error: UIClickToActivate requires an element with a class "activator"');a.classList.remove(o)}s(!0)}();function s(e){var t=e?"addEventListener":"removeEventListener";r[t]("click",l);r[t]("focus",c);a[t]("mouseleave",d);a[t]("mouseenter",f);a[t]("blur",A)}function l(e){a.classList.toggle(o);r.setAttribute("aria-expanded",!JSON.parse(r.getAttribute("aria-expanded")))}function c(e){if(a.contains(document.activeElement)){f();document.activeElement.addEventListener("blur",u)}else d()}function u(e){e.target.removeEventListener("blur",u);t.defer(c)}function d(){e=window.setTimeout(A,1500)}function f(){window.clearTimeout(e)}function A(){a.classList.remove(o);r.setAttribute("aria-expanded",!1);f()}n.fits=function(e){var t=a.classList.contains(o);if(!t){a.classList.add(o);r.setAttribute("aria-expanded",!0)}var n=i.fits(e);if(!t){a.classList.remove(o);r.setAttribute("aria-expanded",!1)}return n};Object.defineProperty(n,"width",{configurable:!0,enumerable:!0,get:function(){var e=a.classList.contains(o);if(!e){a.classList.add(o);r.setAttribute("aria-expanded",!0)}for(var t=i.width,n=r.nextElementSibling;n;){t+=n.offsetWidth;n=n.nextElementSibling}if(!e){a.classList.remove(o);r.setAttribute("aria-expanded",!1)}return t}});n.destroy=function(){document.activeElement&&document.activeElement.removeEventListener("blur",u);f();s(!1);i.destroy()};return n});CBC.APP.Caffeine.addModule("Players.UI.Elements.UIConditionalButton",function(e){var t,i,n=this.initModule("Players.UI.Elements.UIElement",e),r=Object.create(n),a=CBC.APP.Caffeine._,o=[];function s(){o=a.toArray(e.querySelectorAll("[data-uielement]")).reduce(function(e,t){t.uiElement&&e.push(t.uiElement);return e},[]);r.setActiveChild(t)}Object.defineProperty(r,"focus",{configurable:!0,enumerable:!0,get:function(){return o.some(function(e){return e.focus})},set:function(e){!0===e&&i&&(i.focus=!0)}});r.setActiveChild=function(n){if(!n||n!==t){var a=r.focus;t=n;r.enabled&&o.forEach(function(e){var t=e.type===n;if(e.visible=t){i=e;a&&(e.focus=!0)}})}};s();0===o.length&&a.defer(s);return r});CBC.APP.Caffeine.addModule("Players.UI.Elements.UIElement",function(u){if(!(u instanceof Element))throw new Error("UIElement requires an HTML element to be instantiated.");var t=Object.seal({CLICK:"click"}),n=!0,a=u.innerText,e=u.getAttribute("data-uielement"),i=parseInt(u.getAttribute("data-display-priority"))||null,r=u.style.getPropertyValue("display"),o="none"!==window.getComputedStyle(u).display;s(!0);function s(e){u[e?"addEventListener":"removeEventListener"]("click",d)}function l(){o?r?u.style.setProperty("display",r):u.style.removeProperty("display"):u.style.setProperty("display","block")}function c(){o?u.style.setProperty("display","none"):u.style.removeProperty("display")}function d(e){A.trigger(t.CLICK)}var f={get type(){return e},get priority(){return i},get constants(){return t},get text(){return a},set text(e){u.innerText=a=e},get value(){return u.value},set value(e){u.value=e},get max(){return u.max},set max(e){if(e){u.max=e;u.setAttribute("aria-valuemax",e)}else{u.removeAttribute("max");u.removeAttribute("aria-valuemax")}},get visible(){return"none"!==window.getComputedStyle(u).display},set visible(e){!function(e){if(n)switch(e){case"default":r?u.style.setProperty("display",r):u.style.removeProperty("display");break;case!0:l();break;case!1:c()}}(e)},get enabled(){return n},set enabled(e){!function(e){if(e){u.removeAttribute("disabled");l()}else{u.setAttribute("disabled","disabled");c()}n=e}(e)},get width(){return u.offsetWidth},fits:function(e){var t=0<u.offsetWidth,n=0<u.offsetHeight;if(!t||!n)return!0;var a=0<e.bottom-e.top,i=0<e.right-e.left;if(!a||!i)return!0;var r=u.getBoundingClientRect(),o=Math.ceil(r.top)>=Math.floor(e.top),s=Math.floor(r.bottom)<=Math.ceil(e.bottom),l=Math.ceil(r.left)>=Math.floor(e.left),c=Math.floor(r.right)<=Math.ceil(e.right);return o&&s&&l&&c},toString:function(){return"UIElement "+e},destroy:function(){s(!1);u.parentNode&&u.parentNode.removeChild(u)}},A=new CBC.APP.CaffeineEventDispatcher(f);Object.setPrototypeOf?Object.setPrototypeOf(f,A):f.__proto__=A;return f});CBC.APP.Caffeine.addModule("Players.UI.Elements.UISlider",function(n){if("range"!==n.getAttribute("type"))throw new Error("UIElement sliders must be input with type=range.");var t,u,a="change",e=CBC.APP.Caffeine,i=e._,d=e.Helpers.DateTimeFormat,r=this.initModule("Players.UI.Elements.UIElement",n),f=Object.create(r),o=!1;!function(){n.setAttribute("aria-valuemax",n.getAttribute("max"));u=document.querySelector('output[for="'+n.id+'"]')}();s(!0);function s(e){var t=e?"addEventListener":"removeEventListener";n[t]("click",A);n[t]("input",c);n[t]("mouseover",p);n[t]("mouseout",m);n[t]("touchstart",p);n[t]("touchend",m);n.parentNode[t]("touchstart",c)}function l(e){if(t!==f.value){t=f.value;n.setAttribute("aria-valuenow",f.value);f.trigger(a,f)}}function c(e){o=!0;l()}function A(e){o=!1;l()}function p(e){_(e);n.addEventListener("mousemove",_);n.addEventListener("touchmove",_)}function m(){n.removeEventListener("mousemove",_);n.removeEventListener("touchmove",_)}function _(e){if(u){var t=e.target||e.srcElement,n=window.getComputedStyle(t,null),a=t.getBoundingClientRect(),i=parseInt(n.borderLeftWidth,10),r=e.clientX;e.touches&&e.touches[0]&&(r=e.touches[0].clientX);if(r){var o=r-i-a.left,s=o/a.width,l=Math.ceil(f.maxValue*s);l=Math.max(0,Math.min(f.maxValue,l));u.innerText=d.getFormattedDuration(l);var c=o-u.offsetWidth/2;u.style.left=Math.max(0,Math.min(c,a.width-u.offsetWidth))+"px"}}}Object.defineProperty(f,"focus",{configurable:!0,enumerable:!0,get:function(){return n===document.activeElement},set:function(e){!0===e&&n.focus()}});Object.defineProperty(f,"constants",{configurable:!0,enumerable:!0,get:function(){return i.extend({CHANGE:a},r.constants)}});Object.defineProperty(f,"value",{configurable:!0,enumerable:!0,get:function(){return parseInt(r.value)},set:function(e){if(!o&&e!==r.value){r.value=e;n.setAttribute("aria-valuenow",f.value)}}});Object.defineProperty(f,"min",{configurable:!0,enumerable:!0,get:function(){return parseInt(n.getAttribute("min"))},set:function(e){n.min=e;n.setAttribute("aria-valuemin",e)}});Object.defineProperty(f,"maxValue",{configurable:!0,enumerable:!0,get:function(){return parseInt(n.getAttribute("max"))}});Object.defineProperty(f,"percentValue",{configurable:!0,enumerable:!0,get:function(){return f.value/f.maxValue*100},set:function(e){f.value=e/100*f.maxValue}});f.destroy=function(){m();s(!1);r.destroy()};return f});CBC.APP.Caffeine.addModule("Players.UI.UserInterface",function(n,a){"use strict";var i,r,o,s,l=CBC.APP.Caffeine,c=l._,u=l.Constants.Event,d=l.Constants.UIElements,f=l.Helpers.DateTimeFormat,A=this,p=[],m=[],_=[],E=0,C=0;!function(){if("function"!=typeof l.Templates[n])throw new Error(n+" is not a valid UI template file");a instanceof HTMLElement||window.console.warn(n+"'s UserInterface module was not given an HTMLElement as a parent node. Errors may occur!");var e=l.Templates[n]({metadata:A.metadata,UIElements:d}),t=document.createElement("div");t.innerHTML=e;i=t.firstElementChild;a.appendChild(i);s=c.throttle(y,500);!function(){m=v(i);o={};r={};p.forEach(function(e){var t=e.type;void 0===o[t]&&(o[t]=[]);o[t].push(e);var n=e.priority;if(n){void 0===r[n]&&(r[n]=[]);r[n].push(e)}})}();T(!0);P(!0);q();y();M(A.currentTime);x(A.volume);!function(){if(A.metadata.isVideo)return;if(A.muted){A.volume=0;A.muted=!1}}();D(d.METADATA_PROGRESS,0);D(d.METADATA_BUFFER,0);N(d.SLIDER_SEEK,A.seekable)}();function v(e){var t=c.toArray(e.querySelectorAll("[data-uielement]"));0===t.length&&e.getAttribute("data-uielement")&&(t=[e]);var n=t.reduce(g,[]);p=n.concat(p);return n}function g(e,t){if(void 0!==t.uiElement)return e;0<t.querySelectorAll("[data-uielement]").length&&v(t);var n,a=t.getAttribute("data-uielement"),i=t.tagName,r=Object.keys(d).some(function(e){return d[e]===a});if(!i||!r){F();throw new Error("Cannot create UI. Markup contains an unsupported UIElement")}n=A.initModule(function(e){switch(e){case d.BUTTON_PLAY:case d.BUTTON_PAUSE:case d.BUTTON_STOP:case d.BUTTON_PREVIOUS:case d.BUTTON_NEXT:case d.BUTTON_SKIPBACK:case d.BUTTON_SKIPFORWARD:case d.BUTTON_SHARE:case d.BUTTON_VOLUME:case d.BUTTON_DOCK:case d.BUTTON_UNDOCK:case d.BUTTON_FULLSCREEN:case d.BUTTON_CAPTIONS_ON:case d.BUTTON_CAPTIONS_OFF:case d.BUTTON_MUTE:case d.BUTTON_UNMUTE:return"Players.UI.Elements.UIButton";case d.SLIDER_VOLUME:case d.SLIDER_SEEK:return"Players.UI.Elements.UISlider";case d.CLICK_TO_ACTIVATE_VOLUME:case d.CLICK_TO_ACTIVATE_AUDIOTRACKS:return"Players.UI.Elements.UIClickToActivate";case d.CONDITIONAL_PLAY_PAUSE_STOP:return"Players.UI.ConditionalButtons.UIPlayPauseStop";case d.CONDITIONAL_CAPTIONS:return"Players.UI.ConditionalButtons.UICaptions";case d.CONDITIONAL_VOLUME:return"Players.UI.ConditionalButtons.UIVolume";case d.CONDITIONAL_DOCK:return"Players.UI.ConditionalButtons.UIDock";default:return"Players.UI.Elements.UIElement"}}(a),t);t.uiElement=n;e.push(n);return e}function h(e){for(var t=0;t<e.length;t++){var n=e[t];if(void 0!==o[n])return!0}return!1}function P(e){var t=e?"on":"off";A[t](u.PLAYER_READY,y);A[t](u.PLAYER_METADATALOADED,I);A.parentInstance[t](u.PLAYER_DOCKCHANGED,y);A.parentInstance[t](u.PLAYER_REFRESHUI,y);A[t](u.PLAYER_TIMEUPDATED,M);A[t](u.PLAYER_BUFFERUPDATED,w);A[t](u.PLAYER_VOLUMECHANGED,x);A.parentInstance[t](u.UI_INDIRECTUSERACTION,B);A.parentInstance[t](u.SESSION_QUEUEUPDATED,Y);t=e?"addEventListener":"removeEventListener";window[t]("resize",s)}function T(e){if(i)for(var t=e?"on":"off",n=0;n<p.length;n++){var a=p[n];a[t](a.constants.CLICK,V);a.constants.CHANGE&&a[t](a.constants.CHANGE,H)}}function I(){q();y()}function y(){if(0!==p.length){var e=Object.keys(r).sort(function(e,t){return parseInt(t)-parseInt(e)});m.forEach(function(e){e.visible=!0});for(var t=[],n=0;n<e.length&&!L(m);n++){var a=S(e[n]);t=t.concat(a)}m.forEach(function(e){-1<t.indexOf(e)||(e.visible="default")})}}function L(e){for(var t=a.getBoundingClientRect(),n=0;n<e.length;n++){if(!e[n].fits(t))return!1}return!0}function S(t){t=parseInt(t);var n=[];m.forEach(function(e){if(e.priority===t){e.visible=!1;n.push(e)}});return n}function R(e,t){U(e,"value",t)}function D(e,t){U(e,"max",t)}function b(e,t){U(e,"text",t)}function U(e,t,n){var a=o[e];a&&a.forEach(function(e){e[t]!==n&&(e[t]=n)})}function N(e,t){var n=o[e];n&&n.forEach(function(e){e.enabled=t})}function O(e,t,n){var a=o[e];a&&a.forEach(function(e){-1!==m.indexOf(e)&&(e.visible=t)&&n&&(e.focus=!0)})}function M(e){if(h([d.METADATA_CURRENT_TIME,d.METADATA_PROGRESS,d.SLIDER_SEEK])){R(d.METADATA_PROGRESS,e-E);R(d.SLIDER_SEEK,e);k(e)}}function w(e){var t=e.buffers,n=e.seekable;if(h([d.METADATA_BUFFER,d.METADATA_PROGRESS,d.SLIDER_SEEK])){if(t.length)for(var a=0;a<t.length;a++){var i=t.start(a),r=t.end(a);A.currentTime>=i&&A.currentTime<=r&&R(d.METADATA_BUFFER,r)}E=n.start;C=n.end;var o,s,l=Math.max(0,n.end-E);D(d.METADATA_PROGRESS,A.seekable?l:0);D(d.METADATA_BUFFER,A.seekable?l:0);N(d.SLIDER_SEEK,A.seekable);o=d.SLIDER_SEEK,s=n.start,U(o,"min",s);D(d.SLIDER_SEEK,n.end);k(A.currentTime)}}function k(e){if(A.metadata.isLive&&A.metadata.isVideo){if(A.seekable)N(d.METADATA_CURRENT_TIME,!0);else{e=0;N(d.METADATA_CURRENT_TIME,!1)}e=e-E-C;e=10*Math.round(e/10)}var t=0===e?"":f.getFormattedDuration(e);b(d.METADATA_CURRENT_TIME,t);var n=A.metadata.formattedDuration;b(d.METADATA_DURATION,n)}function B(e){O(e,!0);var t=window.setTimeout(function(){O(e,!1);_.splice(_.indexOf(t),1)},250);_.push(t)}function Y(){N(d.BUTTON_NEXT,A.parentInstance.hasNextTrack());y()}function x(e){U(d.SLIDER_VOLUME,"percentValue",100*e)}function q(){N(d.BUTTON_FULLSCREEN,A.parentInstance.fullscreenManager.canFullscreen);N(d.CLICK_TO_ACTIVATE_VOLUME,A.parentInstance.session.capabilities.canChangeVolume);N(d.SLIDER_VOLUME,A.parentInstance.session.capabilities.canChangeVolume);N(d.BUTTON_NEXT,A.parentInstance.hasNextTrack())}function V(){switch(this.type){case d.BUTTON_PLAY:A.play();break;case d.BUTTON_PAUSE:A.pause();break;case d.BUTTON_STOP:A.stop();break;case d.BUTTON_PREVIOUS:A.currentTime<3?A.parentInstance.playPrevTrack():A.currentTime=0;break;case d.BUTTON_NEXT:A.parentInstance.playNextTrack();break;case d.BUTTON_SKIPBACK:A.currentTime=Math.max(A.currentTime-15,0);break;case d.BUTTON_SKIPFORWARD:A.currentTime=Math.min(A.currentTime+30,A.metadata.duration);break;case d.BUTTON_SHARE:A.parentInstance.session.ui.openOverlay("sharecontent");break;case d.BUTTON_DOCK:A.parentInstance.session.docked=!0;break;case d.BUTTON_UNDOCK:A.parentInstance.session.docked=!1;break;case d.BUTTON_FULLSCREEN:A.parentInstance.fullScreen=!A.parentInstance.fullScreen;break;case d.BUTTON_CAPTIONS_ON:A.captions=!0;break;case d.BUTTON_CAPTIONS_OFF:A.captions=!1;break;case d.BUTTON_MUTE:A.muted=!0;break;case d.BUTTON_UNMUTE:A.muted=!1;1!==A.volume&&(A.volume=1);break;case d.METADATA_DURATION:A.metadata.isLive&&30<=Math.abs(C-A.currentTime)&&(A.currentTime=C)}}function H(e){switch(e.type){case d.SLIDER_VOLUME:A.volume=e.percentValue/100;break;case d.SLIDER_SEEK:A.currentTime=e.value}}function F(){for(var e=0;e<_.length;e++)window.clearTimeout(_[e]);T(!1);P(!1);p.forEach(function(e){e.destroy()});p=[];m=[];o=r=null;i.parentNode&&i.parentNode.removeChild(i)}return{get html(){return i},destroy:F}});this.CBC=this.CBC||{};this.CBC.APP=this.CBC.APP||{};this.CBC.APP.Caffeine=this.CBC.APP.Caffeine||{};this.CBC.APP.Caffeine.Templates=this.CBC.APP.Caffeine.Templates||{};this.CBC.APP.Caffeine.Templates["Caffeine.html"]=function(obj){obj||(obj={});var __t,__p="",__e=CBC.APP.Caffeine._.escape;with(obj)__p+='<div class="cbc-caffeine-container" id="Caffeine'+(null==(__t=ciid)?"":__t)+'" tabindex="0" contextmenu="CaffeineContextMenu'+(null==(__t=ciid)?"":__t)+'">\n    <menu type="context" id="CaffeineContextMenu'+(null==(__t=ciid)?"":__t)+'">\n        <hr />\n        <menuitem class="version">CBC Caffeine Player 17.14.0</menuitem>\n    </menu>\n</div>';return __p};this.CBC.APP.Caffeine.Templates["Ads.html"]=function(obj){obj||(obj={});var __t,__p="",__e=CBC.APP.Caffeine._.escape;with(obj)__p+='<div class="cbc-caffeine-ads-container advertisement">\n    <div class="cbc-caffeine-ads-innercontainer">\n        <div class="ads-video-player"></div>\n        <div class="ads-message">\n            Ad\n            <span class="ads-count"></span>:\n            <span class="ads-time-remaining"></span>\n            <span class="message-text">Playback will start after this advertisement</span>\n        </div>\n        <button class="ads-close">\n            <svg aria-hidden="true" enable-background="new 0 0 24 24" id="Layer_1" version="1.0" viewBox="0 0 24 24" focusable="false">\n                <g><path fill="#FFFFFF" d="M12,4c4.4,0,8,3.6,8,8s-3.6,8-8,8s-8-3.6-8-8S7.6,4,12,4 M12,2C6.5,2,2,6.5,2,12c0,5.5,4.5,10,10,10s10-4.5,10-10   C22,6.5,17.5,2,12,2L12,2z"/></g>\n                <line fill="none" stroke="#FFFFFF" stroke-miterlimit="10" stroke-width="2" x1="18.2" x2="5.8" y1="18.2" y2="5.8"/>\n            </svg>\n            Cancel playback\n        </button>\n    </div>\n</div>';return __p};this.CBC.APP.Caffeine.Templates["Annotations.html"]=function(obj){obj||(obj={});var __t,__p="",__e=CBC.APP.Caffeine._.escape;with(obj)__p+='<div class="cbc-caffeine-annotation" tabindex="0" role="dialog">\n    <span>'+(null==(__t=message)?"":__t)+'</span>\n    <button class="close-button">\n        <label>Close</label>\n        <svg viewBox="0 0 24 24" focusable="false" aria-role="presentation">\n            <path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path>\n        </svg>\n    </button>\n</div>';return __p};this.CBC.APP.Caffeine.Templates["AudioTracks.html"]=function(obj){obj||(obj={});var __t,__p="",__e=CBC.APP.Caffeine._.escape,__j=Array.prototype.join;function print(){__p+=__j.call(arguments,"")}with(obj){__p+="<ul class='audiotracks-menu'>\n    ";for(var i=0;i<audioTracks.length;++i)__p+='\n        <li class="menu-item '+(null==(__t=audioTracks[i].enabled?"active":"")?"":__t)+'">\n            <button data-audiotrackid="'+(null==(__t=audioTracks[i].id)?"":__t)+'">'+(null==(__t=audioTracks[i].name)?"":__t)+"</button>\n        </li>\n    ";__p+="\n</ul>"}return __p};this.CBC.APP.Caffeine.Templates["DockPlaceholder.html"]=function(obj){obj||(obj={});var __t,__p="",__e=CBC.APP.Caffeine._.escape;with(obj)__p+='<div class="cbc-caffeine-dock-placeholder">\n\n    <img\n        class="poster"\n        src="'+(null==(__t=metadata.thumbnail)?"":__t)+'?downsize=320px:*"\n        alt=""\n    />\n\n    <div class="dock-placeholder-ui">\n        <span data-uielement="'+(null==(__t=UIElements.CONDITIONAL_PLAY_PAUSE_STOP)?"":__t)+'">\n            <button data-uielement="'+(null==(__t=UIElements.BUTTON_PLAY)?"":__t)+'">\n                <svg focusable="false" role="presentation" viewBox="0 0 24 24">\n                    <path class="background" d="M0 0h24v24H0z"></path>\n                    <path class="foreground" d="M8 5v14l11-7z"></path>\n                </svg>\n                <label>Play</label>\n            </button>\n            <button data-uielement="'+(null==(__t=UIElements.BUTTON_PAUSE)?"":__t)+'">\n                <svg focusable="false" role="presentation" viewBox="0 0 24 24">\n                    <path class="foreground" d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"></path>\n                </svg>\n                <label>Pause</label>\n            </button>\n            <button data-uielement="'+(null==(__t=UIElements.BUTTON_STOP)?"":__t)+'">\n                <svg focusable="false" role="presentation" viewBox="0 0 80 80">\n                    <path class="background" d="m0 0v80h80v-80h-80zm22 20h36v40h-36v-40z"/>\n                    <rect class="foreground" fill-rule="evenodd" height="40" width="36" y="20" x="22"/>\n                </svg>\n                <label>Stop</label>\n            </button>\n        </span>\n\n        <button data-uielement="'+(null==(__t=UIElements.BUTTON_UNDOCK)?"":__t)+'" class="undock">\n            <svg focusable="false" role="presentation" viewBox="0 0 24 24">\n                <path class="foreground" d="M 4.546875 3.8339844 C 3.3649306 3.8339844 2.4160156 4.6958333 2.4160156 5.75 L 2.4160156 17.25 C 2.4160156 18.304167 3.3649306 19.166016 4.546875 19.166016 L 19.453125 19.166016 C 20.624421 19.166016 21.583984 18.304167 21.583984 17.25 L 21.583984 5.75 C 21.583984 4.6958333 20.624421 3.8339844 19.453125 3.8339844 L 4.546875 3.8339844 z M 4.3339844 5.75 L 19.666016 5.75 L 19.666016 17.25 L 4.3339844 17.25 L 4.3339844 5.75 z M 6 7.6660156 L 6 15.332031 L 17.75 15.333984 L 17.75 7.6660156 L 6 7.6660156 z M 7.3574219 9.0019531 L 11.755859 9.0019531 L 7.3574219 13.789062 L 7.3574219 9.0019531 z " fill-rule="nonzero"></path>\n            </svg>\n            <label>Restore player</label>\n        </button>\n    </div>\n</div>';return __p};this.CBC.APP.Caffeine.Templates["EventLoggerOutput.html"]=function(obj){obj||(obj={});var __t,__p="",__e=CBC.APP.Caffeine._.escape;with(obj)__p+=(null==(__t=name)?"":__t)+"\n    data: "+(null==(__t=data)?"":__t)+"\n    seconds since "+(null==(__t=first)?"":__t)+": "+(null==(__t=seconds)?"":__t)+"\n\n";return __p};this.CBC.APP.Caffeine.Templates["LivePlaceholder.html"]=function(obj){obj||(obj={});var __t,__p="",__e=CBC.APP.Caffeine._.escape;with(obj)__p+='<div class="live-placeholder">\n    <p class="metadata-small">LIVE on '+(null==(__t=startDate)?"":__t)+" "+(null==(__t=startTime)?"":__t)+'</p>\n    <p class="nowtime metadata-large"></p>\n    <p class="metadata-small">'+(null==(__t=metadata.title)?"":__t)+'</p>\n\n    <div aria-role="presentation" class="animation-container"></div>\n</div>';return __p};this.CBC.APP.Caffeine.Templates["Overlay.html"]=function(obj){obj||(obj={});var __t,__p="",__e=CBC.APP.Caffeine._.escape;with(obj)__p+='<div class="caffeine-overlay '+(null==(__t=className)?"":__t)+'" tabindex="0" role="dialog" aria-label="'+(null==(__t=className)?"":__t)+' modal">\n    <div class="caffeine-overlay-content">\n        '+(null==(__t=overlayContent)?"":__t)+'\n    </div>\n    <button class="close-button">\n        <label>Close</label>\n        <svg viewBox="0 0 24 24" focusable="false" aria-role="presentation">\n            <path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path>\n        </svg>\n    </button>\n</div>';return __p};this.CBC.APP.Caffeine.Templates["PlaybackStats.html"]=function(obj){obj||(obj={});var __t,__p="",__e=CBC.APP.Caffeine._.escape;with(obj)__p+='<code>\n    Playback Status: <span class="status">'+(null==(__t=status)?"":__t)+'</span>\n    <br />\n    Assigned test group: <span class="testgroup">None</span>\n    <br />\n    Identifier: '+(null==(__t=metadata.idType)?"":__t)+" "+(null==(__t=metadata.id)?"":__t)+'\n    <br />\n    Asset: <span class="assetLoader">Undetermined</span>\n    <br />\n    Bitrate: <span class="bitrate">Undetermined</span>\n    <br />\n    Streaming URL: <input class="mediaUrl" value="Undetermined" />\n    <br />\n    Events Log: <button name="getEvents">Show/Refresh Events</button>\n    <br />\n    <textarea class="eventsLog"></textarea>\n</code>\n';return __p};this.CBC.APP.Caffeine.Templates["Player.html"]=function(obj){obj||(obj={});var __t,__p="",__e=CBC.APP.Caffeine._.escape;with(obj)__p+='<div class="cbc-caffeine-player" id="CaffeinePlayer'+(null==(__t=ciid)?"":__t)+'">\n    <div class="playbackelement"></div>\n</div>';return __p};this.CBC.APP.Caffeine.Templates["PlaylistItem.html"]=function(obj){obj||(obj={});var __t,__p="",__e=CBC.APP.Caffeine._.escape,__j=Array.prototype.join;function print(){__p+=__j.call(arguments,"")}with(obj){__p+='<li class="clips">\n    <button class="item" data-id="'+(null==(__t=dataModel.getId())?"":__t)+'" data-index="'+(null==(__t=index)?"":__t)+'" data-islive="'+(null==(__t=dataModel.isLive())?"":__t)+'" aria-labelledby="title-'+(null==(__t=dataModel.getId())?"":__t)+'">\n        <div class="media-control">\n            <span class="play-icon" aria-label="Play"></span>\n            <span class="runtime">'+(null==(__t=dataModel.getFormattedDuration())?"":__t)+'</span>\n        </div>\n        <div class="media-info">\n            ';thumbnail&&(__p+='\n            <div class="thumbnail-image">\n                <img src="'+(null==(__t=thumbnail)?"":__t)+'" alt="" />\n            </div>\n            ');__p+='\n            <span id="title-'+(null==(__t=dataModel.getId())?"":__t)+'" class="title">'+(null==(__t=dataModel.getTitle())?"":__t)+'</span>\n            <span class="description">'+(null==(__t=dataModel.getDescription())?"":__t)+'</span>\n            <span class="showname">'+(null==(__t=dataModel.getShowName())?"":__t)+'</span>\n            <span class="airdate">'+(null==(__t=dataModel.getFormattedAirDate())?"":__t)+"</span>\n        </div>\n    </button>\n    ";editable&&(__p+='\n        <button class="delete" aria-label="Delete item from playlist">x</button>\n    ');__p+="\n</li>\n"}return __p};this.CBC.APP.Caffeine.Templates["Recommendations.html"]=function(obj){obj||(obj={});var __t,__p="",__e=CBC.APP.Caffeine._.escape;with(obj)__p+='<div class="recommendations two-up">\n    <h2>Recommended</h2>\n    <ul class="recommended-items">\n    </ul>\n</div>';return __p};this.CBC.APP.Caffeine.Templates["RecommendedItem.html"]=function(obj){obj||(obj={});var __t,__p="",__e=CBC.APP.Caffeine._.escape,__j=Array.prototype.join;function print(){__p+=__j.call(arguments,"")}with(obj){__p+='<li class="recommended-item">\n\n    <div class="recommended-item-link" href="'+(null==(__t=dataModel.getPageUrl())?"":__t)+'" data-id="'+(null==(__t=dataModel.getId())?"":__t)+'" data-position="'+(null==(__t=position)?"":__t)+'" aria-label="Play this video: '+(null==(__t=dataModel.getTitle())?"":__t)+'">\n        <img src="'+(null==(__t=dataModel.getThumbnail())?"":__t)+'" alt="" />\n        <div class="recommended-item-overlay">\n            <button type="button" aria-label="Play button">\n                <svg height="100%" width="100%" viewBox="0 0 80 80" focusable="false" role="presentation">\n                    <path class="background" d="m0 0v80h80v-80h-80zm30 20 16 10 16 10-16 10-16 10v-20-20z"/>\n                    <path class="foreground" d="m30.2 20.2c-0.2 4.4-0.0 8.8-0.1 13.3 0.0 8.7-0.0 17.4 0.0 26.2 10.5-6.5 21.0-13.0 31.5-19.6-2.3-1.8-5.0-3.3-7.5-4.9-7.9-4.9-15.9-9.9-23.8-14.9z"/>\n                </svg>\n            </button>\n            <span class="recommended-item-duration" >\n                '+(null==(__t=dataModel.getFormattedDuration())?"":__t)+"\n                ";!1!==dataModel.getCaptions()&&(__p+='\n                <span class="recommended-item-cc" aria-label="Closed-captioned">CC</span>\n                ');__p+='\n            </span>\n        </div>\n    </div>\n    <div class="recommended-item-info" >\n        <div class="recommended-item-title" >\n            '+(null==(__t=dataModel.getTitle())?"":__t)+'\n        </div>\n\n        <div class="recommended-item-showname" title="'+(null==(__t=new Date(dataModel.getAirDate()))?"":__t)+'" >\n            '+(null==(__t=DateTimeFormat.getTimeSince(dataModel.getAirDate()))?"":__t)+"\n            ";dataModel.getShowName()&&(__p+="\n                | "+(null==(__t=dataModel.getShowName())?"":__t)+"\n            ");__p+="\n        </div>\n    </div>\n\n</li>"}return __p};this.CBC.APP.Caffeine.Templates["Share.html"]=function(obj){obj||(obj={});var __t,__p="",__e=CBC.APP.Caffeine._.escape,__j=Array.prototype.join;function print(){__p+=__j.call(arguments,"")}with(obj){__p+='<div class="share-wrapper">\n    ';if(shareUrl){__p+='\n        <h1>Share this</h1>\n        <ul class="sharelinks">\n        <li>\n            <button class="button share-icon share-icon-link" aria-label="Link to media">\n                <div class="icon-wrapper">\n                    <svg width="66px" height="66px" viewBox="0 0 66 66">\n                        <circle fill="#000000" stroke="#737373" cx="32" cy="32" r="31"></circle>\n                        <path d="M29.4175039,38.4859969 L28.2544874,39.5838427 C27.2463292,40.5336704 25.6066714,40.5344897 24.5990877,39.5838427 C24.114689,39.1269532 23.8486433,38.5201339 23.8486433,37.8750813 C23.8486433,37.2300286 24.1149764,36.6229363 24.5988004,36.1660468 L28.8796662,32.1288693 C29.7668685,31.2926495 31.4358316,30.0612598 32.652287,31.2079897 C33.2105234,31.7350649 34.112091,31.7315147 34.6663051,31.2011623 C35.2208065,30.67081 35.2173589,29.8135618 34.6591225,29.2870328 C32.5913781,27.3365814 29.5352995,27.6970681 26.8736927,30.2073661 L22.5925396,34.2448167 C21.5654191,35.2140343 21,36.5030472 21,37.8750813 C21,39.2471154 21.5654191,40.5358552 22.5928269,41.5050727 C23.6498272,42.501873 25.0378046,43 26.4263566,43 C27.8151959,43 29.2037479,42.501873 30.2613229,41.5045265 L31.4252013,40.4064077 C31.9831503,39.8798787 31.9863107,39.0229036 31.4318093,38.4922782 C30.8781698,37.9621989 29.9757403,37.9591948 29.4175039,38.4859969 Z M41.406631,22.6222252 C39.1857976,20.5636533 36.080653,20.4520019 34.0247302,22.35759 L32.5750115,23.701969 C32.0167865,24.2196985 32.0133389,25.0616464 32.567829,25.5831334 C33.1223191,26.1046204 34.0238683,26.1075727 34.5820933,25.5898432 L36.0312373,24.2462694 C37.0962606,23.2583159 38.4908175,23.6678832 39.4004111,24.5109046 C39.8853745,24.9599256 40.1517021,25.5565625 40.1517021,26.1905061 C40.1517021,26.824718 39.8850872,27.4213549 39.4009857,27.8703759 L34.8337686,32.1029286 C32.7453807,34.0385767 31.7656858,33.1300675 31.3476634,32.7425084 C30.7894384,32.2247789 29.8881765,32.2279996 29.3336864,32.7492182 C28.7791963,33.2704368 28.7826439,34.1129215 29.3408689,34.6303826 C30.299591,35.5192992 31.3939188,35.96 32.54111,35.96 C33.9457225,35.96 35.4293426,35.2992172 36.8399885,33.9908028 L41.4072056,29.7582501 C42.4340179,28.8057244 43,27.5386425 43,26.1902377 C43,24.8423696 42.4340179,23.5752877 41.406631,22.6222252 Z" id="Shape-Copy" fill="#FFFFFF"></path>\n                    </svg>\n                </div>\n                <div>\n                    <label class="title">Link</label>\n                </div>\n            </button>\n            <div class="sharedialog">\n                <input type="text" class="linktext" value="'+(null==(__t=shareUrl)?"":__t)+'" readonly />\n                <input type="button" value="Copy" aria-label="Copy link" class="copylink">\n            </div>\n        </li>\n        <li>\n            <button class="button share-icon share-icon-facebook" aria-label="Share to facebook" data-href="https://www.facebook.com/sharer/sharer.php?u='+(null==(__t=shareUrl)?"":__t)+'">\n                <div class="icon-wrapper">\n                    <svg width="66px" height="66px" viewBox="0 0 66 66" id="fb">\n                        <circle fill="#000000" stroke="#737373" cx="32" cy="32" r="31"></circle>\n                        <path d="M28.6316288,44 L28.6316288,33.265625 L25,33.265625 L25,29 L28.6316288,29 L28.6316288,25.6390625 C28.6316288,21.9875 30.8854167,20 34.1761364,20 C35.7528409,20 37.1070076,20.1171875 37.5,20.16875 L37.5,23.984375 L35.217803,23.984375 C33.4280303,23.984375 33.0823864,24.828125 33.0823864,26.0609375 L33.0823864,29 L37.1212121,29 L36.5672348,33.265625 L33.0823864,33.265625 L33.0823864,44" id="facebook-copy-2" fill="#FFFFFF"></path>\n                    </svg>\n                </div>\n                <div>\n                    <label class="title">Facebook</label>\n                </div>\n            </button>\n        </li>\n        <li>\n            <button class="button share-icon share-icon-twitter" aria-label="Share to twitter" data-href="https://www.twitter.com/intent/tweet?url='+(null==(__t=shareUrl.replace(/%/g,"%25"))?"":__t)+'">\n                <div class="icon-wrapper">\n                    <svg width="66px" height="66px" viewBox="0 0 66 66">\n                        <circle fill="#000000" stroke="#737373" cx="32" cy="32" r="31"></circle>\n                        <path d="M42.4302634,27.0245533 C42.4461326,27.2450569 42.4461326,27.4656089 42.4461326,27.6861125 C42.4461326,34.4117627 37.2906925,42.1612903 27.8680483,42.1612903 C24.9651073,42.1612903 22.2684171,41.3264506 20,39.8774201 C20.4124528,39.9246432 20.8089875,39.9404003 21.2373095,39.9404003 C23.6325825,39.9404003 25.8375716,39.1371234 27.5983695,37.7667819 C25.3458217,37.7195104 23.458119,36.2546742 22.8077258,34.2385307 C23.1250122,34.2857537 23.4422498,34.3172681 23.7754054,34.3172681 C24.2354169,34.3172681 24.6954773,34.2542394 25.1237505,34.144036 C22.7760362,33.671466 21.0151895,31.6238566 21.0151895,29.1509486 L21.0151895,29.0879684 C21.6972723,29.4659953 22.4904882,29.7022561 23.3311654,29.733722 C21.9510818,28.8201448 21.0469279,27.260814 21.0469279,25.4966884 C21.0469279,24.5516454 21.3006887,23.6853397 21.7448799,22.9292859 C24.2671065,26.0164815 28.0583811,28.0325766 32.3096184,28.2531286 C32.2303212,27.8751017 32.1827136,27.4813661 32.1827136,27.087582 C32.1827136,24.2838702 34.4669999,22 37.3064641,22 C38.781714,22 40.1141899,22.6142877 41.0501311,23.6066023 C42.2080946,23.3860987 43.3184993,22.9608002 44.3020481,22.3780269 C43.9212848,23.5593792 43.1122973,24.5516938 42.0495002,25.1816902 C43.0806077,25.0714869 44.0799769,24.7879061 45,24.3941705 C44.3021457,25.4021938 43.4296325,26.2999653 42.4302634,27.0245533 Z" id="twitter-copy-2" fill="#FFFFFF"></path>\n                    </svg>\n                </div>\n                <div>\n                    <label class="title">Twitter</label>\n                </div>\n            </button>\n        </li>\n        <li>\n            <button class="button share-icon share-icon-email" aria-albel="Share to email" data-href="mailto:?body='+(null==(__t=shareUrl)?"":__t)+'">\n                <div class="icon-wrapper">\n                    <svg width="66px" height="66px" viewBox="0 0 66 66">\n                        <circle fill="#000000" stroke="#737373" cx="32" cy="32" r="31"></circle>\n                        <path d="M40.8,23 L23.2,23 C21.99,23 21.011,23.99 21.011,25.2 L21,38.4 C21,39.61 21.99,40.6 23.2,40.6 L40.8,40.6 C42.01,40.6 43,39.61 43,38.4 L43,25.2 C43,23.99 42.01,23 40.8,23 Z M40.8,27.4 L32,32.9 L23.2,27.4 L23.2,25.2 L32,30.7 L40.8,25.2 L40.8,27.4 Z" id="email-copy-2" fill="#FFFFFF"></path>\n                    </svg>\n                </div>\n                <div>\n                    <label class="title">Email</label>\n                </div>\n            </button>\n        </li>\n        ';"inline"!==dataModel.getIdType()&&(__p+='\n        <li>\n            <button class="button share-icon share-icon-embed" aria-label="Embed code">\n                <div class="icon-wrapper">\n                    <svg width="66px" height="66px" viewBox="0 0 66 66">\n                        <circle fill="#000000" stroke="#737373" cx="32" cy="32" r="31"></circle>\n                        <path d="M28.73,39.37 L22.06,32.7 L28.73,26.03 L26.7,24 L18,32.7 L26.7,41.4 L28.73,39.37 Z M36.27,39.37 L42.94,32.7 L36.27,26.03 L38.3,24 L47,32.7 L38.3,41.4 L36.27,39.37 L36.27,39.37 Z" id="embed-copy-3" fill="#FFFFFF"></path>\n                    </svg>\n                </div>\n                <div>\n                    <label class="title">Embed</label>\n                </div>\n            </button>\n            <div class="sharedialog">\n                <input type="text" class="linktext" value=\'<iframe src="'+(null==(__t=CBC_DOMAIN)?"":__t)+"/i/caffeine/syndicate/?"+(null==(__t=dataModel.getIdType())?"":__t)+"="+(null==(__t=dataModel.getId())?"":__t)+'" width="640" height="360" frameborder="0" allowfullscreen></iframe>\' readonly />\n                <input type="button" value="Copy" aria-label="copyembedcode" class="copyembedcode">\n            </div>\n        </li>\n        ');__p+="\n    </ul>\n    "}else __p+="\n        <h1>Sorry, this clip cannot be shared.</h1>\n    ";__p+="\n</div>"}return __p};this.CBC.APP.Caffeine.Templates["Thumbnail.html"]=function(obj){obj||(obj={});var __t,__p="",__e=CBC.APP.Caffeine._.escape;with(obj)__p+='<div id="thumbnail'+(null==(__t=ciid)?"":__t)+'" class="thumbnail-container">\n    <img class="thumbnail" src="'+(null==(__t=thumbnail)?"":__t)+'" alt="Media placeholder" />\n    <div id="icons'+(null==(__t=ciid)?"":__t)+'" class="icons">\n        <button class="play-button">Play Media</button>\n    </div>\n</div>';return __p};this.CBC.APP.Caffeine.Templates["VisualError.html"]=function(obj){obj||(obj={});var __t,__p="",__e=CBC.APP.Caffeine._.escape,__j=Array.prototype.join;function print(){__p+=__j.call(arguments,"")}with(obj){__p+='<div class="cbc-caffeine-error">\n    <strong>Oops...</strong>\n    <p>'+(null==(__t=error.message)?"":__t)+"</p>\n    <small>\n        Error "+(null==(__t=error.code)?"":__t)+'\n        <span class="caffeine-error-uuid">';raygunUUID&&(__p+=" - ID: "+(null==(__t=raygunUUID)?"":__t));__p+="</span>\n    </small>\n    ";retry&&(__p+='\n        <button class="error-retry">Retry</button>\n    ');__p+="\n</div>\n"}return __p};this.CBC.APP.Caffeine.Templates["UIAudioPlaceholder.html"]=function(obj){obj||(obj={});var __t,__p="",__e=CBC.APP.Caffeine._.escape;with(obj)__p+='<div class="ui">\n    <div class="controls">\n\n        <span data-uielement="'+(null==(__t=UIElements.CONDITIONAL_PLAY_PAUSE_STOP)?"":__t)+'">\n            <button data-uielement="'+(null==(__t=UIElements.BUTTON_PLAY)?"":__t)+'">\n                <svg focusable="false" role="presentation" viewBox="0 0 24 24">\n                    <path class="background" d="M0 0h24v24H0z"></path>\n                    <path class="foreground" d="M8 5v14l11-7z"></path>\n                </svg>\n                <span>Listen</span>\n            </button>\n            <button data-uielement="'+(null==(__t=UIElements.BUTTON_PAUSE)?"":__t)+'">\n                <svg focusable="false" role="presentation" viewBox="0 0 24 24">\n                    <path class="foreground" d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"></path>\n                </svg>\n                <span>Pause</span>\n            </button>\n            <button data-uielement="'+(null==(__t=UIElements.BUTTON_STOP)?"":__t)+'">\n                <svg focusable="false" role="presentation" viewBox="0 0 80 80">\n                    <path class="background" d="m0 0v80h80v-80h-80zm22 20h36v40h-36v-40z"/>\n                    <rect class="foreground" fill-rule="evenodd" height="40" width="36" y="20" x="22"/>\n                </svg>\n                <span>Stop</span>\n            </button>\n        </span>\n\n    </div>\n\n    <div class="extras">\n        <div class="timeinfo" data-display-priority="2">\n            <span data-uielement="'+(null==(__t=UIElements.METADATA_CURRENT_TIME)?"":__t)+'"></span>\n            <span class="duration">'+(null==(__t=metadata.formattedDuration)?"":__t)+'</span>\n        </div>\n        <button class="share" type="button" data-display-priority="4" aria-label="Share" data-uielement="'+(null==(__t=UIElements.BUTTON_SHARE)?"":__t)+'">\n            <svg class="icon-share" height="100%" width="100%" viewBox="0 0 80 80" focusable="false">\n                <path class="background"d="m0 0v80h80v-80h-80zm41 18a7 7 0 0 1 7 7 7 7 0 0 1 -7 7 7 7 0 0 1 -3.729 -1.084l-4.352 4.352a7 7 0 0 1 1.08 3.73 7 7 0 0 1 -0.92 3.46l4.463 4.463a7 7 0 0 1 3.46 -0.92 7 7 0 0 1 7 7 7 7 0 0 1 -7 7 7 7 0 0 1 -7 -7 7 7 0 0 1 1.311 -4.066l-4.25-4.24a7 7 0 0 1 -4.06 1.31 7 7 0 0 1 -7 -7 7 7 0 0 1 7 -7 7 7 0 0 1 3.811 1.135l4.32-4.33a7 7 0 0 1 -1.13 -3.81 7 7 0 0 1 7 -7z"/>\n                <path class="foreground" d="m40.85 18.06c-2.982 0.1058-5.882 2.235-6.546 5.206-0.4989 1.889-0.0789 3.914 0.8901 5.583-1.443 1.446-2.887 2.891-4.33 4.337-2.144-1.325-4.97-1.54-7.174-0.2321-3.411 1.675-4.647 6.403-2.626 9.579 1.535 2.569 4.799 4.024 7.707 3.131 0.8324-0.2156 1.592-0.6278 2.353-1.016 1.389 1.443 2.927 2.801 4.198 4.325-1.6 2.399-1.726 5.809 0.1328 8.115 1.558 2.188 4.403 3.252 7.018 2.673 3.729-0.7675 6.423-4.972 5.18-8.656-0.8398-2.98-3.811-5.275-6.95-4.991-1.119-0.1085-2.117 0.5084-3.155 0.7419-1.654-1.273-3.012-2.924-4.461-4.412 0.6969-1.572 1.11-3.342 0.6401-5.047-0.1771-0.7728-0.5106-1.497-0.8831-2.193 1.447-1.445 2.894-2.89 4.34-4.335 2.263 1.238 5.204 1.497 7.423 0.02124 2.559-1.561 3.99-4.853 3.044-7.754-0.801-2.987-3.707-5.167-6.801-5.077z"/>\n            </svg>\n            <span>Share</span>\n        </button>\n    </div>\n\n    <div class="seekprogress">\n        <div class="timeline"></div>\n        <progress class="buffer" data-uielement="'+(null==(__t=UIElements.METADATA_BUFFER)?"":__t)+'" value="0" max="'+(null==(__t=metadata.duration)?"":__t)+'" aria-label="Buffer progress" aria-live="off"></progress>\n        <progress class="playback" data-uielement="'+(null==(__t=UIElements.METADATA_PROGRESS)?"":__t)+'" value="0" max="'+(null==(__t=metadata.duration)?"":__t)+'" aria-label="Playback progress" aria-live="off"></progress>\n        <input class="seek" data-uielement="'+(null==(__t=UIElements.SLIDER_SEEK)?"":__t)+'" type="range" value="0" max="'+(null==(__t=metadata.duration)?"":__t)+'" role="slider" aria-label="Audio time controller" aria-valuemin="0 seconds" aria-valuemax="'+(null==(__t=metadata.duration)?"":__t)+' seconds" aria-orientation="horizontal" />\n    </div>\n</div>\n';return __p};this.CBC.APP.Caffeine.Templates["UIVideoControls.html"]=function(obj){obj||(obj={});var __t,__p="",__e=CBC.APP.Caffeine._.escape,__j=Array.prototype.join;function print(){__p+=__j.call(arguments,"")}with(obj){__p+='<div class="caf-video caf-controls">\n\n    <div class="title-bar">\n        <div class="controls-left">\n            <h3>\n                <a href="'+(null==(__t=metadata.pageUrl)?"":__t)+'">'+(null==(__t=metadata.title)?"":__t)+'</a>\n            </h3>\n            <span class="air-date" title="'+(null==(__t=new Date(metadata.airDate))?"":__t)+'">'+(null==(__t=metadata.formattedAirDate)?"":__t)+'</span>\n            <span class="content-area">'+(null==(__t=metadata.contentArea)?"":__t)+'</span>\n        </div>\n\n        <div class="controls-right">\n            <button class="share" data-uielement="'+(null==(__t=UIElements.BUTTON_SHARE)?"":__t)+'" data-display-priority="10">\n                <svg focusable="false" role="presentation" viewBox="0 0 30 30">\n                    <path class="foreground" d="M12.5,11.25 L12.5,6.25 L3.75,15 L12.5,23.75 L12.5,18.625 C18.75,18.625 23.125,20.625 26.25,25 C25,18.75 21.25,12.5 12.5,11.25 Z"></path>\n                </svg>\n                <label>Share</label>\n            </button>\n        </div>\n    </div>\n\n    <div class="control-rack">\n        <div class="controls-left">\n\n            <span data-uielement="'+(null==(__t=UIElements.CONDITIONAL_PLAY_PAUSE_STOP)?"":__t)+'">\n                <button data-uielement="'+(null==(__t=UIElements.BUTTON_PLAY)?"":__t)+'">\n                    <svg focusable="false" role="presentation" viewBox="0 0 24 24">\n                        <path class="background" d="M0 0h24v24H0z"></path>\n                        <path class="foreground" d="M8 5v14l11-7z"></path>\n                    </svg>\n                    <label>Play</label>\n                </button>\n                <button data-uielement="'+(null==(__t=UIElements.BUTTON_PAUSE)?"":__t)+'">\n                    <svg focusable="false" role="presentation" viewBox="0 0 24 24">\n                        <path class="foreground" d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"></path>\n                    </svg>\n                    <label>Pause</label>\n                </button>\n                <button data-uielement="'+(null==(__t=UIElements.BUTTON_STOP)?"":__t)+'">\n                    <svg focusable="false" role="presentation" viewBox="0 0 80 80">\n                        <path class="background" d="m0 0v80h80v-80h-80zm22 20h36v40h-36v-40z"/>\n                        <rect class="foreground" fill-rule="evenodd" height="40" width="36" y="20" x="22"/>\n                    </svg>\n                    <label>Stop</label>\n                </button>\n            </span>\n            ';null!==metadata.nextClip&&(__p+='\n            <button data-uielement="'+(null==(__t=UIElements.BUTTON_NEXT)?"":__t)+'" data-display-priority="3">\n                <svg focusable="false" role="presentation" viewBox="0 0 24 24">\n                    <path class="background" d="M0 0h24v24H0z"></path>\n                    <path class="foreground" d="M6 18l8.5-6L6 6v12zM16 6v12h2V6h-2z">\n                    </path>\n                </svg>\n                <label class="tooltip-next">\n                    <div class="next-window">\n                        <div class="next-thumbnail">\n                            <img src="'+(null==(__t=metadata.nextClip.thumbnail)?"":__t)+'?downsize=140px:*" alt class="image">\n                            <div class="next-duration">'+(null==(__t=metadata.nextClip.formattedDuration)?"":__t)+'</div>\n                        </div>\n                        <div class="next-video-details">\n                            <div class="next-text" aria-label="Play next track">NEXT</div>\n                            <div class="next-title">'+(null==(__t=metadata.nextClip.title)?"":__t)+"</div>\n                        </div>\n                    </div>\n                </label>>\n            </button>\n            ");__p+='\n            <span data-uielement="'+(null==(__t=UIElements.CONDITIONAL_VOLUME)?"":__t)+'" data-display-priority="5">\n                <button data-uielement="'+(null==(__t=UIElements.BUTTON_MUTE)?"":__t)+'">\n                    <svg focusable="false" role="presentation" viewBox="0 0 24 24">\n                        <path class="background" d="M0 0h24v24H0z"></path>\n                        <path class="foreground" d="M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"></path>\n                    </svg>\n                    <label>Mute</label>\n                </button>\n                <button data-uielement="'+(null==(__t=UIElements.BUTTON_UNMUTE)?"":__t)+'">\n                    <svg focusable="false" role="presentation" viewBox="0 0 24 24">\n                        <path class="foreground" d="M16.5 12c0-1.77-1.02-3.29-2.5-4.03v2.21l2.45 2.45c.03-.2.05-.41.05-.63zm2.5 0c0 .94-.2 1.82-.54 2.64l1.51 1.51C20.63 14.91 21 13.5 21 12c0-4.28-2.99-7.86-7-8.77v2.06c2.89.86 5 3.54 5 6.71zM4.27 3L3 4.27 7.73 9H3v6h4l5 5v-6.73l4.25 4.25c-.67.52-1.42.93-2.25 1.18v2.06c1.38-.31 2.63-.95 3.69-1.81L19.73 21 21 19.73l-9-9L4.27 3zM12 4L9.91 6.09 12 8.18V4z"></path>\n                    </svg>\n                    <label>Unmute</label>\n                </button>\n            </span>\n\n            <span class="metadata-timeinfo">\n                <span class="current-time" data-uielement="'+(null==(__t=UIElements.METADATA_CURRENT_TIME)?"":__t)+'"></span>\n                <span class="duration" data-uielement="'+(null==(__t=UIElements.METADATA_DURATION)?"":__t)+'" data-display-priority="3"></span>\n            </span>\n        </div>\n\n        <div class="controls-right">\n            <span class="audiotracks-controls" data-uielement="'+(null==(__t=UIElements.CLICK_TO_ACTIVATE_AUDIOTRACKS)?"":__t)+'" data-display-priority="">\n                <button class="audiotracks-button activator">\n                    <svg viewBox="0 0 240 240" focusable="false" role="presentation">\n                        <path class="foreground" d="M35,34h160v20H35V34z M35,94h160V74H35V94z M35,134h60v-20H35V134z M160,114c-23.4-1.3-43.6,16.5-45,40v50h20c5.2,0.3,9.7-3.6,10-8.9c0-0.4,0-0.7,0-1.1v-20c0.3-5.2-3.6-9.7-8.9-10c-0.4,0-0.7,0-1.1,0h-10v-10c1.5-17.9,17.1-31.3,35-30c17.9-1.3,33.6,12.1,35,30v10H185c-5.2-0.3-9.7,3.6-10,8.9c0,0.4,0,0.7,0,1.1v20c-0.3,5.2,3.6,9.7,8.9,10c0.4,0,0.7,0,1.1,0h20v-50C203.5,130.6,183.4,112.7,160,114z"></path>\n                    </svg>\n                    <label>Audio Track List</label>\n                </button>\n                <span class="audiotracks-menu-container"></span>\n            </span>\n            <span data-uielement="'+(null==(__t=UIElements.CONDITIONAL_CAPTIONS)?"":__t)+'" data-display-priority="1">\n                <button class="captions-on" data-uielement="'+(null==(__t=UIElements.BUTTON_CAPTIONS_ON)?"":__t)+'">\n                    <svg focusable="false" role="presentation" viewBox="0 0 24 24">\n                        <path class="background" d="M0 0h24v24H0z"></path>\n                        <path class="foreground" d="M19 4H5c-1.11 0-2 .9-2 2v12c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-8 7H9.5v-.5h-2v3h2V13H11v1c0 .55-.45 1-1 1H7c-.55 0-1-.45-1-1v-4c0-.55.45-1 1-1h3c.55 0 1 .45 1 1v1zm7 0h-1.5v-.5h-2v3h2V13H18v1c0 .55-.45 1-1 1h-3c-.55 0-1-.45-1-1v-4c0-.55.45-1 1-1h3c.55 0 1 .45 1 1v1z"></path>\n                    </svg>\n                    <label>Turn Captions On</label>\n                </button>\n                <button class="captions-off" data-uielement="'+(null==(__t=UIElements.BUTTON_CAPTIONS_OFF)?"":__t)+'">\n                    <svg focusable="false" role="presentation" viewBox="0 0 24 24">\n                        <path class="background" d="M19,4 L5,4 C3.89,4 3,4.9 3,6 L3,18 C3,19.1 3.89,20 5,20 L19,20 C20.1,20 21,19.1 21,18 L21,6 C21,4.9 20.1,4 19,4 Z" fill-rule="nonzero"></path>\n                        <path class="foreground" d="M11,11 L9.5,11 L9.5,10.5 L7.5,10.5 L7.5,13.5 L9.5,13.5 L9.5,13 L11,13 L11,14 C11,14.55 10.55,15 10,15 L7,15 C6.45,15 6,14.55 6,14 L6,10 C6,9.45 6.45,9 7,9 L10,9 C10.55,9 11,9.45 11,10 L11,11 Z" fill-rule="nonzero"></path>\n                        <path class="foreground" d="M18,11 L16.5,11 L16.5,10.5 L14.5,10.5 L14.5,13.5 L16.5,13.5 L16.5,13 L18,13 L18,14 C18,14.55 17.55,15 17,15 L14,15 C13.45,15 13,14.55 13,14 L13,10 C13,9.45 13.45,9 14,9 L17,9 C17.55,9 18,9.45 18,10 L18,11 Z" fill-rule="nonzero"></path>\n                    </svg>\n                    <label>Turn Captions Off</label>\n                </button>\n            </span>\n            <span data-uielement="'+(null==(__t=UIElements.CONDITIONAL_DOCK)?"":__t)+'" data-display-priority="4">\n                <button data-uielement="'+(null==(__t=UIElements.BUTTON_DOCK)?"":__t)+'">\n                    <svg focusable="false" role="presentation" viewBox="0 0 24 24">\n                        <path class="foreground" d="M19.7777778,4 C21,4 22,4.9 22,6 L22,18 C22,19.1 21,20 19.7777778,20 L4.22222222,20 C2.98888889,20 2,19.1 2,18 L2,6 C2,4.9 2.98888889,4 4.22222222,4 L19.7777778,4 Z M20,18 L20,6 L4,6 L4,18 L20,18 Z M18,16 L11,16 L11,11 L18,11 L18,16 Z" fill-rule="nonzero"></path>\n                    </svg>\n                    <label>Miniplayer</label>\n                </button>\n                <button data-uielement="'+(null==(__t=UIElements.BUTTON_UNDOCK)?"":__t)+'" class="undock">\n                    <svg focusable="false" role="presentation" viewBox="0 0 24 24">\n                        <path class="foreground" d="M 4.546875 3.8339844 C 3.3649306 3.8339844 2.4160156 4.6958333 2.4160156 5.75 L 2.4160156 17.25 C 2.4160156 18.304167 3.3649306 19.166016 4.546875 19.166016 L 19.453125 19.166016 C 20.624421 19.166016 21.583984 18.304167 21.583984 17.25 L 21.583984 5.75 C 21.583984 4.6958333 20.624421 3.8339844 19.453125 3.8339844 L 4.546875 3.8339844 z M 4.3339844 5.75 L 19.666016 5.75 L 19.666016 17.25 L 4.3339844 17.25 L 4.3339844 5.75 z M 6 7.6660156 L 6 15.332031 L 17.75 15.333984 L 17.75 7.6660156 L 6 7.6660156 z M 7.3574219 9.0019531 L 11.755859 9.0019531 L 7.3574219 13.789062 L 7.3574219 9.0019531 z " fill-rule="nonzero"></path>\n                    </svg>\n                    <label>Restore player</label>\n                </button>\n            </span>\n            <button data-uielement="'+(null==(__t=UIElements.BUTTON_FULLSCREEN)?"":__t)+'" data-display-priority="2">\n                <svg focusable="false" role="presentation" viewBox="0 0 24 24">\n                    <path class="background" d="M0 0h24v24H0z"></path>\n                    <path class="foreground" d="M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"></path>\n                </svg>\n                <label>Toggle fullscreen</label>\n            </button>\n        </div>\n\n        <div class="controls-seek">\n            <div class="controls-seek-inner">\n                <progress\n                    class="timeline"\n                    ';metadata.duration<Infinity&&(__p+='\n                    value="'+(null==(__t=metadata.duration)?"":__t)+'"\n                    max="'+(null==(__t=metadata.duration)?"":__t)+'">\n                    ');__p+='\n                >\n                </progress>\n                <progress class="buffer" data-uielement="'+(null==(__t=UIElements.METADATA_BUFFER)?"":__t)+'" value="0" max="'+(null==(__t=metadata.duration)?"":__t)+'" aria-label="Buffer progress" aria-live="off"></progress>\n                <progress class="playback" data-uielement="'+(null==(__t=UIElements.METADATA_PROGRESS)?"":__t)+'" value="0" max="'+(null==(__t=metadata.duration)?"":__t)+'" aria-label="Playback progress" aria-live="off"></progress>\n                <input id="seekbar'+(null==(__t=metadata.id)?"":__t)+'" class="seek" data-uielement="'+(null==(__t=UIElements.SLIDER_SEEK)?"":__t)+'" type="range" value="0" max="'+(null==(__t=metadata.duration)?"":__t)+'" role="slider" aria-label="Video time controller" aria-valuemin="0 seconds" aria-valuemax="'+(null==(__t=metadata.duration)?"":__t)+' seconds" aria-orientation="horizontal" />\n                <output for="seekbar'+(null==(__t=metadata.id)?"":__t)+'">0</output>\n            </div>\n        </div>\n    </div>\n</div>\n'}return __p};this.CBC.APP.Caffeine.Templates["UIVideoDocked.html"]=function(obj){obj||(obj={});var __t,__p="",__e=CBC.APP.Caffeine._.escape;with(obj)__p+='<div class="caf-video caf-controls" style="background-image:url('+(null==(__t=metadata.thumbnail)?"":__t)+');">\n    <div class="control-rack">\n        <div class="controls-right">\n            <span data-uielement="'+(null==(__t=UIElements.CONDITIONAL_PLAY_PAUSE_STOP)?"":__t)+'">\n                <button data-uielement="'+(null==(__t=UIElements.BUTTON_PLAY)?"":__t)+'">\n                    <svg focusable="false" viewBox="0 0 24 24" role="presentation">\n                        <path class="background" d="M0 0h24v24H0z"></path>\n                        <path class="foreground" d="M8 5v14l11-7z"></path>\n                    </svg>\n                    <label>Play</label>\n                </button>\n                <button data-uielement="'+(null==(__t=UIElements.BUTTON_PAUSE)?"":__t)+'">\n                    <svg focusable="false" viewBox="0 0 24 24" role="presentation">\n                        <path class="foreground" d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"></path>\n                    </svg>\n                    <label>Pause</label>\n                </button>\n                <button data-uielement="'+(null==(__t=UIElements.BUTTON_STOP)?"":__t)+'">\n                    <svg focusable="false" viewBox="0 0 80 80" role="presentation">\n                        <path class="background" d="m0 0v80h80v-80h-80zm22 20h36v40h-36v-40z"/>\n                        <rect class="foreground" fill-rule="evenodd" height="40" width="36" y="20" x="22"/>\n                    </svg>\n                    <label>Stop</label>\n                </button>\n            </span>\n\n            <button class="undock" type="button" data-uielement="'+(null==(__t=UIElements.BUTTON_UNDOCK)?"":__t)+'">\n                <svg focusable="false" role="presentation" viewBox="0 0 24 24">\n                    <path class="foreground" d="M 4.546875 3.8339844 C 3.3649306 3.8339844 2.4160156 4.6958333 2.4160156 5.75 L 2.4160156 17.25 C 2.4160156 18.304167 3.3649306 19.166016 4.546875 19.166016 L 19.453125 19.166016 C 20.624421 19.166016 21.583984 18.304167 21.583984 17.25 L 21.583984 5.75 C 21.583984 4.6958333 20.624421 3.8339844 19.453125 3.8339844 L 4.546875 3.8339844 z M 4.3339844 5.75 L 19.666016 5.75 L 19.666016 17.25 L 4.3339844 17.25 L 4.3339844 5.75 z M 6 7.6660156 L 6 15.332031 L 17.75 15.333984 L 17.75 7.6660156 L 6 7.6660156 z M 7.3574219 9.0019531 L 11.755859 9.0019531 L 7.3574219 13.789062 L 7.3574219 9.0019531 z " fill-rule="nonzero"></path>\n                </svg>\n                <label>Undock</label>\n            </button>\n        </div>\n    </div>\n</div>\n';return __p};this.CBC.APP.Caffeine.Templates["UIVideoIndicators.html"]=function(obj){obj||(obj={});var __t,__p="",__e=CBC.APP.Caffeine._.escape;with(obj)__p+='<div class="caf-video caf-indicators">\n    <svg data-uielement="'+(null==(__t=UIElements.INDICATOR_SKIPFORWARD)?"":__t)+'" width="80" height="80" viewBox="0 0 80 80" focusable="false" role="presentation">\n        <rect class="background" width="80" height="80" x="0" y="0"/>\n        <path class="foreground" d="m40 17v4c-11.6 0-21 9.4-21 21s9.4 21 21 21 21-9.4 21-21c0-5.5-2.2-10.6-5.7-14.3l-5.6 4.2c2.7 2.5 4.3 6.1 4.3 10.1 0 7.7-6.3 14-14 14s-14-6.3-14-14 6.3-14 14-14v4l10-7.5zm4.764 31.894c-29.843 20.737-14.921 10.369 0 0z"/>\n    </svg>\n    <svg data-uielement="'+(null==(__t=UIElements.INDICATOR_SKIPBACK)?"":__t)+'" width="80" height="80" viewBox="0 0 80 80" focusable="false" role="presentation">\n        <rect class="background" width="80" height="80" x="0" y="0"/>\n        <path class="foreground" d="m40 17v4c11.6 0 21 9.4 21 21s-9.4 21-21 21-21-9.4-21-21c0-5.5 2.2-10.6 5.7-14.3l5.6 4.2c-2.7 2.5-4.3 6.1-4.3 10.1 0 7.7 6.3 14 14 14s14-6.3 14-14-6.3-14-14-14v4l-10-7.5zm-4.764 31.894c29.843 20.737 14.921 10.369 0 0z"/>\n    </svg>\n    <svg data-uielement="'+(null==(__t=UIElements.INDICATOR_PLAY)?"":__t)+'" height="80" width="80" viewBox="0 0 80 80" focusable="false" role="presentation">\n        <path class="background" d="m0 0v80h80v-80h-80zm30 20 16 10 16 10-16 10-16 10v-20-20z"/>\n        <path class="foreground" d="m30.22 20.25c-0.2231 4.435-0.09351 8.89-0.1419 13.33 0.0088 8.737-0.0362 17.48 0.07256 26.21 10.54-6.515 21.05-13.07 31.52-19.69-2.395-1.814-5.047-3.302-7.568-4.948-7.952-4.981-15.92-9.972-23.89-14.91z"/>\n    </svg>\n    <svg data-uielement="'+(null==(__t=UIElements.INDICATOR_PAUSE)?"":__t)+'" height="80" width="80" viewBox="0 0 80 80" focusable="false" role="presentation">\n        <path class="background" d="m0 0v80h80v-80h-80zm22 20h16v40h-16v-40zm20 0h16v40h-16v-40z"/>\n        <path class="foreground" d="m22.07 20.09v19.94 19.94h15.88v-39.88h-15.88zm20 0v19.94 19.94h15.88v-39.88h-15.88z"/>\n    </svg>\n    <svg data-uielement="'+(null==(__t=UIElements.INDICATOR_STOP)?"":__t)+'" height="80" width="80" viewBox="0 0 80 80" focusable="false" role="presentation">\n        <path class="background" d="m0 0v80h80v-80h-80zm22 20h36v40h-36v-40z"/>\n        <rect class="foreground" fill-rule="evenodd" height="40" width="36" y="20" x="22"/>\n    </svg>\n    <svg data-uielement="'+(null==(__t=UIElements.INDICATOR_VOLUME_MUTE)?"":__t)+'" height="80" width="80" viewBox="0 0 80 80" focusable="false" role="presentation">\n        <path class="background" d="m0 0v80h80v-80h-80zm45.48 20v20 20l-15-10-4-2.666v0.166h-11v-15h11v0.166l4-2.666 15-10zm15.288 2.371c0.043 0.003 0.087 0.027 0.134 0.078 6.069 3.702 9.967 10.649 9.895 17.764 0.07 7.043-3.951 13.832-9.959 17.418-0.583-0.626-1.088-1.497-1.387-2.324 0.825-0.768 1.94-1.36 2.74-2.223 5.369-4.628 7.189-12.713 4.59-19.258-1.2-3.419-3.574-6.318-6.519-8.392-1.189-0.329-0.764-1.15-0.248-1.887 0.225-0.166 0.449-1.195 0.754-1.176zm-7.055 3.682c5.155 2.711 8.59 7.778 8.889 13.06 0.421 5.502-2.81 11.003-7.967 14.069-0.764 0.823-1.358 0.122-1.721-0.606-0.998-1.047 1.012-1.431 1.637-2.111 2.431-1.797 4.231-4.247 5.013-6.963 1.395-4.488-0.015-9.55-3.599-12.963-0.914-0.819-1.856-1.694-3.033-2.201-0.86-0.664 0.405-1.68 0.781-2.285zm-5.381 4.068c2.74 1.735 4.802 4.576 5.361 7.793 0.99 4.592-1.303 9.54-5.277 11.965-0.581-0.66-1.036-1.588-1.416-2.424 1.092-0.887 2.245-1.855 2.918-3.152 2.101-3.538 1.101-8.362-2.047-10.949-1.056-0.494-1.046-1.09-0.273-1.969l0.734-1.264z"/>\n        <path class="foreground" d="m36.062 26.367c-3.1042 2.0659-6.2083 4.1318-9.3125 6.1978-3.7292-0.01009-7.4583-0.02018-11.188-0.03027v14.887c3.7039-0.0047 7.4077-0.0095 11.112-0.0144 6.2337 4.1563 12.467 8.3126 18.701 12.469 0.05797-13.235 0.05782-26.471 0-39.707-3.1042 2.0659-6.2083 4.1318-9.3125 6.1978z"/>\n    </svg>\n    <svg data-uielement="'+(null==(__t=UIElements.INDICATOR_VOLUME_LOW)?"":__t)+'" height="80" width="80" viewBox="0 0 80 80" focusable="false" role="presentation">\n        <path class="background" d="m0 0v80h80v-80h-80zm45.48 20v20 20l-15-10-4-2.666v0.166h-11v-15h11v0.166l4-2.666 15-10zm15.288 2.371c0.043 0.003 0.087 0.027 0.134 0.078 6.069 3.702 9.967 10.649 9.895 17.764 0.07 7.043-3.951 13.832-9.959 17.418-0.583-0.626-1.088-1.497-1.387-2.324 0.825-0.768 1.94-1.36 2.74-2.223 5.369-4.628 7.189-12.713 4.59-19.258-1.2-3.419-3.574-6.318-6.519-8.392-1.189-0.329-0.764-1.15-0.248-1.887 0.225-0.166 0.449-1.195 0.754-1.176zm-7.055 3.682c5.155 2.711 8.59 7.778 8.889 13.06 0.421 5.502-2.81 11.003-7.967 14.069-0.764 0.823-1.358 0.122-1.721-0.606-0.998-1.047 1.012-1.431 1.637-2.111 2.431-1.797 4.231-4.247 5.013-6.963 1.395-4.488-0.015-9.55-3.599-12.963-0.914-0.819-1.856-1.694-3.033-2.201-0.86-0.664 0.405-1.68 0.781-2.285zm-5.381 4.068c2.74 1.735 4.802 4.576 5.361 7.793 0.99 4.592-1.303 9.54-5.277 11.965-0.581-0.66-1.036-1.588-1.416-2.424 1.092-0.887 2.245-1.855 2.918-3.152 2.101-3.538 1.101-8.362-2.047-10.949-1.056-0.494-1.046-1.09-0.273-1.969l0.734-1.264z"/>\n        <path class="foreground" d="m36.062 26.367c-3.1042 2.0659-6.2083 4.1318-9.3125 6.1978-3.7292-0.01009-7.4583-0.02018-11.188-0.03027v14.887c3.7039-0.0047 7.4077-0.0095 11.112-0.0144 6.2337 4.1563 12.467 8.3126 18.701 12.469 0.05797-13.235 0.05782-26.471 0-39.707-3.1042 2.0659-6.2083 4.1318-9.3125 6.1978z"/>\n        <path class="foreground volume-level volume-level-1" d="m48.332 30.121-0.73438 1.2637c-0.77226 0.87946-0.7829 1.4748 0.27344 1.9688 3.1475 2.5873 4.1482 7.4116 2.0469 10.949-0.67331 1.2969-1.8258 2.2651-2.918 3.1523 0.37972 0.83613 0.83496 1.7635 1.416 2.4238 3.9738-2.4251 6.2671-7.3726 5.2773-11.965-0.5594-3.217-2.6209-6.0579-5.3613-7.793z"/>\n    </svg>\n    <svg data-uielement="'+(null==(__t=UIElements.INDICATOR_VOLUME_MEDIUM)?"":__t)+'" height="80" width="80" viewBox="0 0 80 80" focusable="false" role="presentation">\n        <path class="background" d="m0 0v80h80v-80h-80zm45.48 20v20 20l-15-10-4-2.666v0.166h-11v-15h11v0.166l4-2.666 15-10zm15.288 2.371c0.043 0.003 0.087 0.027 0.134 0.078 6.069 3.702 9.967 10.649 9.895 17.764 0.07 7.043-3.951 13.832-9.959 17.418-0.583-0.626-1.088-1.497-1.387-2.324 0.825-0.768 1.94-1.36 2.74-2.223 5.369-4.628 7.189-12.713 4.59-19.258-1.2-3.419-3.574-6.318-6.519-8.392-1.189-0.329-0.764-1.15-0.248-1.887 0.225-0.166 0.449-1.195 0.754-1.176zm-7.055 3.682c5.155 2.711 8.59 7.778 8.889 13.06 0.421 5.502-2.81 11.003-7.967 14.069-0.764 0.823-1.358 0.122-1.721-0.606-0.998-1.047 1.012-1.431 1.637-2.111 2.431-1.797 4.231-4.247 5.013-6.963 1.395-4.488-0.015-9.55-3.599-12.963-0.914-0.819-1.856-1.694-3.033-2.201-0.86-0.664 0.405-1.68 0.781-2.285zm-5.381 4.068c2.74 1.735 4.802 4.576 5.361 7.793 0.99 4.592-1.303 9.54-5.277 11.965-0.581-0.66-1.036-1.588-1.416-2.424 1.092-0.887 2.245-1.855 2.918-3.152 2.101-3.538 1.101-8.362-2.047-10.949-1.056-0.494-1.046-1.09-0.273-1.969l0.734-1.264z"/>\n        <path class="foreground" d="m36.062 26.367c-3.1042 2.0659-6.2083 4.1318-9.3125 6.1978-3.7292-0.01009-7.4583-0.02018-11.188-0.03027v14.887c3.7039-0.0047 7.4077-0.0095 11.112-0.0144 6.2337 4.1563 12.467 8.3126 18.701 12.469 0.05797-13.235 0.05782-26.471 0-39.707-3.1042 2.0659-6.2083 4.1318-9.3125 6.1978z"/>\n        <path class="foreground volume-level volume-level-1" d="m48.332 30.121-0.73438 1.2637c-0.77226 0.87946-0.7829 1.4748 0.27344 1.9688 3.1475 2.5873 4.1482 7.4116 2.0469 10.949-0.67331 1.2969-1.8258 2.2651-2.918 3.1523 0.37972 0.83613 0.83496 1.7635 1.416 2.4238 3.9738-2.4251 6.2671-7.3726 5.2773-11.965-0.5594-3.217-2.6209-6.0579-5.3613-7.793z"/>\n        <path class="foreground volume-level volume-level-2" d="m53.713 26.054c-0.37554 0.60552-1.6401 1.6211-0.78082 2.2846 1.1777 0.50671 2.1189 1.3822 3.0327 2.2011 3.5837 3.413 4.9946 8.4752 3.6002 12.963-0.78264 2.7162-2.5817 5.1657-5.013 6.9624-0.62431 0.68006-2.6367 1.0649-1.6385 2.1118 0.36273 0.72797 0.95745 1.4292 1.7214 0.6058 5.157-3.067 8.388-8.568 7.967-14.07-0.299-5.283-3.734-10.348-8.889-13.059z"/>\n    </svg>\n    <svg data-uielement="'+(null==(__t=UIElements.INDICATOR_VOLUME_HIGH)?"":__t)+'" height="80" width="80" viewBox="0 0 80 80" focusable="false" role="presentation">\n        <path class="background" d="m0 0v80h80v-80h-80zm45.48 20v20 20l-15-10-4-2.666v0.166h-11v-15h11v0.166l4-2.666 15-10zm15.288 2.371c0.043 0.003 0.087 0.027 0.134 0.078 6.069 3.702 9.967 10.649 9.895 17.764 0.07 7.043-3.951 13.832-9.959 17.418-0.583-0.626-1.088-1.497-1.387-2.324 0.825-0.768 1.94-1.36 2.74-2.223 5.369-4.628 7.189-12.713 4.59-19.258-1.2-3.419-3.574-6.318-6.519-8.392-1.189-0.329-0.764-1.15-0.248-1.887 0.225-0.166 0.449-1.195 0.754-1.176zm-7.055 3.682c5.155 2.711 8.59 7.778 8.889 13.06 0.421 5.502-2.81 11.003-7.967 14.069-0.764 0.823-1.358 0.122-1.721-0.606-0.998-1.047 1.012-1.431 1.637-2.111 2.431-1.797 4.231-4.247 5.013-6.963 1.395-4.488-0.015-9.55-3.599-12.963-0.914-0.819-1.856-1.694-3.033-2.201-0.86-0.664 0.405-1.68 0.781-2.285zm-5.381 4.068c2.74 1.735 4.802 4.576 5.361 7.793 0.99 4.592-1.303 9.54-5.277 11.965-0.581-0.66-1.036-1.588-1.416-2.424 1.092-0.887 2.245-1.855 2.918-3.152 2.101-3.538 1.101-8.362-2.047-10.949-1.056-0.494-1.046-1.09-0.273-1.969l0.734-1.264z"/>\n        <path class="foreground" d="m36.062 26.367c-3.1042 2.0659-6.2083 4.1318-9.3125 6.1978-3.7292-0.01009-7.4583-0.02018-11.188-0.03027v14.887c3.7039-0.0047 7.4077-0.0095 11.112-0.0144 6.2337 4.1563 12.467 8.3126 18.701 12.469 0.05797-13.235 0.05782-26.471 0-39.707-3.1042 2.0659-6.2083 4.1318-9.3125 6.1978z"/>\n        <path class="foreground volume-level volume-level-1" d="m48.332 30.121-0.73438 1.2637c-0.77226 0.87946-0.7829 1.4748 0.27344 1.9688 3.1475 2.5873 4.1482 7.4116 2.0469 10.949-0.67331 1.2969-1.8258 2.2651-2.918 3.1523 0.37972 0.83613 0.83496 1.7635 1.416 2.4238 3.9738-2.4251 6.2671-7.3726 5.2773-11.965-0.5594-3.217-2.6209-6.0579-5.3613-7.793z"/>\n        <path class="foreground volume-level volume-level-2" d="m53.713 26.054c-0.37554 0.60552-1.6401 1.6211-0.78082 2.2846 1.1777 0.50671 2.1189 1.3822 3.0327 2.2011 3.5837 3.413 4.9946 8.4752 3.6002 12.963-0.78264 2.7162-2.5817 5.1657-5.013 6.9624-0.62431 0.68006-2.6367 1.0649-1.6385 2.1118 0.36273 0.72797 0.95745 1.4292 1.7214 0.6058 5.157-3.067 8.388-8.568 7.967-14.07-0.299-5.283-3.734-10.348-8.889-13.059z"/>\n        <path class="foreground volume-level volume-level-3" d="m60.768 22.37c-0.30421-0.01881-0.52869 1.0101-0.75391 1.1758-0.51546 0.73746-0.94057 1.5584 0.24805 1.8867 2.9452 2.0749 5.3195 4.9734 6.5195 8.3926 2.5984 6.5447 0.77925 14.63-4.5898 19.258-0.8001 0.86325-1.915 1.4555-2.7402 2.2227 0.29904 0.82739 0.80404 1.6987 1.3867 2.3242 6.008-3.5859 10.029-10.374 9.959-17.418 0.07196-7.1151-3.8262-14.062-9.8945-17.764-0.04701-0.05102-0.09131-0.07544-0.13476-0.07813z"/>\n    </svg>\n\n    <div class="loading"></div>\n\n</div>\n';return __p};this.CBC.APP.Caffeine.Templates["UIVideoPlaceholder.html"]=function(obj){obj||(obj={});var __t,__p="",__e=CBC.APP.Caffeine._.escape;with(obj)__p+='<div class="caf-video caf-ondemand caf-placeholder">\n    <div class="poster" >\n        <button data-uielement="'+(null==(__t=UIElements.BUTTON_PLAY)?"":__t)+'" aria-labelledby="watch-'+(null==(__t=metadata.id)?"":__t)+" title-"+(null==(__t=metadata.id)?"":__t)+'">\n            <img srcSet= "\n                '+(null==(__t=metadata.thumbnail)?"":__t)+"?crop=1.777xh:h;*,*&downsize=1130px:* 1130w,\n                "+(null==(__t=metadata.thumbnail)?"":__t)+"?crop=1.777xh:h;*,*&downsize=880px:* 880w,\n                "+(null==(__t=metadata.thumbnail)?"":__t)+"?crop=1.777xh:h;*,*&downsize=630px:* 630w,\n                "+(null==(__t=metadata.thumbnail)?"":__t)+"?crop=1.777xh:h;*,*&downsize=510px:* 510w,\n                "+(null==(__t=metadata.thumbnail)?"":__t)+'?crop=1.777xh:h;*,*&downsize=260px:* 260w,"\n            sizes="(max-width: 260px) 4vw, (max-width: 510px) 50vw, (max-width: 630px) 66vw, (max-width: 880px) 88vw"\n            src="'+(null==(__t=metadata.thumbnail)?"":__t)+'?crop=1.777xh:h;*,*&downsize=510px:* 510w"\n            alt="" />\n        </button>\n    </div>\n    <div class="controls">\n        <div class="play-pause-stop" data-uielement="'+(null==(__t=UIElements.CONDITIONAL_PLAY_PAUSE_STOP)?"":__t)+'">\n            <button id="watch-'+(null==(__t=metadata.id)?"":__t)+'" type="button" data-uielement="'+(null==(__t=UIElements.BUTTON_PLAY)?"":__t)+'" data-optional-playback-control="true">\n                <svg class="icon-play" height="100%" width="100%" viewBox="0 0 80 80" focusable="false" role="presentation">\n                    <path class="background" d="m0 0v80h80v-80h-80zm30 20 16 10 16 10-16 10-16 10v-20-20z"/>\n                    <path class="foreground" d="m30.2 20.2c-0.2 4.4-0.0 8.8-0.1 13.3 0.0 8.7-0.0 17.4 0.0 26.2 10.5-6.5 21.0-13.0 31.5-19.6-2.3-1.8-5.0-3.3-7.5-4.9-7.9-4.9-15.9-9.9-23.8-14.9z"/>\n                </svg>\n                <label>Watch</label>\n            </button>\n            <button class="pause" type="button" data-uielement="'+(null==(__t=UIElements.BUTTON_PAUSE)?"":__t)+'" data-optional-playback-control="true">\n                <svg class="icon-pause" height="100%" width="100%" viewBox="0 0 80 80" focusable="false" role="presentation">\n                    <path class="background" d="m0 0v80h80v-80h-80zm22 20h16v40h-16v-40zm20 0h16v40h-16v-40z"/>\n                    <path class="foreground" d="m22.0 20.0v19.9 19.9h15.8v-39.8h-15.8zm20 0v19.9 19.9h15.8v-39.8h-15.8z"/>\n                </svg>\n                <label>Pause</label>\n            </button>\n            <button class="stop" type="button" data-uielement="'+(null==(__t=UIElements.BUTTON_STOP)?"":__t)+'" data-optional-playback-control="true">\n                <svg class="icon-stop" height="100%" width="100%" viewBox="0 0 80 80" focusable="false" role="presentation">\n                    <path class="background" d="m0 0v80h80v-80h-80zm22 20h36v40h-36v-40z"/>\n                    <rect class="foreground" fill-rule="evenodd" height="40" width="36" y="20" x="22"/>\n                </svg>\n                <label>Stop</label>\n            </button>\n        </div>\n        <div class="title-frame">\n            <h3 id="title-'+(null==(__t=metadata.id)?"":__t)+'" class="title">\n                '+(null==(__t=metadata.title)?"":__t)+"\n            </h3>\n            <ul>\n                <li>"+(null==(__t=metadata.formattedAirDate)?"":__t)+'</li>\n                <li class="duration">\n                    '+(null==(__t=metadata.formattedDuration)?"":__t)+'\n                </li>\n                <li data-uielement="'+(null==(__t=UIElements.CONDITIONAL_CAPTIONS)?"":__t)+'">\n                    <button class="captions-on" type="button" data-uielement="'+(null==(__t=UIElements.BUTTON_CAPTIONS_ON)?"":__t)+'">\n                        <svg height="100%" width="100%" viewBox="0 0 40 40" focusable="false" role="presentation">\n                            <g>\n                                <path class="foreground" d="M19.544,18.575c-0.255-3.102-1.904-4.929-4.855-4.929c-2.696,0-4.815,2.431-4.815,6.337 c0,3.923,1.931,6.371,5.123,6.371c2.548,0,4.332-1.878,4.614-4.996h-3.045c-0.121,1.157-0.604,2.045-1.623,2.045 c-1.609,0-1.904-1.593-1.904-3.286c0-2.33,0.671-3.521,1.784-3.521c0.993,0,1.623,0.721,1.717,1.978H19.544z"/>\n                                <path class="foreground" d="M30.059,18.575c-0.255-3.102-1.904-4.929-4.855-4.929c-2.696,0-4.815,2.431-4.815,6.337 c0,3.923,1.931,6.371,5.123,6.371c2.548,0,4.332-1.878,4.614-4.996h-3.044c-0.121,1.157-0.603,2.045-1.623,2.045 c-1.609,0-1.905-1.593-1.905-3.286c0-2.33,0.671-3.521,1.784-3.521c0.992,0,1.623,0.721,1.717,1.978H30.059z"/>\n                                <path class="foreground" d="M20.137,10.823c10.208,0,12.211,0.739,12.475,0.864c0.109,0.077,0.224,0.151,0.339,0.225 c0.062,0.04,0.142,0.091,0.193,0.127l0.012,0.015c0.872,1.134,1.031,3.27,1.076,7.902c-0.044,4.67-0.203,6.806-1.076,7.94 l-0.029,0.037c-0.044,0.029-0.091,0.056-0.137,0.084c-0.135,0.084-0.269,0.168-0.397,0.259c-0.419,0.206-2.512,0.826-12.442,0.9 C9.879,29.1,7.8,28.445,7.438,28.28l-0.051-0.034c-0.124-0.083-0.251-0.159-0.379-0.235c-0.063-0.037-0.127-0.071-0.185-0.111 c-0.812-1.09-0.983-3.033-1.053-7.924c0.07-4.857,0.239-6.807,1.036-7.901c0.059-0.041,0.166-0.107,0.248-0.158 c0.112-0.069,0.224-0.138,0.333-0.211l0.031-0.021C8.119,11.359,11.547,10.823,20.137,10.823 M20.137,8.823 c-6.656,0-12.667,0.323-13.859,1.217c-0.373,0.248-0.795,0.447-1.043,0.794c-1.217,1.615-1.391,3.9-1.465,9.14 c0.074,5.241,0.248,7.526,1.465,9.14c0.248,0.373,0.671,0.546,1.043,0.795c1.192,0.919,7.203,1.217,13.859,1.267 c6.656-0.05,12.394-0.348,13.611-1.267c0.348-0.248,0.77-0.422,0.993-0.795c1.242-1.614,1.441-3.899,1.49-9.14 c-0.05-5.241-0.249-7.526-1.49-9.14c-0.223-0.347-0.646-0.546-0.993-0.794C32.53,9.146,26.793,8.823,20.137,8.823L20.137,8.823z"/>\n                            </g>\n                            <g>\n                                <path class="background" d="M33.143,12.039c-0.051-0.036-0.131-0.087-0.193-0.127c-0.115-0.074-0.229-0.148-0.339-0.225 c-0.264-0.124-2.267-0.864-12.475-0.864c-8.59,0-12.018,0.535-12.719,0.861l-0.031,0.021c-0.109,0.072-0.221,0.142-0.333,0.211 c-0.082,0.05-0.189,0.116-0.248,0.158c-0.798,1.094-0.967,3.044-1.036,7.901c0.07,4.891,0.241,6.835,1.053,7.924 c0.059,0.04,0.123,0.074,0.185,0.111c0.127,0.076,0.255,0.153,0.379,0.235l0.051,0.034c0.362,0.166,2.441,0.82,12.714,0.897 c9.929-0.074,12.023-0.694,12.442-0.9c0.128-0.091,0.262-0.175,0.397-0.259c0.046-0.028,0.093-0.055,0.137-0.084l0.029-0.037 c0.872-1.134,1.031-3.269,1.076-7.94c-0.044-4.633-0.203-6.768-1.076-7.902L33.143,12.039z M14.997,26.354 c-3.192,0-5.123-2.448-5.123-6.371c0-3.906,2.119-6.337,4.815-6.337c2.951,0,4.6,1.827,4.855,4.929H16.54 c-0.094-1.257-0.724-1.978-1.717-1.978c-1.113,0-1.784,1.19-1.784,3.521c0,1.693,0.295,3.286,1.904,3.286 c1.019,0,1.502-0.889,1.623-2.045h3.044C19.329,24.476,17.545,26.354,14.997,26.354z M25.513,26.354 c-3.192,0-5.123-2.448-5.123-6.371c0-3.906,2.119-6.337,4.815-6.337c2.951,0,4.6,1.827,4.855,4.929h-3.004 c-0.094-1.257-0.724-1.978-1.717-1.978c-1.113,0-1.784,1.19-1.784,3.521c0,1.693,0.295,3.286,1.905,3.286 c1.019,0,1.502-0.889,1.623-2.045h3.044C29.845,24.476,28.061,26.354,25.513,26.354z"/>\n                                <path class="background" d="M0,0v40h40V0H0z M34.741,29.115c-0.223,0.373-0.646,0.546-0.993,0.795c-1.217,0.919-6.954,1.217-13.611,1.267 C13.48,31.127,7.47,30.829,6.278,29.91c-0.373-0.248-0.795-0.422-1.043-0.795c-1.217-1.614-1.391-3.899-1.465-9.14 c0.074-5.241,0.248-7.526,1.465-9.14c0.248-0.347,0.671-0.546,1.043-0.794C7.47,9.146,13.48,8.823,20.137,8.823 S32.53,9.146,33.747,10.04c0.348,0.248,0.77,0.447,0.993,0.794c1.242,1.615,1.441,3.9,1.49,9.14 C36.181,25.216,35.982,27.501,34.741,29.115z"/>\n                            </g>\n                        </svg>\n                        <label>Turn captions on</label>\n                    </button>\n                    <button class="captions-off" type="button" data-uielement="'+(null==(__t=UIElements.BUTTON_CAPTIONS_OFF)?"":__t)+'">\n                        <svg height="100%" width="100%" viewBox="0 0 40 40" focusable="false" role="presentation">\n                            <path class="background" d="M34.741,10.835c-0.223-0.347-0.646-0.546-0.993-0.794c-1.217-0.894-6.954-1.217-13.611-1.217 S7.47,9.146,6.278,10.04c-0.373,0.248-0.795,0.447-1.043,0.794c-1.217,1.615-1.391,3.9-1.465,9.14 c0.074,5.241,0.248,7.526,1.465,9.14c0.248,0.373,0.671,0.546,1.043,0.795c1.192,0.919,7.203,1.217,13.859,1.267 c6.656-0.05,12.394-0.348,13.611-1.267c0.348-0.248,0.77-0.422,0.993-0.795c1.242-1.614,1.441-3.899,1.49-9.14 C36.181,14.734,35.982,12.449,34.741,10.835z M14.997,26.354c-3.192,0-5.123-2.448-5.123-6.371c0-3.906,2.119-6.337,4.815-6.337 c2.951,0,4.6,1.827,4.855,4.929H16.54c-0.094-1.257-0.724-1.978-1.717-1.978c-1.113,0-1.784,1.19-1.784,3.521 c0,1.693,0.295,3.286,1.904,3.286c1.019,0,1.502-0.889,1.623-2.045h3.044C19.329,24.476,17.545,26.354,14.997,26.354z M25.513,26.354c-3.192,0-5.123-2.448-5.123-6.371c0-3.906,2.119-6.337,4.815-6.337c2.951,0,4.6,1.827,4.855,4.929h-3.004 c-0.094-1.257-0.724-1.978-1.717-1.978c-1.113,0-1.784,1.19-1.784,3.521c0,1.693,0.295,3.286,1.905,3.286 c1.019,0,1.502-0.889,1.623-2.045h3.044C29.845,24.476,28.061,26.354,25.513,26.354z"/>\n                            <g>\n                                <path class="foreground" d="M14.944,23.403c-1.609,0-1.904-1.593-1.904-3.286c0-2.33,0.671-3.521,1.784-3.521c0.992,0,1.623,0.721,1.717,1.978h3.004 c-0.255-3.102-1.904-4.929-4.855-4.929c-2.696,0-4.815,2.431-4.815,6.337c0,3.923,1.931,6.371,5.123,6.371 c2.548,0,4.332-1.878,4.614-4.996h-3.044C16.446,22.515,15.963,23.403,14.944,23.403z"/>\n                                <path class="foreground" d="M25.459,23.403c-1.609,0-1.905-1.593-1.905-3.286c0-2.33,0.671-3.521,1.784-3.521c0.992,0,1.623,0.721,1.717,1.978h3.004 c-0.255-3.102-1.904-4.929-4.855-4.929c-2.696,0-4.815,2.431-4.815,6.337c0,3.923,1.931,6.371,5.123,6.371 c2.548,0,4.332-1.878,4.614-4.996h-3.044C26.961,22.515,26.478,23.403,25.459,23.403z"/>\n                            </g>\n                        </svg>\n                        <label>Turn captions off</label>\n                    </button>\n                </li>\n            </ul>\n        </div>\n    </div>\n    <div class="loading"></div>\n</div>\n';return __p};this.CBC.APP.Caffeine.Templates["LegacyUIAudioLiveControlRack.html"]=function(obj){obj||(obj={});var __t,__p="",__e=CBC.APP.Caffeine._.escape;with(obj)__p+='<div class="ui">\n    <div class="controls">\n        <button class="prev" type="button" data-uielement="'+(null==(__t=UIElements.BUTTON_PREVIOUS)?"":__t)+'" data-display-priority="2">\n            <svg class="icon-prev" height="100%" width="100%" viewBox="266 356 80 80" focusable="false">\n                <path class="background" d="M266,356v80h80v-80H266z M284.6,383.5h3.6v10.7l21.4-10.7v8.9l17.9-8.9v25l-17.9-8.9v8.9l-21.4-10.7v10.7h-3.6V383.5z"/>\n                <polygon class="foreground" points="288.1,383.5 288.1,394.2 309.6,383.5 309.6,392.4 327.4,383.5 327.4,408.5 309.6,399.6 309.6,408.5 288.1,397.8 288.1,408.5 284.6,408.5 284.6,383.5 "/>\n            </svg>\n            <span>Jump to beginning of the track</span>\n        </button>\n\n        <span data-uielement="'+(null==(__t=UIElements.CONDITIONAL_PLAY_PAUSE_STOP)?"":__t)+'">\n            <button data-uielement="'+(null==(__t=UIElements.BUTTON_PLAY)?"":__t)+'">\n                <svg focusable="false" role="presentation" viewBox="0 0 24 24">\n                    <path class="background" d="M0 0h24v24H0z"></path>\n                    <path class="foreground" d="M8 5v14l11-7z"></path>\n                </svg>\n                <span>Listen</span>\n            </button>\n            <button data-uielement="'+(null==(__t=UIElements.BUTTON_PAUSE)?"":__t)+'">\n                <svg focusable="false" role="presentation" viewBox="0 0 24 24">\n                    <path class="foreground" d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"></path>\n                </svg>\n                <span>Pause</span>\n            </button>\n            <button data-uielement="'+(null==(__t=UIElements.BUTTON_STOP)?"":__t)+'">\n                <svg focusable="false" role="presentation" viewBox="0 0 80 80">\n                    <path class="background" d="m0 0v80h80v-80h-80zm22 20h36v40h-36v-40z"/>\n                    <rect class="foreground" fill-rule="evenodd" height="40" width="36" y="20" x="22"/>\n                </svg>\n                <span>Stop</span>\n            </button>\n        </span>\n\n        <span class="volume-controls" data-uielement="'+(null==(__t=UIElements.CLICK_TO_ACTIVATE_VOLUME)?"":__t)+'" >\n            <button class="activator" type="button" aria-label="Adjust volume">\n                <svg class="icon-speaker" height="100%" width="100%" viewBox="0 0 80 80" focusable="false">\n                    <path class="background" d="m0 0v80h80v-80h-80zm45.48 20v20 20l-15-10-4-2.666v0.166h-11v-15h11v0.166l4-2.666 15-10zm15.288 2.371c0.043 0.003 0.087 0.027 0.134 0.078 6.069 3.702 9.967 10.649 9.895 17.764 0.07 7.043-3.951 13.832-9.959 17.418-0.583-0.626-1.088-1.497-1.387-2.324 0.825-0.768 1.94-1.36 2.74-2.223 5.369-4.628 7.189-12.713 4.59-19.258-1.2-3.419-3.574-6.318-6.519-8.392-1.189-0.329-0.764-1.15-0.248-1.887 0.225-0.166 0.449-1.195 0.754-1.176zm-7.055 3.682c5.155 2.711 8.59 7.778 8.889 13.06 0.421 5.502-2.81 11.003-7.967 14.069-0.764 0.823-1.358 0.122-1.721-0.606-0.998-1.047 1.012-1.431 1.637-2.111 2.431-1.797 4.231-4.247 5.013-6.963 1.395-4.488-0.015-9.55-3.599-12.963-0.914-0.819-1.856-1.694-3.033-2.201-0.86-0.664 0.405-1.68 0.781-2.285zm-5.381 4.068c2.74 1.735 4.802 4.576 5.361 7.793 0.99 4.592-1.303 9.54-5.277 11.965-0.581-0.66-1.036-1.588-1.416-2.424 1.092-0.887 2.245-1.855 2.918-3.152 2.101-3.538 1.101-8.362-2.047-10.949-1.056-0.494-1.046-1.09-0.273-1.969l0.734-1.264z"/>\n                    <path class="foreground" d="m36.062 26.367c-3.1042 2.0659-6.2083 4.1318-9.3125 6.1978-3.7292-0.01009-7.4583-0.02018-11.188-0.03027v14.887c3.7039-0.0047 7.4077-0.0095 11.112-0.0144 6.2337 4.1563 12.467 8.3126 18.701 12.469 0.05797-13.235 0.05782-26.471 0-39.707-3.1042 2.0659-6.2083 4.1318-9.3125 6.1978z"/>\n                    <path class="foreground volume-level volume-level-1" d="m48.332 30.121-0.73438 1.2637c-0.77226 0.87946-0.7829 1.4748 0.27344 1.9688 3.1475 2.5873 4.1482 7.4116 2.0469 10.949-0.67331 1.2969-1.8258 2.2651-2.918 3.1523 0.37972 0.83613 0.83496 1.7635 1.416 2.4238 3.9738-2.4251 6.2671-7.3726 5.2773-11.965-0.5594-3.217-2.6209-6.0579-5.3613-7.793z"/>\n                    <path class="foreground volume-level volume-level-2" d="m53.713 26.054c-0.37554 0.60552-1.6401 1.6211-0.78082 2.2846 1.1777 0.50671 2.1189 1.3822 3.0327 2.2011 3.5837 3.413 4.9946 8.4752 3.6002 12.963-0.78264 2.7162-2.5817 5.1657-5.013 6.9624-0.62431 0.68006-2.6367 1.0649-1.6385 2.1118 0.36273 0.72797 0.95745 1.4292 1.7214 0.6058 5.157-3.067 8.388-8.568 7.967-14.07-0.299-5.283-3.734-10.348-8.889-13.059z"/>\n                    <path class="foreground volume-level volume-level-3" d="m60.768 22.37c-0.30421-0.01881-0.52869 1.0101-0.75391 1.1758-0.51546 0.73746-0.94057 1.5584 0.24805 1.8867 2.9452 2.0749 5.3195 4.9734 6.5195 8.3926 2.5984 6.5447 0.77925 14.63-4.5898 19.258-0.8001 0.86325-1.915 1.4555-2.7402 2.2227 0.29904 0.82739 0.80404 1.6987 1.3867 2.3242 6.008-3.5859 10.029-10.374 9.959-17.418 0.07196-7.1151-3.8262-14.062-9.8945-17.764-0.04701-0.05102-0.09131-0.07544-0.13476-0.07813z"/>\n                </svg>\n                <span>Adjust volume</span>\n            </button>\n            <div class="volume-slider-container">\n                <input class="volume-slider" data-uielement="'+(null==(__t=UIElements.SLIDER_VOLUME)?"":__t)+'" type="range" value="0" max="10" role="slider" aria-label="Volume controller" aria-valuemin="0" aria-valuemax="10" aria-orientation="horizontal" />\n            </div>\n        </span>\n    </div>\n\n    <div class="extras">\n        <div class="timeinfo">\n            <span data-uielement="'+(null==(__t=UIElements.METADATA_CURRENT_TIME)?"":__t)+'"></span>\n            <span class="duration">Live</span>\n        </div>\n        <button class="share" type="button" aria-label="Share" data-uielement="'+(null==(__t=UIElements.BUTTON_SHARE)?"":__t)+'">\n            <svg class="icon-share" height="100%" width="100%" viewBox="0 0 80 80" focusable="false">\n                <path class="background"d="m0 0v80h80v-80h-80zm41 18a7 7 0 0 1 7 7 7 7 0 0 1 -7 7 7 7 0 0 1 -3.729 -1.084l-4.352 4.352a7 7 0 0 1 1.08 3.73 7 7 0 0 1 -0.92 3.46l4.463 4.463a7 7 0 0 1 3.46 -0.92 7 7 0 0 1 7 7 7 7 0 0 1 -7 7 7 7 0 0 1 -7 -7 7 7 0 0 1 1.311 -4.066l-4.25-4.24a7 7 0 0 1 -4.06 1.31 7 7 0 0 1 -7 -7 7 7 0 0 1 7 -7 7 7 0 0 1 3.811 1.135l4.32-4.33a7 7 0 0 1 -1.13 -3.81 7 7 0 0 1 7 -7z"/>\n                <path class="foreground" d="m40.85 18.06c-2.982 0.1058-5.882 2.235-6.546 5.206-0.4989 1.889-0.0789 3.914 0.8901 5.583-1.443 1.446-2.887 2.891-4.33 4.337-2.144-1.325-4.97-1.54-7.174-0.2321-3.411 1.675-4.647 6.403-2.626 9.579 1.535 2.569 4.799 4.024 7.707 3.131 0.8324-0.2156 1.592-0.6278 2.353-1.016 1.389 1.443 2.927 2.801 4.198 4.325-1.6 2.399-1.726 5.809 0.1328 8.115 1.558 2.188 4.403 3.252 7.018 2.673 3.729-0.7675 6.423-4.972 5.18-8.656-0.8398-2.98-3.811-5.275-6.95-4.991-1.119-0.1085-2.117 0.5084-3.155 0.7419-1.654-1.273-3.012-2.924-4.461-4.412 0.6969-1.572 1.11-3.342 0.6401-5.047-0.1771-0.7728-0.5106-1.497-0.8831-2.193 1.447-1.445 2.894-2.89 4.34-4.335 2.263 1.238 5.204 1.497 7.423 0.02124 2.559-1.561 3.99-4.853 3.044-7.754-0.801-2.987-3.707-5.167-6.801-5.077z"/>\n            </svg>\n            <span>Share</span>\n        </button>\n    </div>\n\n\n    <div class="seekprogress">\n        <div class="timeline"></div>\n        <progress class="buffer" data-uielement="'+(null==(__t=UIElements.METADATA_BUFFER)?"":__t)+'" value="0" max="'+(null==(__t=metadata.duration)?"":__t)+'" aria-label="Buffer progress" aria-live="off"></progress>\n        <progress class="playback" data-uielement="'+(null==(__t=UIElements.METADATA_PROGRESS)?"":__t)+'" value="0" max="'+(null==(__t=metadata.duration)?"":__t)+'" aria-label="Playback progress" aria-live="off"></progress>\n        <input class="seek" data-uielement="'+(null==(__t=UIElements.SLIDER_SEEK)?"":__t)+'" type="range" value="0" max="'+(null==(__t=metadata.duration)?"":__t)+'" role="slider" aria-label="Audio time controller" aria-valuemin="0 seconds" aria-valuemax="'+(null==(__t=metadata.duration)?"":__t)+' seconds" aria-orientation="horizontal" />\n    </div>\n</div>\n';return __p};this.CBC.APP.Caffeine.Templates["LegacyUIAudioLiveShowInfo.html"]=function(obj){obj||(obj={});var __t,__p="",__e=CBC.APP.Caffeine._.escape;with(obj)__p+='<div class="showinfo">\n    <div class="showname">'+(null==(__t=metadata.showName)?"":__t)+'</div>\n    <div class="title">'+(null==(__t=metadata.title)?"":__t)+"</div>\n</div>\n";return __p};this.CBC.APP.Caffeine.Templates["LegacyUIAudioOndemandControlRack.html"]=function(obj){obj||(obj={});var __t,__p="",__e=CBC.APP.Caffeine._.escape;with(obj)__p+='<div class="ui">\n    <div class="controls">\n        <button class="prev" type="button" data-uielement="'+(null==(__t=UIElements.BUTTON_PREVIOUS)?"":__t)+'" data-display-priority="2">\n            <svg class="icon-prev" height="100%" width="100%" viewBox="266 356 80 80" focusable="false">\n                <path class="background" d="M266,356v80h80v-80H266z M284.6,383.5h3.6v10.7l21.4-10.7v8.9l17.9-8.9v25l-17.9-8.9v8.9l-21.4-10.7v10.7h-3.6V383.5z"/>\n                <polygon class="foreground" points="288.1,383.5 288.1,394.2 309.6,383.5 309.6,392.4 327.4,383.5 327.4,408.5 309.6,399.6 309.6,408.5 288.1,397.8 288.1,408.5 284.6,408.5 284.6,383.5 "/>\n            </svg>\n            <span>Jump to beginning of the track</span>\n        </button>\n        <button class="skip-back" type="button" data-uielement="'+(null==(__t=UIElements.BUTTON_SKIPBACK)?"":__t)+'" data-display-priority="3">\n            <svg class="icon-skip-forward" height="100%" width="100%" viewBox="0 0 80 80" focusable="false">\n                <path class="background" d="m0 0v80h80v-80h-80zm40.1 15v4c11.6 0 21 9.4 21 21s-9.4 21-21 21-21-9.4-21-21c0-5.5 2.2-10.6 5.7-14.3l5.6 4.2c-2.7 2.5-4.3 6.1-4.3 10.1 0 7.7 6.3 14 14 14s14-6.3 14-14-6.3-14-14-14v4l-10-7.5 10-7.5zm0.8 18.2h6.8v2.4h-4.7l-0.3 2.1c0.1-0.0 0.2-0.0 0.4-0.0 1.1 0 2.1 0.2 2.9 0.7 1.2 0.7 2.0 2.0 2.0 3.6 0 2.7-2.1 4.7-5.1 4.7-1.5 0-2.7-0.4-3.3-0.8l-0.3-0.2 0.7-2.2 0.5 0.3c0.4 0.2 1.3 0.6 2.3 0.6 1.2 0 2.4-0.7 2.4-2.1-0.0-1.8-1.6-2.2-3.0-2.2-0.6 0-1.1 0.0-1.5 0.1l-0.7 0.0 0.9-7.0zm-5.9 0.1h2.0v13.3h-2.6v-10.4l-2.0 1.0-0.5-2.2 3.1-1.6z"/>\n                <path class="foreground" d="m40.1 15-10 7.5 10 7.5v-4c7.7 0 14 6.3 14 14s-6.3 14-14 14-14-6.3-14-14c0-4 1.6-7.6 4.3-10.1l-5.6-4.2c-3.5 3.7-5.7 8.8-5.7 14.3 0 11.6 9.4 21 21 21s21-9.4 21-21-9.4-21-21-21v-4zm0.8 18.2-0.9 7.0 0.7-0.0c0.4-0.0 0.9-0.1 1.5-0.1 1.3 0 3.0 0.3 3.0 2.2-0.0 1.4-1.2 2.1-2.4 2.1-0.9 0-1.9-0.3-2.3-0.6l-0.5-0.3-0.7 2.2 0.3 0.2c0.6 0.4 1.8 0.8 3.3 0.8 2.9 0 5.1-1.9 5.1-4.7 0-1.5-0.7-2.8-2.0-3.6-0.8-0.4-1.8-0.7-2.9-0.7-0.1 0-0.2 0.0-0.4 0.0l0.3-2.1h4.7v-2.4h-6.8zm-5.9 0.1-3.1 1.6 0.5 2.2 2.0-1.0v10.4h2.6v-13.3h-2.0z"/>\n            </svg>\n            <span>Skip back 15 seconds</span>\n        </button>\n\n        <span data-uielement="'+(null==(__t=UIElements.CONDITIONAL_PLAY_PAUSE_STOP)?"":__t)+'">\n            <button data-uielement="'+(null==(__t=UIElements.BUTTON_PLAY)?"":__t)+'">\n                <svg focusable="false" role="presentation" viewBox="0 0 24 24">\n                    <path class="background" d="M0 0h24v24H0z"></path>\n                    <path class="foreground" d="M8 5v14l11-7z"></path>\n                </svg>\n                <span>Listen</span>\n            </button>\n            <button data-uielement="'+(null==(__t=UIElements.BUTTON_PAUSE)?"":__t)+'">\n                <svg focusable="false" role="presentation" viewBox="0 0 24 24">\n                    <path class="foreground" d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"></path>\n                </svg>\n                <span>Pause</span>\n            </button>\n            <button data-uielement="'+(null==(__t=UIElements.BUTTON_STOP)?"":__t)+'">\n                <svg focusable="false" role="presentation" viewBox="0 0 80 80">\n                    <path class="background" d="m0 0v80h80v-80h-80zm22 20h36v40h-36v-40z"/>\n                    <rect class="foreground" fill-rule="evenodd" height="40" width="36" y="20" x="22"/>\n                </svg>\n                <span>Stop</span>\n            </button>\n        </span>\n\n        <button class="skip-forward" type="button" data-uielement="'+(null==(__t=UIElements.BUTTON_SKIPFORWARD)?"":__t)+'" data-display-priority="3">\n            <svg class="icon-skip-forward" height="100%" width="100%" viewBox="0 0 80 80" focusable="false">\n                <path class="background" d="m0 0v80h80v-80h-80zm40 17 10 7.5-10 7.5v-4c-7.7 0-14 6.3-14 14s6.3 14 14 14 14-6.3 14-14c0-4-1.6-7.6-4.3-10.1l5.6-4.2c3.5 3.7 5.7 8.8 5.7 14.3 0 11.6-9.4 21-21 21s-21-9.4-21-21 9.4-21 21-21v-4zm-5.2 18.1c2.7 0 4.0 1.7 4.0 3.4 0 1.1-0.5 2.1-1.5 2.8 1.2 0.6 2.0 1.8 2.0 3.2 0 2.0-1.5 4.2-5.0 4.2-1.5 0-2.8-0.4-3.4-0.9l-0.3-0.2 0.8-2.2 0.5 0.3c0.3 0.2 1.3 0.7 2.4 0.7 0.7 0 1.4-0.2 1.8-0.6 0.4-0.4 0.4-1.0 0.4-1.2-0.0-1.4-1.4-1.9-2.6-1.9h-1.4v-2.2h1.4c0.9 0 2.2-0.4 2.2-1.5 0-0.8-0.5-1.3-1.6-1.3-0.8 0-1.7 0.3-2.1 0.7l-0.5 0.3-0.7-2.1 0.3-0.2c0.7-0.5 2.0-1.0 3.5-1.0zm10.2 0c2.8 0 4.5 2.5 4.5 6.7 0 4.4-1.7 7.0-4.7 7.0-2.7 0-4.5-2.6-4.5-6.8 0-4.2 1.8-6.9 4.8-6.9zm-0.0 2.2c-1.2 0-2.0 1.8-2.0 4.6 0.0 2.8 0.7 4.5 2.0 4.5 1.8 0 2.0-3.2 2.0-4.6 0-1.6-0.2-4.5-2.0-4.5z"/>\n                <path class="foreground" d="m40 17v4c-11.6 0-21 9.4-21 21s9.4 21 21 21 21-9.4 21-21c0-5.5-2.2-10.6-5.7-14.3l-5.6 4.2c2.7 2.5 4.3 6.1 4.3 10.1 0 7.7-6.3 14-14 14s-14-6.3-14-14 6.3-14 14-14v4l10-7.5-10-7.5zm-5.2 18.1c-1.4 0-2.8 0.5-3.5 1.0l-0.3 0.2 0.7 2.1 0.5-0.3c0.4-0.3 1.3-0.7 2.1-0.7 1.0 0 1.6 0.4 1.6 1.3 0 1.1-1.3 1.5-2.2 1.5h-1.4v2.2h1.4c1.2 0 2.6 0.5 2.6 1.9 0.0 0.2-0.0 0.8-0.4 1.2-0.3 0.4-1.0 0.6-1.8 0.6-1.0 0-2.0-0.4-2.4-0.7l-0.5-0.3-0.8 2.2 0.3 0.2c0.6 0.4 1.9 0.9 3.4 0.9 3.4 0 5.0-2.1 5.0-4.2 0-1.4-0.7-2.6-2.0-3.2 0.9-0.6 1.5-1.6 1.5-2.8 0-1.7-1.2-3.4-4.0-3.4zm10.2 0c-2.9 0-4.8 2.6-4.8 6.9 0.0 4.2 1.7 6.8 4.5 6.8 3.0 0 4.8-2.5 4.8-7.0 0-4.2-1.7-6.7-4.5-6.7zm-0.0 2.2c1.7 0 2.0 2.8 2.0 4.5 0 1.4-0.1 4.6-2.0 4.6-1.2 0-2.0-1.7-2.0-4.5 0-2.8 0.7-4.6 2.0-4.6z"/>\n            </svg>\n            <span>Skip forward 30 seconds</span>\n        </button>\n        <button class="next display-optional" type="button" data-uielement="'+(null==(__t=UIElements.BUTTON_NEXT)?"":__t)+'" data-display-priority="2">\n            <svg class="icon-next" height="100%" width="100%" viewBox="266 356 80 80" focusable="false">\n                <path class="background" d="M266,356v80h80v-80H266z M327.4,408.5h-3.6v-10.7l-21.4,10.7v-8.9l-17.9,8.9v-25l17.9,8.9v-8.9l21.4,10.7v-10.7h3.6V408.5z" />\n                <polygon class="foreground" points="323.9,383.5 323.9,394.2 302.4,383.5 302.4,392.4 284.6,383.5 284.6,408.5 302.4,399.6 302.4,408.5 323.9,397.8 323.9,408.5 327.4,408.5 327.4,383.5 "/>\n            </svg>\n            <span>Skip to next track</span>\n        </button>\n        <span class="volume-controls" data-uielement="'+(null==(__t=UIElements.CLICK_TO_ACTIVATE_VOLUME)?"":__t)+'" >\n            <button class="activator" type="button" aria-label="Adjust volume">\n                <svg class="icon-speaker" height="100%" width="100%" viewBox="0 0 80 80" focusable="false">\n                    <path class="background" d="m0 0v80h80v-80h-80zm45.48 20v20 20l-15-10-4-2.666v0.166h-11v-15h11v0.166l4-2.666 15-10zm15.288 2.371c0.043 0.003 0.087 0.027 0.134 0.078 6.069 3.702 9.967 10.649 9.895 17.764 0.07 7.043-3.951 13.832-9.959 17.418-0.583-0.626-1.088-1.497-1.387-2.324 0.825-0.768 1.94-1.36 2.74-2.223 5.369-4.628 7.189-12.713 4.59-19.258-1.2-3.419-3.574-6.318-6.519-8.392-1.189-0.329-0.764-1.15-0.248-1.887 0.225-0.166 0.449-1.195 0.754-1.176zm-7.055 3.682c5.155 2.711 8.59 7.778 8.889 13.06 0.421 5.502-2.81 11.003-7.967 14.069-0.764 0.823-1.358 0.122-1.721-0.606-0.998-1.047 1.012-1.431 1.637-2.111 2.431-1.797 4.231-4.247 5.013-6.963 1.395-4.488-0.015-9.55-3.599-12.963-0.914-0.819-1.856-1.694-3.033-2.201-0.86-0.664 0.405-1.68 0.781-2.285zm-5.381 4.068c2.74 1.735 4.802 4.576 5.361 7.793 0.99 4.592-1.303 9.54-5.277 11.965-0.581-0.66-1.036-1.588-1.416-2.424 1.092-0.887 2.245-1.855 2.918-3.152 2.101-3.538 1.101-8.362-2.047-10.949-1.056-0.494-1.046-1.09-0.273-1.969l0.734-1.264z"/>\n                    <path class="foreground" d="m36.062 26.367c-3.1042 2.0659-6.2083 4.1318-9.3125 6.1978-3.7292-0.01009-7.4583-0.02018-11.188-0.03027v14.887c3.7039-0.0047 7.4077-0.0095 11.112-0.0144 6.2337 4.1563 12.467 8.3126 18.701 12.469 0.05797-13.235 0.05782-26.471 0-39.707-3.1042 2.0659-6.2083 4.1318-9.3125 6.1978z"/>\n                    <path class="foreground volume-level volume-level-1" d="m48.332 30.121-0.73438 1.2637c-0.77226 0.87946-0.7829 1.4748 0.27344 1.9688 3.1475 2.5873 4.1482 7.4116 2.0469 10.949-0.67331 1.2969-1.8258 2.2651-2.918 3.1523 0.37972 0.83613 0.83496 1.7635 1.416 2.4238 3.9738-2.4251 6.2671-7.3726 5.2773-11.965-0.5594-3.217-2.6209-6.0579-5.3613-7.793z"/>\n                    <path class="foreground volume-level volume-level-2" d="m53.713 26.054c-0.37554 0.60552-1.6401 1.6211-0.78082 2.2846 1.1777 0.50671 2.1189 1.3822 3.0327 2.2011 3.5837 3.413 4.9946 8.4752 3.6002 12.963-0.78264 2.7162-2.5817 5.1657-5.013 6.9624-0.62431 0.68006-2.6367 1.0649-1.6385 2.1118 0.36273 0.72797 0.95745 1.4292 1.7214 0.6058 5.157-3.067 8.388-8.568 7.967-14.07-0.299-5.283-3.734-10.348-8.889-13.059z"/>\n                    <path class="foreground volume-level volume-level-3" d="m60.768 22.37c-0.30421-0.01881-0.52869 1.0101-0.75391 1.1758-0.51546 0.73746-0.94057 1.5584 0.24805 1.8867 2.9452 2.0749 5.3195 4.9734 6.5195 8.3926 2.5984 6.5447 0.77925 14.63-4.5898 19.258-0.8001 0.86325-1.915 1.4555-2.7402 2.2227 0.29904 0.82739 0.80404 1.6987 1.3867 2.3242 6.008-3.5859 10.029-10.374 9.959-17.418 0.07196-7.1151-3.8262-14.062-9.8945-17.764-0.04701-0.05102-0.09131-0.07544-0.13476-0.07813z"/>\n                </svg>\n                <span>Adjust volume</span>\n            </button>\n            <div class="volume-slider-container">\n                <input class="volume-slider" data-uielement="'+(null==(__t=UIElements.SLIDER_VOLUME)?"":__t)+'" type="range" value="0" max="10" role="slider" aria-label="Volume controller" aria-valuemin="0" aria-valuemax="10" aria-orientation="horizontal" />\n            </div>\n        </span>\n    </div>\n\n    <div class="extras">\n        <div class="timeinfo" data-display-priority="2">\n            <span data-uielement="'+(null==(__t=UIElements.METADATA_CURRENT_TIME)?"":__t)+'"></span>\n            <span class="duration">'+(null==(__t=metadata.formattedDuration)?"":__t)+'</span>\n        </div>\n        <button class="share" type="button" data-display-priority="4" aria-label="Share" data-uielement="'+(null==(__t=UIElements.BUTTON_SHARE)?"":__t)+'">\n            <svg class="icon-share" height="100%" width="100%" viewBox="0 0 80 80" focusable="false">\n                <path class="background"d="m0 0v80h80v-80h-80zm41 18a7 7 0 0 1 7 7 7 7 0 0 1 -7 7 7 7 0 0 1 -3.729 -1.084l-4.352 4.352a7 7 0 0 1 1.08 3.73 7 7 0 0 1 -0.92 3.46l4.463 4.463a7 7 0 0 1 3.46 -0.92 7 7 0 0 1 7 7 7 7 0 0 1 -7 7 7 7 0 0 1 -7 -7 7 7 0 0 1 1.311 -4.066l-4.25-4.24a7 7 0 0 1 -4.06 1.31 7 7 0 0 1 -7 -7 7 7 0 0 1 7 -7 7 7 0 0 1 3.811 1.135l4.32-4.33a7 7 0 0 1 -1.13 -3.81 7 7 0 0 1 7 -7z"/>\n                <path class="foreground" d="m40.85 18.06c-2.982 0.1058-5.882 2.235-6.546 5.206-0.4989 1.889-0.0789 3.914 0.8901 5.583-1.443 1.446-2.887 2.891-4.33 4.337-2.144-1.325-4.97-1.54-7.174-0.2321-3.411 1.675-4.647 6.403-2.626 9.579 1.535 2.569 4.799 4.024 7.707 3.131 0.8324-0.2156 1.592-0.6278 2.353-1.016 1.389 1.443 2.927 2.801 4.198 4.325-1.6 2.399-1.726 5.809 0.1328 8.115 1.558 2.188 4.403 3.252 7.018 2.673 3.729-0.7675 6.423-4.972 5.18-8.656-0.8398-2.98-3.811-5.275-6.95-4.991-1.119-0.1085-2.117 0.5084-3.155 0.7419-1.654-1.273-3.012-2.924-4.461-4.412 0.6969-1.572 1.11-3.342 0.6401-5.047-0.1771-0.7728-0.5106-1.497-0.8831-2.193 1.447-1.445 2.894-2.89 4.34-4.335 2.263 1.238 5.204 1.497 7.423 0.02124 2.559-1.561 3.99-4.853 3.044-7.754-0.801-2.987-3.707-5.167-6.801-5.077z"/>\n            </svg>\n            <span>Share</span>\n        </button>\n    </div>\n\n    <div class="seekprogress">\n        <div class="timeline"></div>\n        <progress class="buffer" data-uielement="'+(null==(__t=UIElements.METADATA_BUFFER)?"":__t)+'" value="0" max="'+(null==(__t=metadata.duration)?"":__t)+'" aria-label="Buffer progress" aria-live="off"></progress>\n        <progress class="playback" data-uielement="'+(null==(__t=UIElements.METADATA_PROGRESS)?"":__t)+'" value="0" max="'+(null==(__t=metadata.duration)?"":__t)+'" aria-label="Playback progress" aria-live="off"></progress>\n        <input class="seek" data-uielement="'+(null==(__t=UIElements.SLIDER_SEEK)?"":__t)+'" type="range" value="0" max="'+(null==(__t=metadata.duration)?"":__t)+'" role="slider" aria-label="Audio time controller" aria-valuemin="0 seconds" aria-valuemax="'+(null==(__t=metadata.duration)?"":__t)+' seconds" aria-orientation="horizontal" />\n    </div>\n</div>\n';return __p};this.CBC.APP.Caffeine.Templates["LegacyUIAudioOndemandShowInfo.html"]=function(obj){obj||(obj={});var __t,__p="",__e=CBC.APP.Caffeine._.escape,__j=Array.prototype.join;function print(){__p+=__j.call(arguments,"")}with(obj){__p+='<div class="showinfo">\n    ';metadata.hostImage&&(__p+='\n        <img class="showthumbnail" src="'+(null==(__t=metadata.hostImage)?"":__t)+'?crop=h:w;*,*&downsize=200:200" alt="Thumbnail image for '+(null==(__t=metadata.showName)?"":__t)+'">\n    ');__p+='    \n    <div class="showname">'+(null==(__t=metadata.showName)?"":__t)+'</div>\n    <div class="title">'+(null==(__t=metadata.title)?"":__t)+"</div>\n</div>"}return __p};this.CBC.APP.Caffeine.Templates["LegacyUILoading.html"]=function(obj){obj||(obj={});var __t,__p="",__e=CBC.APP.Caffeine._.escape;with(obj)__p+='<div class="loading"></div>';return __p};
//# sourceMappingURL=Caffeine.modules.js.map