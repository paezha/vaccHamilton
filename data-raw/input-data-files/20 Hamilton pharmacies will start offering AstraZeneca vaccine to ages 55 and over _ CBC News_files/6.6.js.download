(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{100:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var internal=__webpack_require__(0),Loader_svelte=__webpack_require__(110),layout=__webpack_require__(42),viewer_document=__webpack_require__(109),svelte=__webpack_require__(22),viewer_search_icon=__webpack_require__(234),viewer_search_icon_default=__webpack_require__.n(viewer_search_icon),search_icon=__webpack_require__(133),search_icon_default=__webpack_require__.n(search_icon),close_inline=__webpack_require__(45),close_inline_default=__webpack_require__.n(close_inline);__webpack_require__(235);function create_fragment(ctx){let div3,div0,input,input_disabled_value,t0,div1,t1,div2,t2,div4,mounted,dispose;return{c(){div3=Object(internal.w)("div"),div0=Object(internal.w)("div"),input=Object(internal.w)("input"),t0=Object(internal.ab)(),div1=Object(internal.w)("div"),t1=Object(internal.ab)(),div2=Object(internal.w)("div"),t2=Object(internal.ab)(),div4=Object(internal.w)("div"),Object(internal.i)(input,"placeholder","Search"),input.disabled=input_disabled_value=ctx[3].searchPending,Object(internal.i)(input,"class","svelte-1n4l7it"),Object(internal.i)(div0,"class","container svelte-1n4l7it"),Object(internal.i)(div1,"class","searchicon svelte-1n4l7it"),Object(internal.gb)(div1,"disabled",ctx[2]||ctx[3].searchPending),Object(internal.i)(div2,"class","closeicon svelte-1n4l7it"),Object(internal.i)(div3,"class","input svelte-1n4l7it"),Object(internal.gb)(div3,"expand",ctx[3].searchExpanded),Object(internal.i)(div4,"class","icon svelte-1n4l7it"),Object(internal.gb)(div4,"hide",ctx[3].searchExpanded)},m(target,anchor){Object(internal.H)(target,div3,anchor),Object(internal.g)(div3,div0),Object(internal.g)(div0,input),ctx[8](input),Object(internal.X)(input,ctx[0]),Object(internal.g)(div3,t0),Object(internal.g)(div3,div1),div1.innerHTML=search_icon_default.a,Object(internal.g)(div3,t1),Object(internal.g)(div3,div2),div2.innerHTML=close_inline_default.a,Object(internal.H)(target,t2,anchor),Object(internal.H)(target,div4,anchor),div4.innerHTML=viewer_search_icon_default.a,mounted||(dispose=[Object(internal.J)(window,"keydown",ctx[7]),Object(internal.J)(input,"input",ctx[9]),Object(internal.J)(input,"keypress",ctx[10]),Object(internal.J)(div1,"click",ctx[6]),Object(internal.J)(div2,"click",ctx[4]),Object(internal.J)(div4,"click",ctx[5])],mounted=!0)},p(ctx,[dirty]){8&dirty&&input_disabled_value!==(input_disabled_value=ctx[3].searchPending)&&(input.disabled=input_disabled_value),1&dirty&&input.value!==ctx[0]&&Object(internal.X)(input,ctx[0]),12&dirty&&Object(internal.gb)(div1,"disabled",ctx[2]||ctx[3].searchPending),8&dirty&&Object(internal.gb)(div3,"expand",ctx[3].searchExpanded),8&dirty&&Object(internal.gb)(div4,"hide",ctx[3].searchExpanded)},i:internal.M,o:internal.M,d(detaching){detaching&&Object(internal.v)(div3),ctx[8](null),detaching&&Object(internal.v)(t2),detaching&&Object(internal.v)(div4),mounted=!1,Object(internal.S)(dispose)}}}function instance($$self,$$props,$$invalidate){let invalidQuery,$layout;Object(internal.o)($$self,layout.n,$$value=>$$invalidate(3,$layout=$$value));let query="",searchElem=null;async function retract(){$$invalidate(0,query=""),layout.n.searchExpanded=!1,await Object(viewer_document.c)()}function expandSearch(){$$invalidate(0,query=""),layout.n.searchExpanded=!0,Object(svelte.e)().then(()=>{null!=searchElem&&searchElem.focus()})}function search(){invalidQuery||Object(viewer_document.d)(query)}return $$self.$$.update=()=>{1&$$self.$$.dirty&&$$invalidate(2,invalidQuery=0==query.trim().length)},[query,searchElem,invalidQuery,$layout,retract,expandSearch,search,function(e){if((e.ctrlKey||e.metaKey)&&"f"==e.key){if(!(layout.n.disableControls||layout.n.dialogShown||"image"!=viewer_document.b.mode&&"search"!=viewer_document.b.mode)){e.preventDefault();const prevQuery=query;expandSearch(),$$invalidate(0,query=prevQuery);try{searchElem.select()}catch(e){}}}else"Escape"==e.key&&layout.n.searchExpanded&&retract()},function($$value){internal.l[$$value?"unshift":"push"](()=>{searchElem=$$value,$$invalidate(1,searchElem)})},function(){query=this.value,$$invalidate(0,query)},e=>{"Enter"==e.key&&search()}]}class Search_svelte_Search extends internal.b{constructor(options){super(),Object(internal.G)(this,options,instance,create_fragment,internal.T,{})}}var controls_Search_svelte=Search_svelte_Search,viewer_hamburger=__webpack_require__(236),viewer_hamburger_default=__webpack_require__.n(viewer_hamburger);__webpack_require__(237);function Hamburger_svelte_create_fragment(ctx){let div,mounted,dispose;return{c(){div=Object(internal.w)("div"),Object(internal.i)(div,"class","hamburger svelte-e127hm")},m(target,anchor){Object(internal.H)(target,div,anchor),div.innerHTML=viewer_hamburger_default.a,mounted||(dispose=Object(internal.J)(div,"click",viewer_document.g),mounted=!0)},p:internal.M,i:internal.M,o:internal.M,d(detaching){detaching&&Object(internal.v)(div),mounted=!1,dispose()}}}class Hamburger_svelte_Hamburger extends internal.b{constructor(options){super(),Object(internal.G)(this,options,null,Hamburger_svelte_create_fragment,internal.T,{})}}var controls_Hamburger_svelte=Hamburger_svelte_Hamburger,Link_svelte=__webpack_require__(27),viewer=__webpack_require__(18),back_arrow=__webpack_require__(238),back_arrow_default=__webpack_require__.n(back_arrow);__webpack_require__(239);function create_if_block_3(ctx){let div,link,current;return link=new Link_svelte.a({props:{back:!0,style:"margin-top: "+(ctx[0].headerHeight-20)+"px",$$slots:{default:[create_default_slot]},$$scope:{ctx:ctx}}}),{c(){div=Object(internal.w)("div"),Object(internal.r)(link.$$.fragment),Object(internal.i)(div,"class","back svelte-385nw2")},m(target,anchor){Object(internal.H)(target,div,anchor),Object(internal.L)(link,div,null),current=!0},p(ctx,dirty){const link_changes={};1&dirty&&(link_changes.style="margin-top: "+(ctx[0].headerHeight-20)+"px"),8&dirty&&(link_changes.$$scope={dirty:dirty,ctx:ctx}),link.$set(link_changes)},i(local){current||(Object(internal.hb)(link.$$.fragment,local),current=!0)},o(local){Object(internal.ib)(link.$$.fragment,local),current=!1},d(detaching){detaching&&Object(internal.v)(div),Object(internal.t)(link)}}}function create_default_slot(ctx){let html_tag,html_anchor;return{c(){html_anchor=Object(internal.x)(),html_tag=new internal.a(html_anchor)},m(target,anchor){html_tag.m(back_arrow_default.a,target,anchor),Object(internal.H)(target,html_anchor,anchor)},p:internal.M,d(detaching){detaching&&Object(internal.v)(html_anchor),detaching&&html_tag.d()}}}function create_if_block(ctx){let div,t,current,if_block0=!ctx[0].embed&&ctx[2].document.readable&&create_if_block_2(ctx),if_block1=ctx[0].title&&create_if_block_1(ctx);return{c(){div=Object(internal.w)("div"),if_block0&&if_block0.c(),t=Object(internal.ab)(),if_block1&&if_block1.c(),Object(internal.i)(div,"class","title svelte-385nw2"),Object(internal.i)(div,"style",ctx[1])},m(target,anchor){Object(internal.H)(target,div,anchor),if_block0&&if_block0.m(div,null),Object(internal.g)(div,t),if_block1&&if_block1.m(div,null),current=!0},p(ctx,dirty){!ctx[0].embed&&ctx[2].document.readable?if_block0?5&dirty&&Object(internal.hb)(if_block0,1):(if_block0=create_if_block_2(ctx),if_block0.c(),Object(internal.hb)(if_block0,1),if_block0.m(div,t)):if_block0&&(Object(internal.E)(),Object(internal.ib)(if_block0,1,1,()=>{if_block0=null}),Object(internal.n)()),ctx[0].title?if_block1?if_block1.p(ctx,dirty):(if_block1=create_if_block_1(ctx),if_block1.c(),if_block1.m(div,null)):if_block1&&(if_block1.d(1),if_block1=null),(!current||2&dirty)&&Object(internal.i)(div,"style",ctx[1])},i(local){current||(Object(internal.hb)(if_block0),current=!0)},o(local){Object(internal.ib)(if_block0),current=!1},d(detaching){detaching&&Object(internal.v)(div),if_block0&&if_block0.d(),if_block1&&if_block1.d()}}}function create_if_block_2(ctx){let loader,current;return loader=new Loader_svelte.a({props:{active:!0,pad:!0}}),{c(){Object(internal.r)(loader.$$.fragment)},m(target,anchor){Object(internal.L)(loader,target,anchor),current=!0},i(local){current||(Object(internal.hb)(loader.$$.fragment,local),current=!0)},o(local){Object(internal.ib)(loader.$$.fragment,local),current=!1},d(detaching){Object(internal.t)(loader,detaching)}}}function create_if_block_1(ctx){let h1,t0,t1,h2,t2,t3,t0_value=ctx[2].document.title+"",t3_value=(ctx[0].showOrg?ctx[2].document.orgString:ctx[2].document.userOrgString)+"";return{c(){h1=Object(internal.w)("h1"),t0=Object(internal.db)(t0_value),t1=Object(internal.ab)(),h2=Object(internal.w)("h2"),t2=Object(internal.db)("Contributed by "),t3=Object(internal.db)(t3_value),Object(internal.i)(h1,"class","svelte-385nw2"),Object(internal.gb)(h1,"padleft",ctx[0].embed),Object(internal.i)(h2,"class","svelte-385nw2")},m(target,anchor){Object(internal.H)(target,h1,anchor),Object(internal.g)(h1,t0),Object(internal.H)(target,t1,anchor),Object(internal.H)(target,h2,anchor),Object(internal.g)(h2,t2),Object(internal.g)(h2,t3)},p(ctx,dirty){4&dirty&&t0_value!==(t0_value=ctx[2].document.title+"")&&Object(internal.W)(t0,t0_value),1&dirty&&Object(internal.gb)(h1,"padleft",ctx[0].embed),5&dirty&&t3_value!==(t3_value=(ctx[0].showOrg?ctx[2].document.orgString:ctx[2].document.userOrgString)+"")&&Object(internal.W)(t3,t3_value)},d(detaching){detaching&&Object(internal.v)(h1),detaching&&Object(internal.v)(t1),detaching&&Object(internal.v)(h2)}}}function TitleHeader_svelte_create_fragment(ctx){let div0,t0,div1,t1,div2,search,t2,div3,hamburger,current,if_block0=!ctx[0].embed&&create_if_block_3(ctx),if_block1=ctx[2].loaded&&create_if_block(ctx);return search=new controls_Search_svelte({}),hamburger=new controls_Hamburger_svelte({}),{c(){div0=Object(internal.w)("div"),if_block0&&if_block0.c(),t0=Object(internal.ab)(),div1=Object(internal.w)("div"),if_block1&&if_block1.c(),t1=Object(internal.ab)(),div2=Object(internal.w)("div"),Object(internal.r)(search.$$.fragment),t2=Object(internal.ab)(),div3=Object(internal.w)("div"),Object(internal.r)(hamburger.$$.fragment),Object(internal.i)(div0,"class","cell svelte-385nw2"),Object(internal.i)(div0,"style",ctx[1]),Object(internal.i)(div1,"class","cell expand svelte-385nw2"),Object(internal.i)(div1,"style",ctx[1]),Object(internal.i)(div2,"class","cell svelte-385nw2"),Object(internal.i)(div2,"style",ctx[1]),Object(internal.i)(div3,"class","cell svelte-385nw2"),Object(internal.i)(div3,"style",ctx[1])},m(target,anchor){Object(internal.H)(target,div0,anchor),if_block0&&if_block0.m(div0,null),Object(internal.H)(target,t0,anchor),Object(internal.H)(target,div1,anchor),if_block1&&if_block1.m(div1,null),Object(internal.H)(target,t1,anchor),Object(internal.H)(target,div2,anchor),Object(internal.L)(search,div2,null),Object(internal.H)(target,t2,anchor),Object(internal.H)(target,div3,anchor),Object(internal.L)(hamburger,div3,null),current=!0},p(ctx,[dirty]){ctx[0].embed?if_block0&&(Object(internal.E)(),Object(internal.ib)(if_block0,1,1,()=>{if_block0=null}),Object(internal.n)()):if_block0?(if_block0.p(ctx,dirty),1&dirty&&Object(internal.hb)(if_block0,1)):(if_block0=create_if_block_3(ctx),if_block0.c(),Object(internal.hb)(if_block0,1),if_block0.m(div0,null)),(!current||2&dirty)&&Object(internal.i)(div0,"style",ctx[1]),ctx[2].loaded?if_block1?(if_block1.p(ctx,dirty),4&dirty&&Object(internal.hb)(if_block1,1)):(if_block1=create_if_block(ctx),if_block1.c(),Object(internal.hb)(if_block1,1),if_block1.m(div1,null)):if_block1&&(Object(internal.E)(),Object(internal.ib)(if_block1,1,1,()=>{if_block1=null}),Object(internal.n)()),(!current||2&dirty)&&Object(internal.i)(div1,"style",ctx[1]),(!current||2&dirty)&&Object(internal.i)(div2,"style",ctx[1]),(!current||2&dirty)&&Object(internal.i)(div3,"style",ctx[1])},i(local){current||(Object(internal.hb)(if_block0),Object(internal.hb)(if_block1),Object(internal.hb)(search.$$.fragment,local),Object(internal.hb)(hamburger.$$.fragment,local),current=!0)},o(local){Object(internal.ib)(if_block0),Object(internal.ib)(if_block1),Object(internal.ib)(search.$$.fragment,local),Object(internal.ib)(hamburger.$$.fragment,local),current=!1},d(detaching){detaching&&Object(internal.v)(div0),if_block0&&if_block0.d(),detaching&&Object(internal.v)(t0),detaching&&Object(internal.v)(div1),if_block1&&if_block1.d(),detaching&&Object(internal.v)(t1),detaching&&Object(internal.v)(div2),Object(internal.t)(search),detaching&&Object(internal.v)(t2),detaching&&Object(internal.v)(div3),Object(internal.t)(hamburger)}}}function TitleHeader_svelte_instance($$self,$$props,$$invalidate){let style,$layout,$viewer;return Object(internal.o)($$self,layout.n,$$value=>$$invalidate(0,$layout=$$value)),Object(internal.o)($$self,viewer.d,$$value=>$$invalidate(2,$viewer=$$value)),$$self.$$.update=()=>{1&$$self.$$.dirty&&$$invalidate(1,style=`height: ${$layout.headerHeight}px; line-height: ${$layout.headerHeight}px`)},[$layout,style,$viewer]}class TitleHeader_svelte_TitleHeader extends internal.b{constructor(options){super(),Object(internal.G)(this,options,TitleHeader_svelte_instance,TitleHeader_svelte_create_fragment,internal.T,{})}}var header_TitleHeader_svelte=TitleHeader_svelte_TitleHeader;__webpack_require__(240);function Header_svelte_create_fragment(ctx){let header,div,titleheader,current;return titleheader=new header_TitleHeader_svelte({}),{c(){header=Object(internal.w)("header"),div=Object(internal.w)("div"),Object(internal.r)(titleheader.$$.fragment),Object(internal.i)(div,"class","vcontent"),Object(internal.i)(header,"class","vheader svelte-1hr4ppw"),Object(internal.Z)(header,"height",ctx[0].headerHeight+"px"),Object(internal.gb)(header,"disabled",ctx[0].disableControls)},m(target,anchor){Object(internal.H)(target,header,anchor),Object(internal.g)(header,div),Object(internal.L)(titleheader,div,null),current=!0},p(ctx,[dirty]){(!current||1&dirty)&&Object(internal.Z)(header,"height",ctx[0].headerHeight+"px"),1&dirty&&Object(internal.gb)(header,"disabled",ctx[0].disableControls)},i(local){current||(Object(internal.hb)(titleheader.$$.fragment,local),current=!0)},o(local){Object(internal.ib)(titleheader.$$.fragment,local),current=!1},d(detaching){detaching&&Object(internal.v)(header),Object(internal.t)(titleheader)}}}function Header_svelte_instance($$self,$$props,$$invalidate){let $layout;return Object(internal.o)($$self,layout.n,$$value=>$$invalidate(0,$layout=$$value)),[$layout]}class Header_svelte_Header extends internal.b{constructor(options){super(),Object(internal.G)(this,options,Header_svelte_instance,Header_svelte_create_fragment,internal.T,{})}}var header_Header_svelte=Header_svelte_Header;__webpack_require__(241);function ExtraPageContent_svelte_create_fragment(ctx){let div,current;const default_slot_template=ctx[7].default,default_slot=Object(internal.s)(default_slot_template,ctx,ctx[6],null);return{c(){div=Object(internal.w)("div"),default_slot&&default_slot.c(),Object(internal.i)(div,"class","extrapagecontent svelte-zxu9tg")},m(target,anchor){Object(internal.H)(target,div,anchor),default_slot&&default_slot.m(div,null),ctx[8](div),current=!0},p(ctx,[dirty]){default_slot&&default_slot.p&&64&dirty&&Object(internal.kb)(default_slot,default_slot_template,ctx,ctx[6],dirty,null,null)},i(local){current||(Object(internal.hb)(default_slot,local),current=!0)},o(local){Object(internal.ib)(default_slot,local),current=!1},d(detaching){detaching&&Object(internal.v)(div),default_slot&&default_slot.d(detaching),ctx[8](null)}}}function ExtraPageContent_svelte_instance($$self,$$props,$$invalidate){let elem,{$$slots:slots={},$$scope:$$scope}=$$props,{page:page}=$$props,{width:width}=$$props,{resizeCallback:resizeCallback}=$$props,{mutators:mutators}=$$props,extraHeight=null;return $$self.$$set=$$props=>{"page"in $$props&&$$invalidate(1,page=$$props.page),"width"in $$props&&$$invalidate(2,width=$$props.width),"resizeCallback"in $$props&&$$invalidate(3,resizeCallback=$$props.resizeCallback),"mutators"in $$props&&$$invalidate(4,mutators=$$props.mutators),"$$scope"in $$props&&$$invalidate(6,$$scope=$$props.$$scope)},$$self.$$.update=()=>{63&$$self.$$.dirty&&(async()=>{null!=elem&&(await Object(svelte.e)(),null!=elem&&($$invalidate(5,extraHeight=elem.offsetHeight),null!=extraHeight&&resizeCallback(extraHeight/width,width)))})()},[elem,page,width,resizeCallback,mutators,extraHeight,$$scope,slots,function($$value){internal.l[$$value?"unshift":"push"](()=>{elem=$$value,$$invalidate(0,elem)})}]}class ExtraPageContent_svelte_ExtraPageContent extends internal.b{constructor(options){super(),Object(internal.G)(this,options,ExtraPageContent_svelte_instance,ExtraPageContent_svelte_create_fragment,internal.T,{page:1,width:2,resizeCallback:3,mutators:4})}}var viewer_ExtraPageContent_svelte=ExtraPageContent_svelte_ExtraPageContent,src_emit=__webpack_require__(106);__webpack_require__(242),__webpack_require__(243);function PageNoteInsert_svelte_create_fragment(ctx){let div4,div3,div2,div1,div0,t0,t1,t2,div2_style_value,div4_style_value,mounted,dispose;return{c(){div4=Object(internal.w)("div"),div3=Object(internal.w)("div"),div2=Object(internal.w)("div"),div1=Object(internal.w)("div"),div0=Object(internal.w)("div"),t0=Object(internal.db)("Add page note (p. "),t1=Object(internal.db)(ctx[2]),t2=Object(internal.db)(")"),Object(internal.i)(div0,"class","svelte-16s7lq0"),Object(internal.i)(div1,"class","plus svelte-16s7lq0"),Object(internal.Z)(div1,"height",PLUS_SIZE*ctx[1]+"px"),Object(internal.Z)(div1,"line-height",PLUS_SIZE*ctx[1]+"px"),Object(internal.Z)(div1,"border-radius",BORDER_SIZE*ctx[1]+"px"),Object(internal.Z)(div1,"margin-top",-PLUS_SIZE*ctx[1]/2+"px"),Object(internal.gb)(div1,"expanded",ctx[0]&&ctx[1]>.65),Object(internal.i)(div2,"class","insert svelte-16s7lq0"),Object(internal.i)(div2,"style",div2_style_value=ctx[0]?`height: ${EXPANDED_MARGIN*ctx[1]}px`:`height: ${RETRACTED_HEIGHT*ctx[1]}px`),Object(internal.gb)(div2,"expanded",ctx[0]),Object(internal.i)(div3,"class","padder svelte-16s7lq0"),Object(internal.Z)(div3,"padding-top",(ctx[0]?-RETRACTED_HEIGHT+EXPANDED_MARGIN:-RETRACTED_HEIGHT+UNEXPANDED_MARGIN)*ctx[1]+"px"),Object(internal.i)(div4,"class","container svelte-16s7lq0"),Object(internal.i)(div4,"style",div4_style_value=ctx[0]?`margin-top: ${-EXPANDED_MARGIN*ctx[1]}px; height: ${EXPANDED_MARGIN*ctx[1]}px`:`margin-top: ${-UNEXPANDED_MARGIN*ctx[1]}px; height: ${(RETRACTED_HEIGHT+UNEXPANDED_MARGIN)*ctx[1]}px`)},m(target,anchor){Object(internal.H)(target,div4,anchor),Object(internal.g)(div4,div3),Object(internal.g)(div3,div2),Object(internal.g)(div2,div1),Object(internal.g)(div1,div0),Object(internal.g)(div0,t0),Object(internal.g)(div0,t1),Object(internal.g)(div0,t2),mounted||(dispose=[Object(internal.J)(div4,"mouseover",ctx[3]),Object(internal.J)(div4,"mouseleave",ctx[4]),Object(internal.J)(div4,"mousedown",ctx[5])],mounted=!0)},p(ctx,[dirty]){4&dirty&&Object(internal.W)(t1,ctx[2]),2&dirty&&Object(internal.Z)(div1,"height",PLUS_SIZE*ctx[1]+"px"),2&dirty&&Object(internal.Z)(div1,"line-height",PLUS_SIZE*ctx[1]+"px"),2&dirty&&Object(internal.Z)(div1,"border-radius",BORDER_SIZE*ctx[1]+"px"),2&dirty&&Object(internal.Z)(div1,"margin-top",-PLUS_SIZE*ctx[1]/2+"px"),3&dirty&&Object(internal.gb)(div1,"expanded",ctx[0]&&ctx[1]>.65),3&dirty&&div2_style_value!==(div2_style_value=ctx[0]?`height: ${EXPANDED_MARGIN*ctx[1]}px`:`height: ${RETRACTED_HEIGHT*ctx[1]}px`)&&Object(internal.i)(div2,"style",div2_style_value),1&dirty&&Object(internal.gb)(div2,"expanded",ctx[0]),3&dirty&&Object(internal.Z)(div3,"padding-top",(ctx[0]?-RETRACTED_HEIGHT+EXPANDED_MARGIN:-RETRACTED_HEIGHT+UNEXPANDED_MARGIN)*ctx[1]+"px"),3&dirty&&div4_style_value!==(div4_style_value=ctx[0]?`margin-top: ${-EXPANDED_MARGIN*ctx[1]}px; height: ${EXPANDED_MARGIN*ctx[1]}px`:`margin-top: ${-UNEXPANDED_MARGIN*ctx[1]}px; height: ${(RETRACTED_HEIGHT+UNEXPANDED_MARGIN)*ctx[1]}px`)&&Object(internal.i)(div4,"style",div4_style_value)},i:internal.M,o:internal.M,d(detaching){detaching&&Object(internal.v)(div4),mounted=!1,Object(internal.S)(dispose)}}}const RETRACTED_HEIGHT=10,EXPANDED_MARGIN=15,UNEXPANDED_MARGIN=10,PLUS_SIZE=18,BORDER_SIZE=3;function PageNoteInsert_svelte_instance($$self,$$props,$$invalidate){const emit=Object(src_emit.a)({expand(){}});let{scale:scale}=$$props,{expanded:expanded=!1}=$$props,{pageNumber:pageNumber}=$$props;function retract(){$$invalidate(0,expanded=!1),triggerUpdate()}function triggerUpdate(){emit.expand(expanded)}Object(svelte.c)(()=>{retract()});return $$self.$$set=$$props=>{"scale"in $$props&&$$invalidate(1,scale=$$props.scale),"expanded"in $$props&&$$invalidate(0,expanded=$$props.expanded),"pageNumber"in $$props&&$$invalidate(2,pageNumber=$$props.pageNumber)},[expanded,scale,pageNumber,function(){$$invalidate(0,expanded=!0),triggerUpdate()},retract,()=>Object(layout.v)(pageNumber-1)]}class PageNoteInsert_svelte_PageNoteInsert extends internal.b{constructor(options){super(),Object(internal.G)(this,options,PageNoteInsert_svelte_instance,PageNoteInsert_svelte_create_fragment,internal.T,{scale:1,expanded:0,pageNumber:2})}}var viewer_PageNoteInsert_svelte=PageNoteInsert_svelte_PageNoteInsert,string=__webpack_require__(12);__webpack_require__(244);function get_each_context(ctx,list,i){const child_ctx=ctx.slice();return child_ctx[3]=list[i],child_ctx}function create_else_block(ctx){let span,t,t_value=ctx[3].text+"";return{c(){span=Object(internal.w)("span"),t=Object(internal.db)(t_value),Object(internal.i)(span,"class","highlight svelte-2rviik")},m(target,anchor){Object(internal.H)(target,span,anchor),Object(internal.g)(span,t)},p(ctx,dirty){1&dirty&&t_value!==(t_value=ctx[3].text+"")&&Object(internal.W)(t,t_value)},d(detaching){detaching&&Object(internal.v)(span)}}}function TextPage_svelte_create_if_block(ctx){let span,t,t_value=ctx[3].text+"";return{c(){span=Object(internal.w)("span"),t=Object(internal.db)(t_value)},m(target,anchor){Object(internal.H)(target,span,anchor),Object(internal.g)(span,t)},p(ctx,dirty){1&dirty&&t_value!==(t_value=ctx[3].text+"")&&Object(internal.W)(t,t_value)},d(detaching){detaching&&Object(internal.v)(span)}}}function create_each_block(ctx){let if_block_anchor;function select_block_type(ctx,dirty){return"normal"==ctx[3].type?TextPage_svelte_create_if_block:create_else_block}let current_block_type=select_block_type(ctx),if_block=current_block_type(ctx);return{c(){if_block.c(),if_block_anchor=Object(internal.x)()},m(target,anchor){if_block.m(target,anchor),Object(internal.H)(target,if_block_anchor,anchor)},p(ctx,dirty){current_block_type===(current_block_type=select_block_type(ctx))&&if_block?if_block.p(ctx,dirty):(if_block.d(1),if_block=current_block_type(ctx),if_block&&(if_block.c(),if_block.m(if_block_anchor.parentNode,if_block_anchor)))},d(detaching){if_block.d(detaching),detaching&&Object(internal.v)(if_block_anchor)}}}function TextPage_svelte_create_fragment(ctx){let div,each_value=ctx[0],each_blocks=[];for(let i=0;i<each_value.length;i+=1)each_blocks[i]=create_each_block(get_each_context(ctx,each_value,i));return{c(){div=Object(internal.w)("div");for(let i=0;i<each_blocks.length;i+=1)each_blocks[i].c();Object(internal.i)(div,"class","text svelte-2rviik")},m(target,anchor){Object(internal.H)(target,div,anchor);for(let i=0;i<each_blocks.length;i+=1)each_blocks[i].m(div,null)},p(ctx,[dirty]){if(1&dirty){let i;for(each_value=ctx[0],i=0;i<each_value.length;i+=1){const child_ctx=get_each_context(ctx,each_value,i);each_blocks[i]?each_blocks[i].p(child_ctx,dirty):(each_blocks[i]=create_each_block(child_ctx),each_blocks[i].c(),each_blocks[i].m(div,null))}for(;i<each_blocks.length;i+=1)each_blocks[i].d(1);each_blocks.length=each_value.length}},i:internal.M,o:internal.M,d(detaching){detaching&&Object(internal.v)(div),Object(internal.u)(each_blocks,detaching)}}}function TextPage_svelte_instance($$self,$$props,$$invalidate){let regions,{text:text=""}=$$props,{highlights:highlights=null}=$$props;return $$self.$$set=$$props=>{"text"in $$props&&$$invalidate(1,text=$$props.text),"highlights"in $$props&&$$invalidate(2,highlights=$$props.highlights)},$$self.$$.update=()=>{6&$$self.$$.dirty&&$$invalidate(0,regions=function(text,highlights){if(null==text&&(text=""),null==highlights)return[{type:"normal",text:text}];const highlightTexts=highlights.map(x=>x.reduce((a,b)=>a+b.text,"")),relativeRanges=highlights.map(passages=>{const ranges=[];let pos=0;for(let i=0;i<passages.length;i++){const passage=passages[i];"highlight"==passage.type&&ranges.push([pos,pos+passage.text.length]),pos+=passage.text.length}return ranges}),indices=highlightTexts.map(query=>Object(string.a)(text,query)),absoluteRanges=[];indices.forEach((subIndices,i)=>subIndices.forEach(idx=>relativeRanges[i].forEach(([start,end])=>absoluteRanges.push([idx+start,idx+end])))),absoluteRanges.sort((a,b)=>a[0]-b[0]);const results=[],push=(start,end,type="normal")=>{if(start==end)return;const contents=text.substring(start,end);let i,merged=contents;for(i=results.length-1;i>=0;i--){const result=results[i];if(result.type==type)merged=result.text+merged;else{if(0!=result.text.trim().length)break;merged=result.text+merged}}i++,i<results.length?(results[i].text=merged,results.length=i+1):results.push({type:type,text:contents})};let pos=0;for(let i=0;i<absoluteRanges.length;i++){const[start,end]=absoluteRanges[i];push(pos,start),push(start,end,"highlight"),pos=end}return push(pos,text.length),results}(text,highlights))},[regions,text,highlights]}class TextPage_svelte_TextPage extends internal.b{constructor(options){super(),Object(internal.G)(this,options,TextPage_svelte_instance,TextPage_svelte_create_fragment,internal.T,{text:1,highlights:2})}}var common_TextPage_svelte=TextPage_svelte_TextPage,ProgressiveImage_svelte=__webpack_require__(118),Button_svelte=__webpack_require__(107),AccessToggle_svelte=__webpack_require__(149),HtmlEditor_svelte=__webpack_require__(124),HtmlField_svelte=__webpack_require__(134),store=__webpack_require__(19),wrapLoad=__webpack_require__(10),simplelink=__webpack_require__(245),simplelink_default=__webpack_require__.n(simplelink),pencil=__webpack_require__(116),pencil_default=__webpack_require__.n(pencil),domPurify=__webpack_require__(122);__webpack_require__(246);function create_if_block_14(ctx){let div,span,mounted,dispose;return{c(){div=Object(internal.w)("div"),span=Object(internal.w)("span"),Object(internal.i)(span,"class","closer svelte-3kv13h"),Object(internal.i)(div,"class","closeflag svelte-3kv13h")},m(target,anchor){Object(internal.H)(target,div,anchor),Object(internal.g)(div,span),span.innerHTML=close_inline_default.a,mounted||(dispose=Object(internal.J)(span,"click",layout.d),mounted=!0)},p:internal.M,d(detaching){detaching&&Object(internal.v)(div),mounted=!1,dispose()}}}function create_else_block_4(ctx){let h1,t0,t1,a,t2,t0_value=ctx[0].title+"",if_block=ctx[2].document.editAccess&&create_if_block_13(ctx);return{c(){h1=Object(internal.w)("h1"),t0=Object(internal.db)(t0_value),t1=Object(internal.ab)(),a=Object(internal.w)("a"),t2=Object(internal.ab)(),if_block&&if_block.c(),Object(internal.i)(a,"class","link svelte-3kv13h"),Object(internal.i)(a,"href",ctx[21]),Object(internal.i)(h1,"class","svelte-3kv13h")},m(target,anchor){Object(internal.H)(target,h1,anchor),Object(internal.g)(h1,t0),Object(internal.g)(h1,t1),Object(internal.g)(h1,a),a.innerHTML=simplelink_default.a,Object(internal.g)(h1,t2),if_block&&if_block.m(h1,null)},p(ctx,dirty){1&dirty[0]&&t0_value!==(t0_value=ctx[0].title+"")&&Object(internal.W)(t0,t0_value),2097152&dirty[0]&&Object(internal.i)(a,"href",ctx[21]),ctx[2].document.editAccess?if_block?if_block.p(ctx,dirty):(if_block=create_if_block_13(ctx),if_block.c(),if_block.m(h1,null)):if_block&&(if_block.d(1),if_block=null)},d(detaching){detaching&&Object(internal.v)(h1),if_block&&if_block.d()}}}function create_if_block_12(ctx){let input,mounted,dispose;return{c(){input=Object(internal.w)("input"),Object(internal.i)(input,"maxlength",ctx[23]),Object(internal.i)(input,"placeholder","Annotation Title"),Object(internal.i)(input,"class","svelte-3kv13h")},m(target,anchor){Object(internal.H)(target,input,anchor),ctx[39](input),Object(internal.X)(input,ctx[10]),mounted||(dispose=Object(internal.J)(input,"input",ctx[40]),mounted=!0)},p(ctx,dirty){1024&dirty[0]&&input.value!==ctx[10]&&Object(internal.X)(input,ctx[10])},d(detaching){detaching&&Object(internal.v)(input),ctx[39](null),mounted=!1,dispose()}}}function create_if_block_13(ctx){let span,mounted,dispose;return{c(){span=Object(internal.w)("span"),Object(internal.i)(span,"class","pencil svelte-3kv13h")},m(target,anchor){Object(internal.H)(target,span,anchor),span.innerHTML=pencil_default.a,mounted||(dispose=Object(internal.J)(span,"click",ctx[41]),mounted=!0)},p:internal.M,d(detaching){detaching&&Object(internal.v)(span),mounted=!1,dispose()}}}function create_default_slot_4(ctx){let if_block_anchor;function select_block_type(ctx,dirty){return ctx[14]?create_if_block_12:create_else_block_4}let current_block_type=select_block_type(ctx),if_block=current_block_type(ctx);return{c(){if_block.c(),if_block_anchor=Object(internal.x)()},m(target,anchor){if_block.m(target,anchor),Object(internal.H)(target,if_block_anchor,anchor)},p(ctx,dirty){current_block_type===(current_block_type=select_block_type(ctx))&&if_block?if_block.p(ctx,dirty):(if_block.d(1),if_block=current_block_type(ctx),if_block&&(if_block.c(),if_block.m(if_block_anchor.parentNode,if_block_anchor)))},d(detaching){if_block.d(detaching),detaching&&Object(internal.v)(if_block_anchor)}}}function create_if_block_11(ctx){let header;return{c(){header=Object(internal.w)("header"),Object(internal.i)(header,"class","svelte-3kv13h")},m(target,anchor){Object(internal.H)(target,header,anchor)},d(detaching){detaching&&Object(internal.v)(header)}}}function create_if_block_10(ctx){let div4,div3,div2,progressiveimage,t0,div0,t1,div1,div3_style_value,current;return progressiveimage=new ProgressiveImage_svelte.a({props:{alt:"Page "+(ctx[2].pageNumber+1)+" of "+ctx[2].document.title,width:ctx[5],aspect:ctx[2].aspect,page:ctx[2]}}),{c(){div4=Object(internal.w)("div"),div3=Object(internal.w)("div"),div2=Object(internal.w)("div"),Object(internal.r)(progressiveimage.$$.fragment),t0=Object(internal.ab)(),div0=Object(internal.w)("div"),t1=Object(internal.ab)(),div1=Object(internal.w)("div"),Object(internal.i)(div0,"class","faded left svelte-3kv13h"),Object(internal.Z)(div0,"left","0"),Object(internal.Z)(div0,"width",100*ctx[0].x1+"%"),Object(internal.gb)(div0,"nobottom",ctx[4]),Object(internal.i)(div1,"class","faded right svelte-3kv13h"),Object(internal.Z)(div1,"left",100*ctx[0].x2+"%"),Object(internal.Z)(div1,"right","0"),Object(internal.gb)(div1,"nobottom",ctx[4]),Object(internal.Z)(div2,"margin-top",-ctx[0].y1*ctx[6]*100-(ctx[4]?ctx[0].height*ctx[6]*100:0)+"%"),Object(internal.i)(div2,"class","svelte-3kv13h"),Object(internal.i)(div3,"class","body svelte-3kv13h"),Object(internal.i)(div3,"style",div3_style_value=ctx[4]?`height: 0; padding-top: ${ctx[0].height*ctx[6]*100}%`:""),Object(internal.i)(div4,"class","excerpt svelte-3kv13h")},m(target,anchor){Object(internal.H)(target,div4,anchor),Object(internal.g)(div4,div3),Object(internal.g)(div3,div2),Object(internal.L)(progressiveimage,div2,null),Object(internal.g)(div2,t0),Object(internal.g)(div2,div0),Object(internal.g)(div2,t1),Object(internal.g)(div2,div1),current=!0},p(ctx,dirty){const progressiveimage_changes={};4&dirty[0]&&(progressiveimage_changes.alt="Page "+(ctx[2].pageNumber+1)+" of "+ctx[2].document.title),32&dirty[0]&&(progressiveimage_changes.width=ctx[5]),4&dirty[0]&&(progressiveimage_changes.aspect=ctx[2].aspect),4&dirty[0]&&(progressiveimage_changes.page=ctx[2]),progressiveimage.$set(progressiveimage_changes),(!current||1&dirty[0])&&Object(internal.Z)(div0,"width",100*ctx[0].x1+"%"),16&dirty[0]&&Object(internal.gb)(div0,"nobottom",ctx[4]),(!current||1&dirty[0])&&Object(internal.Z)(div1,"left",100*ctx[0].x2+"%"),16&dirty[0]&&Object(internal.gb)(div1,"nobottom",ctx[4]),(!current||81&dirty[0])&&Object(internal.Z)(div2,"margin-top",-ctx[0].y1*ctx[6]*100-(ctx[4]?ctx[0].height*ctx[6]*100:0)+"%"),(!current||81&dirty[0]&&div3_style_value!==(div3_style_value=ctx[4]?`height: 0; padding-top: ${ctx[0].height*ctx[6]*100}%`:""))&&Object(internal.i)(div3,"style",div3_style_value)},i(local){current||(Object(internal.hb)(progressiveimage.$$.fragment,local),current=!0)},o(local){Object(internal.ib)(progressiveimage.$$.fragment,local),current=!1},d(detaching){detaching&&Object(internal.v)(div4),Object(internal.t)(progressiveimage)}}}function create_if_block_7(ctx){let div,span,t,loader,current,mounted,dispose;return loader=new Loader_svelte.a({props:{active:ctx[22],transparent:!0,$$slots:{default:[create_default_slot_3]},$$scope:{ctx:ctx}}}),{c(){div=Object(internal.w)("div"),span=Object(internal.w)("span"),t=Object(internal.ab)(),Object(internal.r)(loader.$$.fragment),Object(internal.i)(span,"class","closer svelte-3kv13h"),Object(internal.i)(div,"class","closeflag svelte-3kv13h")},m(target,anchor){Object(internal.H)(target,div,anchor),Object(internal.g)(div,span),span.innerHTML=close_inline_default.a,Object(internal.H)(target,t,anchor),Object(internal.L)(loader,target,anchor),current=!0,mounted||(dispose=Object(internal.J)(span,"click",layout.d),mounted=!0)},p(ctx,dirty){const loader_changes={};4194304&dirty[0]&&(loader_changes.active=ctx[22]),2377221&dirty[0]|4194304&dirty[1]&&(loader_changes.$$scope={dirty:dirty,ctx:ctx}),loader.$set(loader_changes)},i(local){current||(Object(internal.hb)(loader.$$.fragment,local),current=!0)},o(local){Object(internal.ib)(loader.$$.fragment,local),current=!1},d(detaching){detaching&&Object(internal.v)(div),detaching&&Object(internal.v)(t),Object(internal.t)(loader,detaching),mounted=!1,dispose()}}}function create_else_block_3(ctx){let h1,t0,t1,a,t2,t0_value=ctx[0].title+"",if_block=ctx[2].document.editAccess&&create_if_block_9(ctx);return{c(){h1=Object(internal.w)("h1"),t0=Object(internal.db)(t0_value),t1=Object(internal.ab)(),a=Object(internal.w)("a"),t2=Object(internal.ab)(),if_block&&if_block.c(),Object(internal.i)(a,"class","link svelte-3kv13h"),Object(internal.i)(a,"href",ctx[21]),Object(internal.i)(h1,"class","svelte-3kv13h")},m(target,anchor){Object(internal.H)(target,h1,anchor),Object(internal.g)(h1,t0),Object(internal.g)(h1,t1),Object(internal.g)(h1,a),a.innerHTML=simplelink_default.a,Object(internal.g)(h1,t2),if_block&&if_block.m(h1,null)},p(ctx,dirty){1&dirty[0]&&t0_value!==(t0_value=ctx[0].title+"")&&Object(internal.W)(t0,t0_value),2097152&dirty[0]&&Object(internal.i)(a,"href",ctx[21]),ctx[2].document.editAccess?if_block?if_block.p(ctx,dirty):(if_block=create_if_block_9(ctx),if_block.c(),if_block.m(h1,null)):if_block&&(if_block.d(1),if_block=null)},d(detaching){detaching&&Object(internal.v)(h1),if_block&&if_block.d()}}}function create_if_block_8(ctx){let input,mounted,dispose;return{c(){input=Object(internal.w)("input"),Object(internal.i)(input,"maxlength",ctx[23]),Object(internal.i)(input,"placeholder","Annotation Title"),Object(internal.i)(input,"class","padded svelte-3kv13h")},m(target,anchor){Object(internal.H)(target,input,anchor),ctx[44](input),Object(internal.X)(input,ctx[10]),mounted||(dispose=Object(internal.J)(input,"input",ctx[45]),mounted=!0)},p(ctx,dirty){1024&dirty[0]&&input.value!==ctx[10]&&Object(internal.X)(input,ctx[10])},d(detaching){detaching&&Object(internal.v)(input),ctx[44](null),mounted=!1,dispose()}}}function create_if_block_9(ctx){let span,mounted,dispose;return{c(){span=Object(internal.w)("span"),Object(internal.i)(span,"class","pencil svelte-3kv13h")},m(target,anchor){Object(internal.H)(target,span,anchor),span.innerHTML=pencil_default.a,mounted||(dispose=Object(internal.J)(span,"click",ctx[46]),mounted=!0)},p:internal.M,d(detaching){detaching&&Object(internal.v)(span),mounted=!1,dispose()}}}function create_default_slot_3(ctx){let if_block_anchor;function select_block_type_1(ctx,dirty){return ctx[14]?create_if_block_8:create_else_block_3}let current_block_type=select_block_type_1(ctx),if_block=current_block_type(ctx);return{c(){if_block.c(),if_block_anchor=Object(internal.x)()},m(target,anchor){if_block.m(target,anchor),Object(internal.H)(target,if_block_anchor,anchor)},p(ctx,dirty){current_block_type===(current_block_type=select_block_type_1(ctx))&&if_block?if_block.p(ctx,dirty):(if_block.d(1),if_block=current_block_type(ctx),if_block&&(if_block.c(),if_block.m(if_block_anchor.parentNode,if_block_anchor)))},d(detaching){if_block.d(detaching),detaching&&Object(internal.v)(if_block_anchor)}}}function create_else_block_2(ctx){let htmlfield,current;return htmlfield=new HtmlField_svelte.a({props:{content:ctx[0].content}}),{c(){Object(internal.r)(htmlfield.$$.fragment)},m(target,anchor){Object(internal.L)(htmlfield,target,anchor),current=!0},p(ctx,dirty){const htmlfield_changes={};1&dirty[0]&&(htmlfield_changes.content=ctx[0].content),htmlfield.$set(htmlfield_changes)},i(local){current||(Object(internal.hb)(htmlfield.$$.fragment,local),current=!0)},o(local){Object(internal.ib)(htmlfield.$$.fragment,local),current=!1},d(detaching){Object(internal.t)(htmlfield,detaching)}}}function create_if_block_6(ctx){let htmleditor,updating_value,current;function htmleditor_value_binding(value){ctx[47].call(null,value)}let htmleditor_props={maxlength:ctx[24],placeholder:"Annotation Description (optional)"};return void 0!==ctx[11]&&(htmleditor_props.value=ctx[11]),htmleditor=new HtmlEditor_svelte.a({props:htmleditor_props}),internal.l.push(()=>Object(internal.k)(htmleditor,"value",htmleditor_value_binding)),{c(){Object(internal.r)(htmleditor.$$.fragment)},m(target,anchor){Object(internal.L)(htmleditor,target,anchor),current=!0},p(ctx,dirty){const htmleditor_changes={};!updating_value&&2048&dirty[0]&&(updating_value=!0,htmleditor_changes.value=ctx[11],Object(internal.d)(()=>updating_value=!1)),htmleditor.$set(htmleditor_changes)},i(local){current||(Object(internal.hb)(htmleditor.$$.fragment,local),current=!0)},o(local){Object(internal.ib)(htmleditor.$$.fragment,local),current=!1},d(detaching){Object(internal.t)(htmleditor,detaching)}}}function create_else_block_1(ctx){let div2,div0,t0,div1,t1,t2,t3,t2_value=ctx[0].username+"";function select_block_type_5(ctx,dirty){return"organization"==ctx[1]?create_if_block_4:"private"==ctx[1]?create_if_block_5:void 0}let current_block_type=select_block_type_5(ctx),if_block0=current_block_type&&current_block_type(ctx),if_block1=null!=ctx[0].organization&&Annotation_svelte_create_if_block_3(ctx);return{c(){div2=Object(internal.w)("div"),div0=Object(internal.w)("div"),if_block0&&if_block0.c(),t0=Object(internal.ab)(),div1=Object(internal.w)("div"),t1=Object(internal.db)("Annotated by\n          "),t2=Object(internal.db)(t2_value),t3=Object(internal.ab)(),if_block1&&if_block1.c(),Object(internal.i)(div0,"class","cell leftalign svelte-3kv13h"),Object(internal.i)(div1,"class","cell rightalign svelte-3kv13h"),Object(internal.i)(div2,"class","twopanel svelte-3kv13h")},m(target,anchor){Object(internal.H)(target,div2,anchor),Object(internal.g)(div2,div0),if_block0&&if_block0.m(div0,null),Object(internal.g)(div2,t0),Object(internal.g)(div2,div1),Object(internal.g)(div1,t1),Object(internal.g)(div1,t2),Object(internal.g)(div1,t3),if_block1&&if_block1.m(div1,null)},p(ctx,dirty){current_block_type!==(current_block_type=select_block_type_5(ctx))&&(if_block0&&if_block0.d(1),if_block0=current_block_type&&current_block_type(ctx),if_block0&&(if_block0.c(),if_block0.m(div0,null))),1&dirty[0]&&t2_value!==(t2_value=ctx[0].username+"")&&Object(internal.W)(t2,t2_value),null!=ctx[0].organization?if_block1?if_block1.p(ctx,dirty):(if_block1=Annotation_svelte_create_if_block_3(ctx),if_block1.c(),if_block1.m(div1,null)):if_block1&&(if_block1.d(1),if_block1=null)},i:internal.M,o:internal.M,d(detaching){detaching&&Object(internal.v)(div2),if_block0&&if_block0.d(),if_block1&&if_block1.d()}}}function Annotation_svelte_create_if_block(ctx){let accesstoggle,updating_access,t0,div,button0,t1,t2,button1,current;function accesstoggle_access_binding(value){ctx[48].call(null,value)}let accesstoggle_props={stacked:ctx[17]<350,editAccess:ctx[2].document.editAccess};void 0!==ctx[1]&&(accesstoggle_props.access=ctx[1]),accesstoggle=new AccessToggle_svelte.a({props:accesstoggle_props}),internal.l.push(()=>Object(internal.k)(accesstoggle,"access",accesstoggle_access_binding)),button0=new Button_svelte.a({props:{disabledReason:ctx[15]?ctx[16]?null:"Note remains unchanged":"Enter a title for the annotation",$$slots:{default:[create_default_slot_2]},$$scope:{ctx:ctx}}}),button0.$on("click",ctx[26]);let if_block=ctx[9]&&Annotation_svelte_create_if_block_1(ctx);return button1=new Button_svelte.a({props:{secondary:!0,$$slots:{default:[Annotation_svelte_create_default_slot]},$$scope:{ctx:ctx}}}),button1.$on("click",ctx[27]),{c(){Object(internal.r)(accesstoggle.$$.fragment),t0=Object(internal.ab)(),div=Object(internal.w)("div"),Object(internal.r)(button0.$$.fragment),t1=Object(internal.ab)(),if_block&&if_block.c(),t2=Object(internal.ab)(),Object(internal.r)(button1.$$.fragment),Object(internal.i)(div,"class","buttonpadded svelte-3kv13h")},m(target,anchor){Object(internal.L)(accesstoggle,target,anchor),Object(internal.H)(target,t0,anchor),Object(internal.H)(target,div,anchor),Object(internal.L)(button0,div,null),Object(internal.g)(div,t1),if_block&&if_block.m(div,null),Object(internal.g)(div,t2),Object(internal.L)(button1,div,null),current=!0},p(ctx,dirty){const accesstoggle_changes={};131072&dirty[0]&&(accesstoggle_changes.stacked=ctx[17]<350),4&dirty[0]&&(accesstoggle_changes.editAccess=ctx[2].document.editAccess),!updating_access&&2&dirty[0]&&(updating_access=!0,accesstoggle_changes.access=ctx[1],Object(internal.d)(()=>updating_access=!1)),accesstoggle.$set(accesstoggle_changes);const button0_changes={};98304&dirty[0]&&(button0_changes.disabledReason=ctx[15]?ctx[16]?null:"Note remains unchanged":"Enter a title for the annotation"),512&dirty[0]|4194304&dirty[1]&&(button0_changes.$$scope={dirty:dirty,ctx:ctx}),button0.$set(button0_changes),ctx[9]?if_block?(if_block.p(ctx,dirty),512&dirty[0]&&Object(internal.hb)(if_block,1)):(if_block=Annotation_svelte_create_if_block_1(ctx),if_block.c(),Object(internal.hb)(if_block,1),if_block.m(div,t2)):if_block&&(Object(internal.E)(),Object(internal.ib)(if_block,1,1,()=>{if_block=null}),Object(internal.n)());const button1_changes={};4194304&dirty[1]&&(button1_changes.$$scope={dirty:dirty,ctx:ctx}),button1.$set(button1_changes)},i(local){current||(Object(internal.hb)(accesstoggle.$$.fragment,local),Object(internal.hb)(button0.$$.fragment,local),Object(internal.hb)(if_block),Object(internal.hb)(button1.$$.fragment,local),current=!0)},o(local){Object(internal.ib)(accesstoggle.$$.fragment,local),Object(internal.ib)(button0.$$.fragment,local),Object(internal.ib)(if_block),Object(internal.ib)(button1.$$.fragment,local),current=!1},d(detaching){Object(internal.t)(accesstoggle,detaching),detaching&&Object(internal.v)(t0),detaching&&Object(internal.v)(div),Object(internal.t)(button0),if_block&&if_block.d(),Object(internal.t)(button1)}}}function create_if_block_5(ctx){let t;return{c(){t=Object(internal.db)("This private note is only visible to you")},m(target,anchor){Object(internal.H)(target,t,anchor)},d(detaching){detaching&&Object(internal.v)(t)}}}function create_if_block_4(ctx){let t;return{c(){t=Object(internal.db)("This note is only visible to you and your organization")},m(target,anchor){Object(internal.H)(target,t,anchor)},d(detaching){detaching&&Object(internal.v)(t)}}}function Annotation_svelte_create_if_block_3(ctx){let t0,t1,t1_value=ctx[0].organization+"";return{c(){t0=Object(internal.db)(", "),t1=Object(internal.db)(t1_value)},m(target,anchor){Object(internal.H)(target,t0,anchor),Object(internal.H)(target,t1,anchor)},p(ctx,dirty){1&dirty[0]&&t1_value!==(t1_value=ctx[0].organization+"")&&Object(internal.W)(t1,t1_value)},d(detaching){detaching&&Object(internal.v)(t0),detaching&&Object(internal.v)(t1)}}}function Annotation_svelte_create_else_block(ctx){let t;return{c(){t=Object(internal.db)("Save")},m(target,anchor){Object(internal.H)(target,t,anchor)},d(detaching){detaching&&Object(internal.v)(t)}}}function Annotation_svelte_create_if_block_2(ctx){let t;return{c(){t=Object(internal.db)("Update")},m(target,anchor){Object(internal.H)(target,t,anchor)},d(detaching){detaching&&Object(internal.v)(t)}}}function create_default_slot_2(ctx){let if_block_anchor;function select_block_type_4(ctx,dirty){return ctx[9]?Annotation_svelte_create_if_block_2:Annotation_svelte_create_else_block}let current_block_type=select_block_type_4(ctx),if_block=current_block_type(ctx);return{c(){if_block.c(),if_block_anchor=Object(internal.x)()},m(target,anchor){if_block.m(target,anchor),Object(internal.H)(target,if_block_anchor,anchor)},p(ctx,dirty){current_block_type!==(current_block_type=select_block_type_4(ctx))&&(if_block.d(1),if_block=current_block_type(ctx),if_block&&(if_block.c(),if_block.m(if_block_anchor.parentNode,if_block_anchor)))},d(detaching){if_block.d(detaching),detaching&&Object(internal.v)(if_block_anchor)}}}function Annotation_svelte_create_if_block_1(ctx){let button,current;return button=new Button_svelte.a({props:{danger:!0,$$slots:{default:[create_default_slot_1]},$$scope:{ctx:ctx}}}),button.$on("click",ctx[28]),{c(){Object(internal.r)(button.$$.fragment)},m(target,anchor){Object(internal.L)(button,target,anchor),current=!0},p(ctx,dirty){const button_changes={};4194304&dirty[1]&&(button_changes.$$scope={dirty:dirty,ctx:ctx}),button.$set(button_changes)},i(local){current||(Object(internal.hb)(button.$$.fragment,local),current=!0)},o(local){Object(internal.ib)(button.$$.fragment,local),current=!1},d(detaching){Object(internal.t)(button,detaching)}}}function create_default_slot_1(ctx){let t;return{c(){t=Object(internal.db)("Delete")},m(target,anchor){Object(internal.H)(target,t,anchor)},d(detaching){detaching&&Object(internal.v)(t)}}}function Annotation_svelte_create_default_slot(ctx){let t;return{c(){t=Object(internal.db)("Cancel")},m(target,anchor){Object(internal.H)(target,t,anchor)},d(detaching){detaching&&Object(internal.v)(t)}}}function Annotation_svelte_create_fragment(ctx){let div,header,t0,loader,header_resize_listener,t1,t2,t3,footer,t4,current_block_type_index,if_block4,t5,current_block_type_index_1,if_block5,footer_resize_listener,div_style_value,current,mounted,dispose,if_block0=!ctx[3]&&create_if_block_14();loader=new Loader_svelte.a({props:{active:ctx[22],transparent:!0,$$slots:{default:[create_default_slot_4]},$$scope:{ctx:ctx}}});let if_block1="down"==ctx[20]&&create_if_block_11(),if_block2=(!ctx[3]||ctx[4])&&create_if_block_10(ctx),if_block3="down"==ctx[20]&&create_if_block_7(ctx);const if_block_creators=[create_if_block_6,create_else_block_2],if_blocks=[];function select_block_type_2(ctx,dirty){return ctx[14]?0:1}current_block_type_index=select_block_type_2(ctx),if_block4=if_blocks[current_block_type_index]=if_block_creators[current_block_type_index](ctx);const if_block_creators_1=[Annotation_svelte_create_if_block,create_else_block_1],if_blocks_1=[];function select_block_type_3(ctx,dirty){return ctx[14]?0:1}return current_block_type_index_1=select_block_type_3(ctx),if_block5=if_blocks_1[current_block_type_index_1]=if_block_creators_1[current_block_type_index_1](ctx),{c(){div=Object(internal.w)("div"),header=Object(internal.w)("header"),if_block0&&if_block0.c(),t0=Object(internal.ab)(),Object(internal.r)(loader.$$.fragment),t1=Object(internal.ab)(),if_block1&&if_block1.c(),t2=Object(internal.ab)(),if_block2&&if_block2.c(),t3=Object(internal.ab)(),footer=Object(internal.w)("footer"),if_block3&&if_block3.c(),t4=Object(internal.ab)(),if_block4.c(),t5=Object(internal.ab)(),if_block5.c(),Object(internal.i)(header,"class","svelte-3kv13h"),Object(internal.e)(()=>ctx[43].call(header)),Object(internal.gb)(header,"showimage",ctx[4]),Object(internal.gb)(header,"hidden","down"==ctx[20]),Object(internal.i)(footer,"class","svelte-3kv13h"),Object(internal.e)(()=>ctx[49].call(footer)),Object(internal.gb)(footer,"showimage",ctx[4]),Object(internal.gb)(footer,"capsize",ctx[3]&&!ctx[14]),Object(internal.i)(div,"class","annotation svelte-3kv13h"),Object(internal.i)(div,"style",div_style_value="up"==ctx[20]||ctx[3]?"":`top: ${100*ctx[0].y1}%; height: ${100*ctx[0].height}%`),Object(internal.gb)(div,"public","public"==ctx[1]),Object(internal.gb)(div,"behind",ctx[8]),Object(internal.gb)(div,"pagenote",ctx[3]),Object(internal.gb)(div,"up","up"==ctx[20]),Object(internal.gb)(div,"grayed",ctx[7]),Object(internal.gb)(div,"organization","organization"==ctx[1]),Object(internal.gb)(div,"private","private"==ctx[1]),Object(internal.gb)(div,"disabled",ctx[22])},m(target,anchor){Object(internal.H)(target,div,anchor),Object(internal.g)(div,header),if_block0&&if_block0.m(header,null),Object(internal.g)(header,t0),Object(internal.L)(loader,header,null),ctx[42](header),header_resize_listener=Object(internal.f)(header,ctx[43].bind(header)),Object(internal.g)(div,t1),if_block1&&if_block1.m(div,null),Object(internal.g)(div,t2),if_block2&&if_block2.m(div,null),Object(internal.g)(div,t3),Object(internal.g)(div,footer),if_block3&&if_block3.m(footer,null),Object(internal.g)(footer,t4),if_blocks[current_block_type_index].m(footer,null),Object(internal.g)(footer,t5),if_blocks_1[current_block_type_index_1].m(footer,null),footer_resize_listener=Object(internal.f)(footer,ctx[49].bind(footer)),current=!0,mounted||(dispose=[Object(internal.J)(window,"keydown",ctx[29]),Object(internal.J)(div,"mousedown",Object(internal.bb)(ctx[38]))],mounted=!0)},p(ctx,dirty){ctx[3]?if_block0&&(if_block0.d(1),if_block0=null):if_block0?if_block0.p(ctx,dirty):(if_block0=create_if_block_14(),if_block0.c(),if_block0.m(header,t0));const loader_changes={};4194304&dirty[0]&&(loader_changes.active=ctx[22]),2377221&dirty[0]|4194304&dirty[1]&&(loader_changes.$$scope={dirty:dirty,ctx:ctx}),loader.$set(loader_changes),16&dirty[0]&&Object(internal.gb)(header,"showimage",ctx[4]),1048576&dirty[0]&&Object(internal.gb)(header,"hidden","down"==ctx[20]),"down"==ctx[20]?if_block1||(if_block1=create_if_block_11(),if_block1.c(),if_block1.m(div,t2)):if_block1&&(if_block1.d(1),if_block1=null),!ctx[3]||ctx[4]?if_block2?(if_block2.p(ctx,dirty),24&dirty[0]&&Object(internal.hb)(if_block2,1)):(if_block2=create_if_block_10(ctx),if_block2.c(),Object(internal.hb)(if_block2,1),if_block2.m(div,t3)):if_block2&&(Object(internal.E)(),Object(internal.ib)(if_block2,1,1,()=>{if_block2=null}),Object(internal.n)()),"down"==ctx[20]?if_block3?(if_block3.p(ctx,dirty),1048576&dirty[0]&&Object(internal.hb)(if_block3,1)):(if_block3=create_if_block_7(ctx),if_block3.c(),Object(internal.hb)(if_block3,1),if_block3.m(footer,t4)):if_block3&&(Object(internal.E)(),Object(internal.ib)(if_block3,1,1,()=>{if_block3=null}),Object(internal.n)());let previous_block_index=current_block_type_index;current_block_type_index=select_block_type_2(ctx),current_block_type_index===previous_block_index?if_blocks[current_block_type_index].p(ctx,dirty):(Object(internal.E)(),Object(internal.ib)(if_blocks[previous_block_index],1,1,()=>{if_blocks[previous_block_index]=null}),Object(internal.n)(),if_block4=if_blocks[current_block_type_index],if_block4?if_block4.p(ctx,dirty):(if_block4=if_blocks[current_block_type_index]=if_block_creators[current_block_type_index](ctx),if_block4.c()),Object(internal.hb)(if_block4,1),if_block4.m(footer,t5));let previous_block_index_1=current_block_type_index_1;current_block_type_index_1=select_block_type_3(ctx),current_block_type_index_1===previous_block_index_1?if_blocks_1[current_block_type_index_1].p(ctx,dirty):(Object(internal.E)(),Object(internal.ib)(if_blocks_1[previous_block_index_1],1,1,()=>{if_blocks_1[previous_block_index_1]=null}),Object(internal.n)(),if_block5=if_blocks_1[current_block_type_index_1],if_block5?if_block5.p(ctx,dirty):(if_block5=if_blocks_1[current_block_type_index_1]=if_block_creators_1[current_block_type_index_1](ctx),if_block5.c()),Object(internal.hb)(if_block5,1),if_block5.m(footer,null)),16&dirty[0]&&Object(internal.gb)(footer,"showimage",ctx[4]),16392&dirty[0]&&Object(internal.gb)(footer,"capsize",ctx[3]&&!ctx[14]),(!current||1048585&dirty[0]&&div_style_value!==(div_style_value="up"==ctx[20]||ctx[3]?"":`top: ${100*ctx[0].y1}%; height: ${100*ctx[0].height}%`))&&Object(internal.i)(div,"style",div_style_value),2&dirty[0]&&Object(internal.gb)(div,"public","public"==ctx[1]),256&dirty[0]&&Object(internal.gb)(div,"behind",ctx[8]),8&dirty[0]&&Object(internal.gb)(div,"pagenote",ctx[3]),1048576&dirty[0]&&Object(internal.gb)(div,"up","up"==ctx[20]),128&dirty[0]&&Object(internal.gb)(div,"grayed",ctx[7]),2&dirty[0]&&Object(internal.gb)(div,"organization","organization"==ctx[1]),2&dirty[0]&&Object(internal.gb)(div,"private","private"==ctx[1]),4194304&dirty[0]&&Object(internal.gb)(div,"disabled",ctx[22])},i(local){current||(Object(internal.hb)(loader.$$.fragment,local),Object(internal.hb)(if_block2),Object(internal.hb)(if_block3),Object(internal.hb)(if_block4),Object(internal.hb)(if_block5),current=!0)},o(local){Object(internal.ib)(loader.$$.fragment,local),Object(internal.ib)(if_block2),Object(internal.ib)(if_block3),Object(internal.ib)(if_block4),Object(internal.ib)(if_block5),current=!1},d(detaching){detaching&&Object(internal.v)(div),if_block0&&if_block0.d(),Object(internal.t)(loader),ctx[42](null),header_resize_listener(),if_block1&&if_block1.d(),if_block2&&if_block2.d(),if_block3&&if_block3.d(),if_blocks[current_block_type_index].d(),if_blocks_1[current_block_type_index_1].d(),footer_resize_listener(),mounted=!1,Object(internal.S)(dispose)}}}function Annotation_svelte_instance($$self,$$props,$$invalidate){let editMode,titleValid,accessValid,changed,changeValid,valid,y1,y2,shift,noteUrl,$doc,$loading;Object(internal.o)($$self,viewer_document.b,$$value=>$$invalidate(37,$doc=$$value)),Object(domPurify.b)();const emit=Object(src_emit.a)({stateChange(){}});let{page:page}=$$props,{pageNote:pageNote=!1}=$$props,{showImageOnPageNote:showImageOnPageNote=!1}=$$props,{width:width}=$$props,{annotation:annotation}=$$props,{aspect:aspect}=$$props,{mode:mode}=$$props,{y:y}=$$props,{height:height}=$$props,{grayed:grayed=!1}=$$props,{behind:behind=!1}=$$props,editOverride=!1,loading=Object(store.c)(!1);Object(internal.o)($$self,loading,value=>$$invalidate(22,$loading=value));let headerHeight,footerHeight,footerWidth,titleInput,annotationElem,title=annotation.title,description=annotation.content,{access:access=annotation.access}=$$props;async function createOrUpdateAnnotation(){valid&&(await Object(wrapLoad.d)(loading,layout.n,async()=>{editOverride?$$invalidate(0,annotation=await Object(layout.y)(annotation.id,page.document.id,title,description,access,annotation)):(await Object(layout.f)(page.document.id,title,description,access,annotation),layout.n.defaultAnnotationAccess=access)}),handleCancel())}function handleCancel(){editOverride?($$invalidate(10,title=annotation.title),$$invalidate(11,description=annotation.content),$$invalidate(1,access=annotation.access),$$invalidate(9,editOverride=!1)):Object(layout.d)()}Object(svelte.d)(async()=>{null!=titleInput&&titleInput.focus(),layout.n.displayedAnnotationElemRaw=annotationElem});return $$self.$$set=$$props=>{"page"in $$props&&$$invalidate(2,page=$$props.page),"pageNote"in $$props&&$$invalidate(3,pageNote=$$props.pageNote),"showImageOnPageNote"in $$props&&$$invalidate(4,showImageOnPageNote=$$props.showImageOnPageNote),"width"in $$props&&$$invalidate(5,width=$$props.width),"annotation"in $$props&&$$invalidate(0,annotation=$$props.annotation),"aspect"in $$props&&$$invalidate(6,aspect=$$props.aspect),"mode"in $$props&&$$invalidate(30,mode=$$props.mode),"y"in $$props&&$$invalidate(31,y=$$props.y),"height"in $$props&&$$invalidate(32,height=$$props.height),"grayed"in $$props&&$$invalidate(7,grayed=$$props.grayed),"behind"in $$props&&$$invalidate(8,behind=$$props.behind),"access"in $$props&&$$invalidate(1,access=$$props.access)},$$self.$$.update=()=>{1073742336&$$self.$$.dirty[0]&&$$invalidate(14,editMode="edit"==mode||editOverride),18432&$$self.$$.dirty[0]&&emit.stateChange(),1024&$$self.$$.dirty[0]&&$$invalidate(15,titleValid=title.trim().length>0),6&$$self.$$.dirty[0]&&$$invalidate(33,accessValid=page.document.editAccess&&"public"==access||"organization"==access||"private"==access||"private"==access),3075&$$self.$$.dirty[0]&&$$invalidate(34,changed=title!=annotation.title||description!=annotation.content||access!=annotation.access),1073741824&$$self.$$.dirty[0]|8&$$self.$$.dirty[1]&&$$invalidate(16,changeValid="view"==mode&&changed||"edit"==mode),98304&$$self.$$.dirty[0]|4&$$self.$$.dirty[1]&&(valid=titleValid&&accessValid&&changeValid),4097&$$self.$$.dirty[0]|3&$$self.$$.dirty[1]&&$$invalidate(35,y1=null==headerHeight?null:y+annotation.y1*height-headerHeight),8193&$$self.$$.dirty[0]|3&$$self.$$.dirty[1]&&$$invalidate(36,y2=null==footerHeight?null:y+annotation.y2*height+footerHeight),112&$$self.$$.dirty[1]&&$$invalidate(20,shift=null==y1||null==y2?"none":y1<20?"down":y2>$doc.docHeight-20?"up":"none"),5&$$self.$$.dirty[0]&&$$invalidate(21,noteUrl=page.document.noteHashUrl(annotation))},[annotation,access,page,pageNote,showImageOnPageNote,width,aspect,grayed,behind,editOverride,title,description,headerHeight,footerHeight,editMode,titleValid,changeValid,footerWidth,titleInput,annotationElem,shift,noteUrl,$loading,"500","2000",loading,createOrUpdateAnnotation,handleCancel,async function(){await Object(wrapLoad.d)(loading,layout.n,async()=>{await Object(layout.g)(annotation.id,page.document.id)})},function(e){!e.metaKey&&!e.ctrlKey||13!=e.which&&13!=e.keyCode||createOrUpdateAnnotation()},mode,y,height,accessValid,changed,y1,y2,$doc,function(event){Object(internal.m)($$self,event)},function($$value){internal.l[$$value?"unshift":"push"](()=>{titleInput=$$value,$$invalidate(18,titleInput)})},function(){title=this.value,$$invalidate(10,title)},()=>$$invalidate(9,editOverride=!0),function($$value){internal.l[$$value?"unshift":"push"](()=>{annotationElem=$$value,$$invalidate(19,annotationElem)})},function(){headerHeight=this.offsetHeight,$$invalidate(12,headerHeight)},function($$value){internal.l[$$value?"unshift":"push"](()=>{titleInput=$$value,$$invalidate(18,titleInput)})},function(){title=this.value,$$invalidate(10,title)},()=>$$invalidate(9,editOverride=!0),function(value){description=value,$$invalidate(11,description)},function(value){access=value,$$invalidate(1,access)},function(){footerHeight=this.offsetHeight,footerWidth=this.offsetWidth,$$invalidate(13,footerHeight),$$invalidate(17,footerWidth)}]}class Annotation_svelte_Annotation extends internal.b{constructor(options){super(),Object(internal.G)(this,options,Annotation_svelte_instance,Annotation_svelte_create_fragment,internal.T,{page:2,pageNote:3,showImageOnPageNote:4,width:5,annotation:0,aspect:6,mode:30,y:31,height:32,grayed:7,behind:8,access:1},[-1,-1])}}var viewer_Annotation_svelte=Annotation_svelte_Annotation,api_viewer=__webpack_require__(43);function showIfFullyVisible(el){let observer=new IntersectionObserver(e=>{var visibility;null!=e&&1==e.length&&(visibility=1==e[0].intersectionRatio||e[0].intersectionRect.width>0&&e[0].intersectionRect.width>=e[0].boundingClientRect.width,el.style.visibility=visibility?"visible":"hidden")},{threshold:1,margin:"30px 0 30px 0"});return observer.observe(el),{destroy:()=>{null!=observer&&observer.unobserve(el)}}}__webpack_require__(24),__webpack_require__(115);var bounds=__webpack_require__(29);function markup(node,pageNumber){const getXY=(e,client=!1,changedTouches=!1)=>{const touchAccessor=changedTouches?"changedTouches":"touches";if(null!=e[touchAccessor]){if(1!=e[touchAccessor].length)return null;const touch=e[touchAccessor][0],{left:left,top:top}=node.getBoundingClientRect();return{x:touch.clientX-left,y:touch.clientY-top}}if(client){const{left:left,top:top}=node.getBoundingClientRect();return{x:e.clientX-left,y:e.clientY-top}}return{x:e.offsetX,y:e.offsetY}},normalize=({x:x,y:y})=>(x=Object(bounds.a)(x,0,node.offsetWidth),y=Object(bounds.a)(y,0,node.offsetHeight),{x:x/node.offsetWidth,y:y/node.offsetHeight});let down=!1;const events=[[node,["mousedown","touchstart"],e=>{const data=getXY(e);null!=data&&(down=!0,Object(layout.r)(pageNumber,normalize(data))&&e.preventDefault())}],[window,["mousemove","touchmove"],e=>{if(!down)return;const data=getXY(e,!0);null!=data&&Object(layout.q)(pageNumber,normalize(data))&&e.preventDefault()}],[window,["mouseup","touchend"],e=>{if(!down)return;down=!1;const data=getXY(e,!0,!0);null!=data&&Object(layout.p)(pageNumber,normalize(data))&&e.preventDefault()}]];return events.forEach(event=>{event[1].forEach(eventType=>{event[0].addEventListener(eventType,event[2],{passive:!1})})}),{destroy(){events.forEach(event=>{event[1].forEach(eventType=>{event[0].removeEventListener(eventType,event[2],{passive:!1})})})}}}function hoveredNote(el,note){let mouseover=()=>{layout.n.hoveredNote=note},mouseout=()=>{layout.n.hoveredNote=null};return el.addEventListener("mouseover",mouseover),el.addEventListener("mouseout",mouseout),{update(note){el.removeEventListener("mouseover",mouseover),el.removeEventListener("mouseout",mouseout),mouseover=()=>{layout.n.hoveredNote=note},mouseout=()=>{layout.n.hoveredNote=null},el.addEventListener("mouseover",mouseover),el.addEventListener("mouseout",mouseout)},destroy:()=>{el.removeEventListener("mouseover",mouseover),el.removeEventListener("mouseout",mouseout)}}}var public_tag=__webpack_require__(247),public_tag_default=__webpack_require__.n(public_tag),organization_tag=__webpack_require__(248),organization_tag_default=__webpack_require__.n(organization_tag),private_tag=__webpack_require__(249),private_tag_default=__webpack_require__.n(private_tag);__webpack_require__(250);function InternalPage_svelte_get_each_context(ctx,list,i){const child_ctx=ctx.slice();return child_ctx[16]=list[i],child_ctx}function get_each_context_1(ctx,list,i){const child_ctx=ctx.slice();return child_ctx[19]=list[i],child_ctx}function get_each_context_2(ctx,list,i){const child_ctx=ctx.slice();return child_ctx[19]=list[i],child_ctx}function InternalPage_svelte_create_if_block_10(ctx){let pagenoteinsert,current;return pagenoteinsert=new viewer_PageNoteInsert_svelte({props:{pageNumber:ctx[1].pageNumber+1,scale:ctx[3]}}),{c(){Object(internal.r)(pagenoteinsert.$$.fragment)},m(target,anchor){Object(internal.L)(pagenoteinsert,target,anchor),current=!0},p(ctx,dirty){const pagenoteinsert_changes={};2&dirty&&(pagenoteinsert_changes.pageNumber=ctx[1].pageNumber+1),8&dirty&&(pagenoteinsert_changes.scale=ctx[3]),pagenoteinsert.$set(pagenoteinsert_changes)},i(local){current||(Object(internal.hb)(pagenoteinsert.$$.fragment,local),current=!0)},o(local){Object(internal.ib)(pagenoteinsert.$$.fragment,local),current=!1},d(detaching){Object(internal.t)(pagenoteinsert,detaching)}}}function InternalPage_svelte_create_if_block_9(ctx){let annotation,current;return annotation=new viewer_Annotation_svelte({props:{page:ctx[1],grayed:ctx[8].selectNoteEmbed,pageNote:!0,annotation:ctx[8].displayedAnnotation,mode:ctx[8].annotateMode}}),{c(){Object(internal.r)(annotation.$$.fragment)},m(target,anchor){Object(internal.L)(annotation,target,anchor),current=!0},p(ctx,dirty){const annotation_changes={};2&dirty&&(annotation_changes.page=ctx[1]),256&dirty&&(annotation_changes.grayed=ctx[8].selectNoteEmbed),256&dirty&&(annotation_changes.annotation=ctx[8].displayedAnnotation),256&dirty&&(annotation_changes.mode=ctx[8].annotateMode),annotation.$set(annotation_changes)},i(local){current||(Object(internal.hb)(annotation.$$.fragment,local),current=!0)},o(local){Object(internal.ib)(annotation.$$.fragment,local),current=!1},d(detaching){Object(internal.t)(annotation,detaching)}}}function InternalPage_svelte_create_if_block_8(ctx){let each_1_anchor,current,each_value_2=ctx[9].pageNotesByPage[ctx[1].pageNumber],each_blocks=[];for(let i=0;i<each_value_2.length;i+=1)each_blocks[i]=create_each_block_2(get_each_context_2(ctx,each_value_2,i));const out=i=>Object(internal.ib)(each_blocks[i],1,1,()=>{each_blocks[i]=null});return{c(){for(let i=0;i<each_blocks.length;i+=1)each_blocks[i].c();each_1_anchor=Object(internal.x)()},m(target,anchor){for(let i=0;i<each_blocks.length;i+=1)each_blocks[i].m(target,anchor);Object(internal.H)(target,each_1_anchor,anchor),current=!0},p(ctx,dirty){if(834&dirty){let i;for(each_value_2=ctx[9].pageNotesByPage[ctx[1].pageNumber],i=0;i<each_value_2.length;i+=1){const child_ctx=get_each_context_2(ctx,each_value_2,i);each_blocks[i]?(each_blocks[i].p(child_ctx,dirty),Object(internal.hb)(each_blocks[i],1)):(each_blocks[i]=create_each_block_2(child_ctx),each_blocks[i].c(),Object(internal.hb)(each_blocks[i],1),each_blocks[i].m(each_1_anchor.parentNode,each_1_anchor))}for(Object(internal.E)(),i=each_value_2.length;i<each_blocks.length;i+=1)out(i);Object(internal.n)()}},i(local){if(!current){for(let i=0;i<each_value_2.length;i+=1)Object(internal.hb)(each_blocks[i]);current=!0}},o(local){each_blocks=each_blocks.filter(Boolean);for(let i=0;i<each_blocks.length;i+=1)Object(internal.ib)(each_blocks[i]);current=!1},d(detaching){Object(internal.u)(each_blocks,detaching),detaching&&Object(internal.v)(each_1_anchor)}}}function create_each_block_2(ctx){let annotation,current;return annotation=new viewer_Annotation_svelte({props:{grayed:ctx[8].displayAnnotate||ctx[8].selectNoteEmbed,behind:!0,page:ctx[1],pageNote:!0,annotation:ctx[19],mode:"view"}}),annotation.$on("stateChange",ctx[13]),{c(){Object(internal.r)(annotation.$$.fragment)},m(target,anchor){Object(internal.L)(annotation,target,anchor),current=!0},p(ctx,dirty){const annotation_changes={};256&dirty&&(annotation_changes.grayed=ctx[8].displayAnnotate||ctx[8].selectNoteEmbed),2&dirty&&(annotation_changes.page=ctx[1]),514&dirty&&(annotation_changes.annotation=ctx[19]),annotation.$set(annotation_changes)},i(local){current||(Object(internal.hb)(annotation.$$.fragment,local),current=!0)},o(local){Object(internal.ib)(annotation.$$.fragment,local),current=!1},d(detaching){Object(internal.t)(annotation,detaching)}}}function InternalPage_svelte_create_default_slot(ctx){let div,t0,t1,current,if_block0=ctx[8].annotating&&InternalPage_svelte_create_if_block_10(ctx),if_block1=null!=ctx[8].displayedAnnotation&&ctx[8].displayedAnnotation.page==ctx[1].pageNumber&&ctx[8].displayedAnnotation.isPageNote&&InternalPage_svelte_create_if_block_9(ctx),if_block2=null!=ctx[9].pageNotesByPage[ctx[1].pageNumber]&&InternalPage_svelte_create_if_block_8(ctx);return{c(){div=Object(internal.w)("div"),if_block0&&if_block0.c(),t0=Object(internal.ab)(),if_block1&&if_block1.c(),t1=Object(internal.ab)(),if_block2&&if_block2.c(),Object(internal.Z)(div,"font-size",100*ctx[3]+"%")},m(target,anchor){Object(internal.H)(target,div,anchor),if_block0&&if_block0.m(div,null),Object(internal.g)(div,t0),if_block1&&if_block1.m(div,null),Object(internal.g)(div,t1),if_block2&&if_block2.m(div,null),current=!0},p(ctx,dirty){ctx[8].annotating?if_block0?(if_block0.p(ctx,dirty),256&dirty&&Object(internal.hb)(if_block0,1)):(if_block0=InternalPage_svelte_create_if_block_10(ctx),if_block0.c(),Object(internal.hb)(if_block0,1),if_block0.m(div,t0)):if_block0&&(Object(internal.E)(),Object(internal.ib)(if_block0,1,1,()=>{if_block0=null}),Object(internal.n)()),null!=ctx[8].displayedAnnotation&&ctx[8].displayedAnnotation.page==ctx[1].pageNumber&&ctx[8].displayedAnnotation.isPageNote?if_block1?(if_block1.p(ctx,dirty),258&dirty&&Object(internal.hb)(if_block1,1)):(if_block1=InternalPage_svelte_create_if_block_9(ctx),if_block1.c(),Object(internal.hb)(if_block1,1),if_block1.m(div,t1)):if_block1&&(Object(internal.E)(),Object(internal.ib)(if_block1,1,1,()=>{if_block1=null}),Object(internal.n)()),null!=ctx[9].pageNotesByPage[ctx[1].pageNumber]?if_block2?(if_block2.p(ctx,dirty),514&dirty&&Object(internal.hb)(if_block2,1)):(if_block2=InternalPage_svelte_create_if_block_8(ctx),if_block2.c(),Object(internal.hb)(if_block2,1),if_block2.m(div,null)):if_block2&&(Object(internal.E)(),Object(internal.ib)(if_block2,1,1,()=>{if_block2=null}),Object(internal.n)()),(!current||8&dirty)&&Object(internal.Z)(div,"font-size",100*ctx[3]+"%")},i(local){current||(Object(internal.hb)(if_block0),Object(internal.hb)(if_block1),Object(internal.hb)(if_block2),current=!0)},o(local){Object(internal.ib)(if_block0),Object(internal.ib)(if_block1),Object(internal.ib)(if_block2),current=!1},d(detaching){detaching&&Object(internal.v)(div),if_block0&&if_block0.d(),if_block1&&if_block1.d(),if_block2&&if_block2.d()}}}function InternalPage_svelte_create_if_block_6(ctx){let each_1_anchor,each_value_1=ctx[9].notesByPage[ctx[1].pageNumber],each_blocks=[];for(let i=0;i<each_value_1.length;i+=1)each_blocks[i]=create_each_block_1(get_each_context_1(ctx,each_value_1,i));return{c(){for(let i=0;i<each_blocks.length;i+=1)each_blocks[i].c();each_1_anchor=Object(internal.x)()},m(target,anchor){for(let i=0;i<each_blocks.length;i+=1)each_blocks[i].m(target,anchor);Object(internal.H)(target,each_1_anchor,anchor)},p(ctx,dirty){if(2818&dirty){let i;for(each_value_1=ctx[9].notesByPage[ctx[1].pageNumber],i=0;i<each_value_1.length;i+=1){const child_ctx=get_each_context_1(ctx,each_value_1,i);each_blocks[i]?each_blocks[i].p(child_ctx,dirty):(each_blocks[i]=create_each_block_1(child_ctx),each_blocks[i].c(),each_blocks[i].m(each_1_anchor.parentNode,each_1_anchor))}for(;i<each_blocks.length;i+=1)each_blocks[i].d(1);each_blocks.length=each_value_1.length}},d(detaching){Object(internal.u)(each_blocks,detaching),detaching&&Object(internal.v)(each_1_anchor)}}}function InternalPage_svelte_create_if_block_7(ctx){let div0,hoveredNote_action,t,div1,hoveredNote_action_1,mounted,dispose,raw_value=ctx[11][ctx[19].access]+"";function click_handler(){return ctx[14](ctx[19])}function click_handler_1(){return ctx[15](ctx[19])}return{c(){div0=Object(internal.w)("div"),t=Object(internal.ab)(),div1=Object(internal.w)("div"),Object(internal.i)(div0,"class","tag svelte-1m10xhq"),Object(internal.Z)(div0,"top",100*ctx[19].y1+"%"),Object(internal.gb)(div0,"hover",ctx[8].hoveredNote==ctx[19]),Object(internal.gb)(div0,"grayed",ctx[8].displayAnnotate),Object(internal.gb)(div0,"disabled",ctx[8].redacting),Object(internal.i)(div1,"class","annotation svelte-1m10xhq"),Object(internal.Z)(div1,"left",100*ctx[19].x1+"%"),Object(internal.Z)(div1,"top",100*ctx[19].y1+"%"),Object(internal.Z)(div1,"width",100*(ctx[19].x2-ctx[19].x1)+"%"),Object(internal.Z)(div1,"height",100*(ctx[19].y2-ctx[19].y1)+"%"),Object(internal.gb)(div1,"hover",ctx[8].hoveredNote==ctx[19]),Object(internal.gb)(div1,"organization","organization"==ctx[19].access),Object(internal.gb)(div1,"private","private"==ctx[19].access),Object(internal.gb)(div1,"grayed",ctx[8].displayAnnotate),Object(internal.gb)(div1,"amplified",ctx[8].selectNoteEmbed),Object(internal.gb)(div1,"public","public"==ctx[19].access),Object(internal.gb)(div1,"selectable",!ctx[8].redacting),Object(internal.gb)(div1,"disabled",ctx[8].redacting)},m(target,anchor){Object(internal.H)(target,div0,anchor),div0.innerHTML=raw_value,Object(internal.H)(target,t,anchor),Object(internal.H)(target,div1,anchor),mounted||(dispose=[Object(internal.c)(hoveredNote_action=hoveredNote.call(null,div0,ctx[19])),Object(internal.J)(div0,"click",click_handler),Object(internal.c)(hoveredNote_action_1=hoveredNote.call(null,div1,ctx[19])),Object(internal.J)(div1,"click",click_handler_1)],mounted=!0)},p(new_ctx,dirty){ctx=new_ctx,514&dirty&&raw_value!==(raw_value=ctx[11][ctx[19].access]+"")&&(div0.innerHTML=raw_value),514&dirty&&Object(internal.Z)(div0,"top",100*ctx[19].y1+"%"),hoveredNote_action&&Object(internal.I)(hoveredNote_action.update)&&514&dirty&&hoveredNote_action.update.call(null,ctx[19]),770&dirty&&Object(internal.gb)(div0,"hover",ctx[8].hoveredNote==ctx[19]),256&dirty&&Object(internal.gb)(div0,"grayed",ctx[8].displayAnnotate),256&dirty&&Object(internal.gb)(div0,"disabled",ctx[8].redacting),514&dirty&&Object(internal.Z)(div1,"left",100*ctx[19].x1+"%"),514&dirty&&Object(internal.Z)(div1,"top",100*ctx[19].y1+"%"),514&dirty&&Object(internal.Z)(div1,"width",100*(ctx[19].x2-ctx[19].x1)+"%"),514&dirty&&Object(internal.Z)(div1,"height",100*(ctx[19].y2-ctx[19].y1)+"%"),hoveredNote_action_1&&Object(internal.I)(hoveredNote_action_1.update)&&514&dirty&&hoveredNote_action_1.update.call(null,ctx[19]),770&dirty&&Object(internal.gb)(div1,"hover",ctx[8].hoveredNote==ctx[19]),514&dirty&&Object(internal.gb)(div1,"organization","organization"==ctx[19].access),514&dirty&&Object(internal.gb)(div1,"private","private"==ctx[19].access),256&dirty&&Object(internal.gb)(div1,"grayed",ctx[8].displayAnnotate),256&dirty&&Object(internal.gb)(div1,"amplified",ctx[8].selectNoteEmbed),514&dirty&&Object(internal.gb)(div1,"public","public"==ctx[19].access),256&dirty&&Object(internal.gb)(div1,"selectable",!ctx[8].redacting),256&dirty&&Object(internal.gb)(div1,"disabled",ctx[8].redacting)},d(detaching){detaching&&Object(internal.v)(div0),detaching&&Object(internal.v)(t),detaching&&Object(internal.v)(div1),mounted=!1,Object(internal.S)(dispose)}}}function create_each_block_1(ctx){let if_block_anchor,if_block=!ctx[19].isPageNote&&InternalPage_svelte_create_if_block_7(ctx);return{c(){if_block&&if_block.c(),if_block_anchor=Object(internal.x)()},m(target,anchor){if_block&&if_block.m(target,anchor),Object(internal.H)(target,if_block_anchor,anchor)},p(ctx,dirty){ctx[19].isPageNote?if_block&&(if_block.d(1),if_block=null):if_block?if_block.p(ctx,dirty):(if_block=InternalPage_svelte_create_if_block_7(ctx),if_block.c(),if_block.m(if_block_anchor.parentNode,if_block_anchor))},d(detaching){if_block&&if_block.d(detaching),detaching&&Object(internal.v)(if_block_anchor)}}}function InternalPage_svelte_create_if_block_4(ctx){let if_block_anchor,current,if_block=null!=ctx[8].displayedAnnotation&&ctx[8].displayedAnnotation.page==ctx[1].pageNumber&&!ctx[8].displayedAnnotation.isPageNote&&InternalPage_svelte_create_if_block_5(ctx);return{c(){if_block&&if_block.c(),if_block_anchor=Object(internal.x)()},m(target,anchor){if_block&&if_block.m(target,anchor),Object(internal.H)(target,if_block_anchor,anchor),current=!0},p(ctx,dirty){null==ctx[8].displayedAnnotation||ctx[8].displayedAnnotation.page!=ctx[1].pageNumber||ctx[8].displayedAnnotation.isPageNote?if_block&&(Object(internal.E)(),Object(internal.ib)(if_block,1,1,()=>{if_block=null}),Object(internal.n)()):if_block?(if_block.p(ctx,dirty),258&dirty&&Object(internal.hb)(if_block,1)):(if_block=InternalPage_svelte_create_if_block_5(ctx),if_block.c(),Object(internal.hb)(if_block,1),if_block.m(if_block_anchor.parentNode,if_block_anchor))},i(local){current||(Object(internal.hb)(if_block),current=!0)},o(local){Object(internal.ib)(if_block),current=!1},d(detaching){if_block&&if_block.d(detaching),detaching&&Object(internal.v)(if_block_anchor)}}}function InternalPage_svelte_create_if_block_2(ctx){let if_block_anchor,if_block=null!=ctx[8].currentAnnotation&&ctx[8].currentAnnotation.page==ctx[1].pageNumber&&!ctx[8].currentAnnotation.isPageNote&&InternalPage_svelte_create_if_block_3(ctx);return{c(){if_block&&if_block.c(),if_block_anchor=Object(internal.x)()},m(target,anchor){if_block&&if_block.m(target,anchor),Object(internal.H)(target,if_block_anchor,anchor)},p(ctx,dirty){null==ctx[8].currentAnnotation||ctx[8].currentAnnotation.page!=ctx[1].pageNumber||ctx[8].currentAnnotation.isPageNote?if_block&&(if_block.d(1),if_block=null):if_block?if_block.p(ctx,dirty):(if_block=InternalPage_svelte_create_if_block_3(ctx),if_block.c(),if_block.m(if_block_anchor.parentNode,if_block_anchor))},i:internal.M,o:internal.M,d(detaching){if_block&&if_block.d(detaching),detaching&&Object(internal.v)(if_block_anchor)}}}function InternalPage_svelte_create_if_block(ctx){let each_1_anchor,each_value=ctx[8].allRedactions,each_blocks=[];for(let i=0;i<each_value.length;i+=1)each_blocks[i]=InternalPage_svelte_create_each_block(InternalPage_svelte_get_each_context(ctx,each_value,i));return{c(){for(let i=0;i<each_blocks.length;i+=1)each_blocks[i].c();each_1_anchor=Object(internal.x)()},m(target,anchor){for(let i=0;i<each_blocks.length;i+=1)each_blocks[i].m(target,anchor);Object(internal.H)(target,each_1_anchor,anchor)},p(ctx,dirty){if(258&dirty){let i;for(each_value=ctx[8].allRedactions,i=0;i<each_value.length;i+=1){const child_ctx=InternalPage_svelte_get_each_context(ctx,each_value,i);each_blocks[i]?each_blocks[i].p(child_ctx,dirty):(each_blocks[i]=InternalPage_svelte_create_each_block(child_ctx),each_blocks[i].c(),each_blocks[i].m(each_1_anchor.parentNode,each_1_anchor))}for(;i<each_blocks.length;i+=1)each_blocks[i].d(1);each_blocks.length=each_value.length}},i:internal.M,o:internal.M,d(detaching){Object(internal.u)(each_blocks,detaching),detaching&&Object(internal.v)(each_1_anchor)}}}function InternalPage_svelte_create_if_block_5(ctx){let annotation,current;return annotation=new viewer_Annotation_svelte({props:{page:ctx[1],y:ctx[5],height:ctx[0],width:ctx[7],annotation:ctx[8].displayedAnnotation,mode:ctx[8].annotateMode,aspect:ctx[1].aspect}}),{c(){Object(internal.r)(annotation.$$.fragment)},m(target,anchor){Object(internal.L)(annotation,target,anchor),current=!0},p(ctx,dirty){const annotation_changes={};2&dirty&&(annotation_changes.page=ctx[1]),32&dirty&&(annotation_changes.y=ctx[5]),1&dirty&&(annotation_changes.height=ctx[0]),128&dirty&&(annotation_changes.width=ctx[7]),256&dirty&&(annotation_changes.annotation=ctx[8].displayedAnnotation),256&dirty&&(annotation_changes.mode=ctx[8].annotateMode),2&dirty&&(annotation_changes.aspect=ctx[1].aspect),annotation.$set(annotation_changes)},i(local){current||(Object(internal.hb)(annotation.$$.fragment,local),current=!0)},o(local){Object(internal.ib)(annotation.$$.fragment,local),current=!1},d(detaching){Object(internal.t)(annotation,detaching)}}}function InternalPage_svelte_create_if_block_3(ctx){let div;return{c(){div=Object(internal.w)("div"),Object(internal.i)(div,"class","annotation svelte-1m10xhq"),Object(internal.Z)(div,"left",100*ctx[8].currentAnnotation.x1+"%"),Object(internal.Z)(div,"top",100*ctx[8].currentAnnotation.y1+"%"),Object(internal.Z)(div,"width",100*ctx[8].currentAnnotation.width+"%"),Object(internal.Z)(div,"height",100*ctx[8].currentAnnotation.height+"%"),Object(internal.gb)(div,"public","public"==ctx[8].currentAnnotation.access),Object(internal.gb)(div,"organization","organization"==ctx[8].currentAnnotation.access),Object(internal.gb)(div,"private","private"==ctx[8].currentAnnotation.access)},m(target,anchor){Object(internal.H)(target,div,anchor)},p(ctx,dirty){256&dirty&&Object(internal.Z)(div,"left",100*ctx[8].currentAnnotation.x1+"%"),256&dirty&&Object(internal.Z)(div,"top",100*ctx[8].currentAnnotation.y1+"%"),256&dirty&&Object(internal.Z)(div,"width",100*ctx[8].currentAnnotation.width+"%"),256&dirty&&Object(internal.Z)(div,"height",100*ctx[8].currentAnnotation.height+"%"),256&dirty&&Object(internal.gb)(div,"public","public"==ctx[8].currentAnnotation.access),256&dirty&&Object(internal.gb)(div,"organization","organization"==ctx[8].currentAnnotation.access),256&dirty&&Object(internal.gb)(div,"private","private"==ctx[8].currentAnnotation.access)},d(detaching){detaching&&Object(internal.v)(div)}}}function InternalPage_svelte_create_if_block_1(ctx){let div;return{c(){div=Object(internal.w)("div"),Object(internal.i)(div,"class","redaction svelte-1m10xhq"),Object(internal.Z)(div,"left",100*ctx[16].x1+"%"),Object(internal.Z)(div,"top",100*ctx[16].y1+"%"),Object(internal.Z)(div,"width",100*ctx[16].width+"%"),Object(internal.Z)(div,"height",100*ctx[16].height+"%")},m(target,anchor){Object(internal.H)(target,div,anchor)},p(ctx,dirty){256&dirty&&Object(internal.Z)(div,"left",100*ctx[16].x1+"%"),256&dirty&&Object(internal.Z)(div,"top",100*ctx[16].y1+"%"),256&dirty&&Object(internal.Z)(div,"width",100*ctx[16].width+"%"),256&dirty&&Object(internal.Z)(div,"height",100*ctx[16].height+"%")},d(detaching){detaching&&Object(internal.v)(div)}}}function InternalPage_svelte_create_each_block(ctx){let if_block_anchor,if_block=ctx[16].page==ctx[1].pageNumber&&InternalPage_svelte_create_if_block_1(ctx);return{c(){if_block&&if_block.c(),if_block_anchor=Object(internal.x)()},m(target,anchor){if_block&&if_block.m(target,anchor),Object(internal.H)(target,if_block_anchor,anchor)},p(ctx,dirty){ctx[16].page==ctx[1].pageNumber?if_block?if_block.p(ctx,dirty):(if_block=InternalPage_svelte_create_if_block_1(ctx),if_block.c(),if_block.m(if_block_anchor.parentNode,if_block_anchor)):if_block&&(if_block.d(1),if_block=null)},d(detaching){if_block&&if_block.d(detaching),detaching&&Object(internal.v)(if_block_anchor)}}}function InternalPage_svelte_create_fragment(ctx){let div1,div0,a,t0,t1,a_href_value,showIfFullyVisible_action,t2,div3,extrapagecontent,t3,div2,progressiveimage,t4,t5,current_block_type_index,if_block1,markup_action,current,mounted,dispose,t1_value=ctx[1].pageNumber+1+"";extrapagecontent=new viewer_ExtraPageContent_svelte({props:{page:ctx[1],width:ctx[2],resizeCallback:ctx[4],mutators:[ctx[9].pageNotesByPage[ctx[1].pageNumber],ctx[10].showPageNoteInserts,ctx[10].mode,ctx[8].displayAnnotate,null!=ctx[8].displayedAnnotation&&ctx[8].displayedAnnotation.page==ctx[1].pageNumber&&ctx[8].displayedAnnotation.isPageNote?ctx[8].displayedAnnotation:null,ctx[6],textPageUpdated],$$slots:{default:[InternalPage_svelte_create_default_slot]},$$scope:{ctx:ctx}}}),progressiveimage=new ProgressiveImage_svelte.a({props:{alt:"Page "+(ctx[1].pageNumber+1)+" of "+ctx[1].document.title,crosshair:ctx[8].pageCrosshair,width:ctx[7],aspect:ctx[1].aspect,grayed:ctx[8].displayAnnotate||ctx[8].selectNoteEmbed,page:ctx[1]}});let if_block0=null!=ctx[9].notesByPage[ctx[1].pageNumber]&&InternalPage_svelte_create_if_block_6(ctx);const if_block_creators=[InternalPage_svelte_create_if_block,InternalPage_svelte_create_if_block_2,InternalPage_svelte_create_if_block_4],if_blocks=[];function select_block_type(ctx,dirty){return ctx[8].redacting?0:ctx[8].annotating?1:ctx[8].displayAnnotate?2:-1}return~(current_block_type_index=select_block_type(ctx))&&(if_block1=if_blocks[current_block_type_index]=if_block_creators[current_block_type_index](ctx)),{c(){div1=Object(internal.w)("div"),div0=Object(internal.w)("div"),a=Object(internal.w)("a"),t0=Object(internal.db)("p. "),t1=Object(internal.db)(t1_value),t2=Object(internal.ab)(),div3=Object(internal.w)("div"),Object(internal.r)(extrapagecontent.$$.fragment),t3=Object(internal.ab)(),div2=Object(internal.w)("div"),Object(internal.r)(progressiveimage.$$.fragment),t4=Object(internal.ab)(),if_block0&&if_block0.c(),t5=Object(internal.ab)(),if_block1&&if_block1.c(),Object(internal.i)(a,"href",a_href_value="#document/p"+(ctx[1].pageNumber+1)),Object(internal.i)(a,"class","svelte-1m10xhq"),Object(internal.i)(div0,"class","number svelte-1m10xhq"),Object(internal.gb)(div0,"grayed",ctx[8].displayAnnotate),Object(internal.i)(div1,"class","numbercontainer svelte-1m10xhq"),Object(internal.Z)(div1,"right",ctx[2]+"px"),Object(internal.Z)(div2,"position","relative"),Object(internal.i)(div3,"class","page svelte-1m10xhq")},m(target,anchor){Object(internal.H)(target,div1,anchor),Object(internal.g)(div1,div0),Object(internal.g)(div0,a),Object(internal.g)(a,t0),Object(internal.g)(a,t1),Object(internal.H)(target,t2,anchor),Object(internal.H)(target,div3,anchor),Object(internal.L)(extrapagecontent,div3,null),Object(internal.g)(div3,t3),Object(internal.g)(div3,div2),Object(internal.L)(progressiveimage,div2,null),Object(internal.g)(div2,t4),if_block0&&if_block0.m(div2,null),Object(internal.g)(div2,t5),~current_block_type_index&&if_blocks[current_block_type_index].m(div2,null),current=!0,mounted||(dispose=[Object(internal.c)(showIfFullyVisible_action=showIfFullyVisible.call(null,div0)),Object(internal.c)(markup_action=markup.call(null,div2,ctx[1].pageNumber))],mounted=!0)},p(ctx,[dirty]){(!current||2&dirty)&&t1_value!==(t1_value=ctx[1].pageNumber+1+"")&&Object(internal.W)(t1,t1_value),(!current||2&dirty&&a_href_value!==(a_href_value="#document/p"+(ctx[1].pageNumber+1)))&&Object(internal.i)(a,"href",a_href_value),256&dirty&&Object(internal.gb)(div0,"grayed",ctx[8].displayAnnotate),(!current||4&dirty)&&Object(internal.Z)(div1,"right",ctx[2]+"px");const extrapagecontent_changes={};2&dirty&&(extrapagecontent_changes.page=ctx[1]),4&dirty&&(extrapagecontent_changes.width=ctx[2]),16&dirty&&(extrapagecontent_changes.resizeCallback=ctx[4]),1858&dirty&&(extrapagecontent_changes.mutators=[ctx[9].pageNotesByPage[ctx[1].pageNumber],ctx[10].showPageNoteInserts,ctx[10].mode,ctx[8].displayAnnotate,null!=ctx[8].displayedAnnotation&&ctx[8].displayedAnnotation.page==ctx[1].pageNumber&&ctx[8].displayedAnnotation.isPageNote?ctx[8].displayedAnnotation:null,ctx[6],textPageUpdated]),16778058&dirty&&(extrapagecontent_changes.$$scope={dirty:dirty,ctx:ctx}),extrapagecontent.$set(extrapagecontent_changes);const progressiveimage_changes={};2&dirty&&(progressiveimage_changes.alt="Page "+(ctx[1].pageNumber+1)+" of "+ctx[1].document.title),256&dirty&&(progressiveimage_changes.crosshair=ctx[8].pageCrosshair),128&dirty&&(progressiveimage_changes.width=ctx[7]),2&dirty&&(progressiveimage_changes.aspect=ctx[1].aspect),256&dirty&&(progressiveimage_changes.grayed=ctx[8].displayAnnotate||ctx[8].selectNoteEmbed),2&dirty&&(progressiveimage_changes.page=ctx[1]),progressiveimage.$set(progressiveimage_changes),null!=ctx[9].notesByPage[ctx[1].pageNumber]?if_block0?if_block0.p(ctx,dirty):(if_block0=InternalPage_svelte_create_if_block_6(ctx),if_block0.c(),if_block0.m(div2,t5)):if_block0&&(if_block0.d(1),if_block0=null);let previous_block_index=current_block_type_index;current_block_type_index=select_block_type(ctx),current_block_type_index===previous_block_index?~current_block_type_index&&if_blocks[current_block_type_index].p(ctx,dirty):(if_block1&&(Object(internal.E)(),Object(internal.ib)(if_blocks[previous_block_index],1,1,()=>{if_blocks[previous_block_index]=null}),Object(internal.n)()),~current_block_type_index?(if_block1=if_blocks[current_block_type_index],if_block1?if_block1.p(ctx,dirty):(if_block1=if_blocks[current_block_type_index]=if_block_creators[current_block_type_index](ctx),if_block1.c()),Object(internal.hb)(if_block1,1),if_block1.m(div2,null)):if_block1=null),markup_action&&Object(internal.I)(markup_action.update)&&2&dirty&&markup_action.update.call(null,ctx[1].pageNumber)},i(local){current||(Object(internal.hb)(extrapagecontent.$$.fragment,local),Object(internal.hb)(progressiveimage.$$.fragment,local),Object(internal.hb)(if_block1),current=!0)},o(local){Object(internal.ib)(extrapagecontent.$$.fragment,local),Object(internal.ib)(progressiveimage.$$.fragment,local),Object(internal.ib)(if_block1),current=!1},d(detaching){detaching&&Object(internal.v)(div1),detaching&&Object(internal.v)(t2),detaching&&Object(internal.v)(div3),Object(internal.t)(extrapagecontent),Object(internal.t)(progressiveimage),if_block0&&if_block0.d(),~current_block_type_index&&if_blocks[current_block_type_index].d(),mounted=!1,Object(internal.S)(dispose)}}}let textPageUpdated=0;function InternalPage_svelte_instance($$self,$$props,$$invalidate){let effectiveWidth,$layout,$viewer,$doc;Object(internal.o)($$self,layout.n,$$value=>$$invalidate(8,$layout=$$value)),Object(internal.o)($$self,viewer.d,$$value=>$$invalidate(9,$viewer=$$value)),Object(internal.o)($$self,viewer_document.b,$$value=>$$invalidate(10,$doc=$$value));let{page:page}=$$props,{width:width}=$$props,{scale:scale}=$$props,{resizeCallback:resizeCallback}=$$props,{height:height}=$$props,{y:y}=$$props,{callback:callback}=$$props,annotationChanger=0;const svgMap={public:public_tag_default.a,organization:organization_tag_default.a,private:private_tag_default.a};Object(svelte.d)(()=>{null!=callback&&(callback(),$$invalidate(12,callback=null))});return $$self.$$set=$$props=>{"page"in $$props&&$$invalidate(1,page=$$props.page),"width"in $$props&&$$invalidate(2,width=$$props.width),"scale"in $$props&&$$invalidate(3,scale=$$props.scale),"resizeCallback"in $$props&&$$invalidate(4,resizeCallback=$$props.resizeCallback),"height"in $$props&&$$invalidate(0,height=$$props.height),"y"in $$props&&$$invalidate(5,y=$$props.y),"callback"in $$props&&$$invalidate(12,callback=$$props.callback)},$$self.$$.update=()=>{4&$$self.$$.dirty&&$$invalidate(7,effectiveWidth=width-2),6&$$self.$$.dirty&&$$invalidate(0,height=(width-2)*page.aspect)},[height,page,width,scale,resizeCallback,y,annotationChanger,effectiveWidth,$layout,$viewer,$doc,svgMap,callback,()=>$$invalidate(6,annotationChanger++,annotationChanger),note=>Object(viewer_document.f)(note),note=>Object(viewer_document.f)(note)]}class InternalPage_svelte_InternalPage extends internal.b{constructor(options){super(),Object(internal.G)(this,options,InternalPage_svelte_instance,InternalPage_svelte_create_fragment,internal.T,{page:1,width:2,scale:3,resizeCallback:4,height:0,y:5,callback:12})}}var viewer_InternalPage_svelte=InternalPage_svelte_InternalPage;function Page_svelte_create_if_block(ctx){let internalpage,current;return internalpage=new viewer_InternalPage_svelte({props:{page:ctx[0],width:ctx[1],scale:ctx[2],y:ctx[3],height:ctx[4],resizeCallback:ctx[6],callback:ctx[5]}}),{c(){Object(internal.r)(internalpage.$$.fragment)},m(target,anchor){Object(internal.L)(internalpage,target,anchor),current=!0},p(ctx,dirty){const internalpage_changes={};1&dirty&&(internalpage_changes.page=ctx[0]),2&dirty&&(internalpage_changes.width=ctx[1]),4&dirty&&(internalpage_changes.scale=ctx[2]),8&dirty&&(internalpage_changes.y=ctx[3]),16&dirty&&(internalpage_changes.height=ctx[4]),64&dirty&&(internalpage_changes.resizeCallback=ctx[6]),32&dirty&&(internalpage_changes.callback=ctx[5]),internalpage.$set(internalpage_changes)},i(local){current||(Object(internal.hb)(internalpage.$$.fragment,local),current=!0)},o(local){Object(internal.ib)(internalpage.$$.fragment,local),current=!1},d(detaching){Object(internal.t)(internalpage,detaching)}}}function Page_svelte_create_fragment(ctx){let div,current,if_block=null!=ctx[0].document&&Page_svelte_create_if_block(ctx);return{c(){div=Object(internal.w)("div"),if_block&&if_block.c()},m(target,anchor){Object(internal.H)(target,div,anchor),if_block&&if_block.m(div,null),current=!0},p(ctx,[dirty]){null!=ctx[0].document?if_block?(if_block.p(ctx,dirty),1&dirty&&Object(internal.hb)(if_block,1)):(if_block=Page_svelte_create_if_block(ctx),if_block.c(),Object(internal.hb)(if_block,1),if_block.m(div,null)):if_block&&(Object(internal.E)(),Object(internal.ib)(if_block,1,1,()=>{if_block=null}),Object(internal.n)())},i(local){current||(Object(internal.hb)(if_block),current=!0)},o(local){Object(internal.ib)(if_block),current=!1},d(detaching){detaching&&Object(internal.v)(div),if_block&&if_block.d()}}}function Page_svelte_instance($$self,$$props,$$invalidate){let{page:page}=$$props,{width:width}=$$props,{scale:scale}=$$props,{y:y}=$$props,{height:height}=$$props,{callback:callback=null}=$$props,{resizeCallback:resizeCallback=(()=>{})}=$$props;return $$self.$$set=$$props=>{"page"in $$props&&$$invalidate(0,page=$$props.page),"width"in $$props&&$$invalidate(1,width=$$props.width),"scale"in $$props&&$$invalidate(2,scale=$$props.scale),"y"in $$props&&$$invalidate(3,y=$$props.y),"height"in $$props&&$$invalidate(4,height=$$props.height),"callback"in $$props&&$$invalidate(5,callback=$$props.callback),"resizeCallback"in $$props&&$$invalidate(6,resizeCallback=$$props.resizeCallback)},[page,width,scale,y,height,callback,resizeCallback]}class Page_svelte_Page extends internal.b{constructor(options){super(),Object(internal.G)(this,options,Page_svelte_instance,Page_svelte_create_fragment,internal.T,{page:0,width:1,scale:2,y:3,height:4,callback:5,resizeCallback:6})}}var Page_svelte=Page_svelte_Page,NoWhitespace_svelte=__webpack_require__(119);__webpack_require__(251);function SearchResults_svelte_get_each_context(ctx,list,i){const child_ctx=ctx.slice();return child_ctx[4]=list[i].page,child_ctx}function SearchResults_svelte_get_each_context_1(ctx,list,i){const child_ctx=ctx.slice();return child_ctx[7]=list[i],child_ctx[9]=i,child_ctx}function SearchResults_svelte_get_each_context_2(ctx,list,i){const child_ctx=ctx.slice();return child_ctx[10]=list[i],child_ctx}function SearchResults_svelte_create_if_block(ctx){let div,t,current;function select_block_type(ctx,dirty){return ctx[0].totalResults>0?SearchResults_svelte_create_if_block_1:SearchResults_svelte_create_else_block}let current_block_type=select_block_type(ctx),if_block=current_block_type(ctx),each_value=ctx[0].searchPages,each_blocks=[];for(let i=0;i<each_value.length;i+=1)each_blocks[i]=SearchResults_svelte_create_each_block(SearchResults_svelte_get_each_context(ctx,each_value,i));const out=i=>Object(internal.ib)(each_blocks[i],1,1,()=>{each_blocks[i]=null});return{c(){div=Object(internal.w)("div"),if_block.c(),t=Object(internal.ab)();for(let i=0;i<each_blocks.length;i+=1)each_blocks[i].c();Object(internal.i)(div,"class","results svelte-va05ay")},m(target,anchor){Object(internal.H)(target,div,anchor),if_block.m(div,null),Object(internal.g)(div,t);for(let i=0;i<each_blocks.length;i+=1)each_blocks[i].m(div,null);current=!0},p(ctx,dirty){if(current_block_type===(current_block_type=select_block_type(ctx))&&if_block?if_block.p(ctx,dirty):(if_block.d(1),if_block=current_block_type(ctx),if_block&&(if_block.c(),if_block.m(div,t))),3&dirty){let i;for(each_value=ctx[0].searchPages,i=0;i<each_value.length;i+=1){const child_ctx=SearchResults_svelte_get_each_context(ctx,each_value,i);each_blocks[i]?(each_blocks[i].p(child_ctx,dirty),Object(internal.hb)(each_blocks[i],1)):(each_blocks[i]=SearchResults_svelte_create_each_block(child_ctx),each_blocks[i].c(),Object(internal.hb)(each_blocks[i],1),each_blocks[i].m(div,null))}for(Object(internal.E)(),i=each_value.length;i<each_blocks.length;i+=1)out(i);Object(internal.n)()}},i(local){if(!current){for(let i=0;i<each_value.length;i+=1)Object(internal.hb)(each_blocks[i]);current=!0}},o(local){each_blocks=each_blocks.filter(Boolean);for(let i=0;i<each_blocks.length;i+=1)Object(internal.ib)(each_blocks[i]);current=!1},d(detaching){detaching&&Object(internal.v)(div),if_block.d(),Object(internal.u)(each_blocks,detaching)}}}function SearchResults_svelte_create_else_block(ctx){let p;return{c(){p=Object(internal.w)("p"),p.textContent="No search results. Try again with a broader query.",Object(internal.i)(p,"class","svelte-va05ay")},m(target,anchor){Object(internal.H)(target,p,anchor)},p:internal.M,d(detaching){detaching&&Object(internal.v)(p)}}}function SearchResults_svelte_create_if_block_1(ctx){let p,t0,t1,t2,t0_value=Object(string.d)(ctx[0].totalResults,"result")+"",t2_value=Object(string.d)(ctx[0].searchPages.length,"page")+"";return{c(){p=Object(internal.w)("p"),t0=Object(internal.db)(t0_value),t1=Object(internal.db)(" across "),t2=Object(internal.db)(t2_value),Object(internal.i)(p,"class","svelte-va05ay")},m(target,anchor){Object(internal.H)(target,p,anchor),Object(internal.g)(p,t0),Object(internal.g)(p,t1),Object(internal.g)(p,t2)},p(ctx,dirty){1&dirty&&t0_value!==(t0_value=Object(string.d)(ctx[0].totalResults,"result")+"")&&Object(internal.W)(t0,t0_value),1&dirty&&t2_value!==(t2_value=Object(string.d)(ctx[0].searchPages.length,"page")+"")&&Object(internal.W)(t2,t2_value)},d(detaching){detaching&&Object(internal.v)(p)}}}function SearchResults_svelte_create_each_block_2(ctx){let span,t,t_value=ctx[10].text+"";return{c(){span=Object(internal.w)("span"),t=Object(internal.db)(t_value),Object(internal.gb)(span,"highlight","highlight"==ctx[10].type)},m(target,anchor){Object(internal.H)(target,span,anchor),Object(internal.g)(span,t)},p(ctx,dirty){1&dirty&&t_value!==(t_value=ctx[10].text+"")&&Object(internal.W)(t,t_value),1&dirty&&Object(internal.gb)(span,"highlight","highlight"==ctx[10].type)},d(detaching){detaching&&Object(internal.v)(span)}}}function SearchResults_svelte_create_default_slot(ctx){let each_1_anchor,each_value_2=ctx[7],each_blocks=[];for(let i=0;i<each_value_2.length;i+=1)each_blocks[i]=SearchResults_svelte_create_each_block_2(SearchResults_svelte_get_each_context_2(ctx,each_value_2,i));return{c(){for(let i=0;i<each_blocks.length;i+=1)each_blocks[i].c();each_1_anchor=Object(internal.x)()},m(target,anchor){for(let i=0;i<each_blocks.length;i+=1)each_blocks[i].m(target,anchor);Object(internal.H)(target,each_1_anchor,anchor)},p(ctx,dirty){if(1&dirty){let i;for(each_value_2=ctx[7],i=0;i<each_value_2.length;i+=1){const child_ctx=SearchResults_svelte_get_each_context_2(ctx,each_value_2,i);each_blocks[i]?each_blocks[i].p(child_ctx,dirty):(each_blocks[i]=SearchResults_svelte_create_each_block_2(child_ctx),each_blocks[i].c(),each_blocks[i].m(each_1_anchor.parentNode,each_1_anchor))}for(;i<each_blocks.length;i+=1)each_blocks[i].d(1);each_blocks.length=each_value_2.length}},d(detaching){Object(internal.u)(each_blocks,detaching),detaching&&Object(internal.v)(each_1_anchor)}}}function SearchResults_svelte_create_each_block_1(ctx){let div,nowhitespace,current;return nowhitespace=new NoWhitespace_svelte.a({props:{$$slots:{default:[SearchResults_svelte_create_default_slot]},$$scope:{ctx:ctx}}}),{c(){div=Object(internal.w)("div"),Object(internal.r)(nowhitespace.$$.fragment),Object(internal.i)(div,"class","result svelte-va05ay")},m(target,anchor){Object(internal.H)(target,div,anchor),Object(internal.L)(nowhitespace,div,null),current=!0},p(ctx,dirty){const nowhitespace_changes={};8193&dirty&&(nowhitespace_changes.$$scope={dirty:dirty,ctx:ctx}),nowhitespace.$set(nowhitespace_changes)},i(local){current||(Object(internal.hb)(nowhitespace.$$.fragment,local),current=!0)},o(local){Object(internal.ib)(nowhitespace.$$.fragment,local),current=!1},d(detaching){detaching&&Object(internal.v)(div),Object(internal.t)(nowhitespace)}}}function SearchResults_svelte_create_each_block(ctx){let div,h2,t0,t1,t2,small,t3,t4,t5,current,mounted,dispose,t1_value=ctx[4]+1+"",t3_value=Object(string.d)(ctx[0].searchHighlights[ctx[4]].length,"occurrence")+"",each_value_1=ctx[0].searchHighlights[ctx[4]],each_blocks=[];for(let i=0;i<each_value_1.length;i+=1)each_blocks[i]=SearchResults_svelte_create_each_block_1(SearchResults_svelte_get_each_context_1(ctx,each_value_1,i));const out=i=>Object(internal.ib)(each_blocks[i],1,1,()=>{each_blocks[i]=null});function click_handler(){return ctx[2](ctx[4])}return{c(){div=Object(internal.w)("div"),h2=Object(internal.w)("h2"),t0=Object(internal.db)("p. "),t1=Object(internal.db)(t1_value),t2=Object(internal.ab)(),small=Object(internal.w)("small"),t3=Object(internal.db)(t3_value),t4=Object(internal.ab)();for(let i=0;i<each_blocks.length;i+=1)each_blocks[i].c();t5=Object(internal.ab)(),Object(internal.i)(small,"class","svelte-va05ay"),Object(internal.i)(h2,"class","svelte-va05ay"),Object(internal.i)(div,"class","page svelte-va05ay")},m(target,anchor){Object(internal.H)(target,div,anchor),Object(internal.g)(div,h2),Object(internal.g)(h2,t0),Object(internal.g)(h2,t1),Object(internal.g)(h2,t2),Object(internal.g)(h2,small),Object(internal.g)(small,t3),Object(internal.g)(div,t4);for(let i=0;i<each_blocks.length;i+=1)each_blocks[i].m(div,null);Object(internal.g)(div,t5),current=!0,mounted||(dispose=Object(internal.J)(div,"click",click_handler),mounted=!0)},p(new_ctx,dirty){if(ctx=new_ctx,(!current||1&dirty)&&t1_value!==(t1_value=ctx[4]+1+"")&&Object(internal.W)(t1,t1_value),(!current||1&dirty)&&t3_value!==(t3_value=Object(string.d)(ctx[0].searchHighlights[ctx[4]].length,"occurrence")+"")&&Object(internal.W)(t3,t3_value),1&dirty){let i;for(each_value_1=ctx[0].searchHighlights[ctx[4]],i=0;i<each_value_1.length;i+=1){const child_ctx=SearchResults_svelte_get_each_context_1(ctx,each_value_1,i);each_blocks[i]?(each_blocks[i].p(child_ctx,dirty),Object(internal.hb)(each_blocks[i],1)):(each_blocks[i]=SearchResults_svelte_create_each_block_1(child_ctx),each_blocks[i].c(),Object(internal.hb)(each_blocks[i],1),each_blocks[i].m(div,t5))}for(Object(internal.E)(),i=each_value_1.length;i<each_blocks.length;i+=1)out(i);Object(internal.n)()}},i(local){if(!current){for(let i=0;i<each_value_1.length;i+=1)Object(internal.hb)(each_blocks[i]);current=!0}},o(local){each_blocks=each_blocks.filter(Boolean);for(let i=0;i<each_blocks.length;i+=1)Object(internal.ib)(each_blocks[i]);current=!1},d(detaching){detaching&&Object(internal.v)(div),Object(internal.u)(each_blocks,detaching),mounted=!1,dispose()}}}function SearchResults_svelte_create_fragment(ctx){let if_block_anchor,current,if_block=null!=ctx[0].searchPages&&SearchResults_svelte_create_if_block(ctx);return{c(){if_block&&if_block.c(),if_block_anchor=Object(internal.x)()},m(target,anchor){if_block&&if_block.m(target,anchor),Object(internal.H)(target,if_block_anchor,anchor),current=!0},p(ctx,[dirty]){null!=ctx[0].searchPages?if_block?(if_block.p(ctx,dirty),1&dirty&&Object(internal.hb)(if_block,1)):(if_block=SearchResults_svelte_create_if_block(ctx),if_block.c(),Object(internal.hb)(if_block,1),if_block.m(if_block_anchor.parentNode,if_block_anchor)):if_block&&(Object(internal.E)(),Object(internal.ib)(if_block,1,1,()=>{if_block=null}),Object(internal.n)())},i(local){current||(Object(internal.hb)(if_block),current=!0)},o(local){Object(internal.ib)(if_block),current=!1},d(detaching){if_block&&if_block.d(detaching),detaching&&Object(internal.v)(if_block_anchor)}}}function SearchResults_svelte_instance($$self,$$props,$$invalidate){let $layout;async function handlePage(page){viewer_document.b.textJump=page,await Object(viewer_document.a)("text")}Object(internal.o)($$self,layout.n,$$value=>$$invalidate(0,$layout=$$value));return[$layout,handlePage,page=>handlePage(page)]}class SearchResults_svelte_SearchResults extends internal.b{constructor(options){super(),Object(internal.G)(this,options,SearchResults_svelte_instance,SearchResults_svelte_create_fragment,internal.T,{})}}var viewer_SearchResults_svelte=SearchResults_svelte_SearchResults,main=__webpack_require__(284);function RedactPane_svelte_create_if_block(ctx){let button0,t,button1,current;return button0=new Button_svelte.a({props:{$$slots:{default:[RedactPane_svelte_create_default_slot_1]},$$scope:{ctx:ctx}}}),button0.$on("click",layout.s),button1=new Button_svelte.a({props:{secondary:!0,$$slots:{default:[RedactPane_svelte_create_default_slot]},$$scope:{ctx:ctx}}}),button1.$on("click",layout.x),{c(){Object(internal.r)(button0.$$.fragment),t=Object(internal.ab)(),Object(internal.r)(button1.$$.fragment)},m(target,anchor){Object(internal.L)(button0,target,anchor),Object(internal.H)(target,t,anchor),Object(internal.L)(button1,target,anchor),current=!0},p(ctx,dirty){const button0_changes={};2&dirty&&(button0_changes.$$scope={dirty:dirty,ctx:ctx}),button0.$set(button0_changes);const button1_changes={};2&dirty&&(button1_changes.$$scope={dirty:dirty,ctx:ctx}),button1.$set(button1_changes)},i(local){current||(Object(internal.hb)(button0.$$.fragment,local),Object(internal.hb)(button1.$$.fragment,local),current=!0)},o(local){Object(internal.ib)(button0.$$.fragment,local),Object(internal.ib)(button1.$$.fragment,local),current=!1},d(detaching){Object(internal.t)(button0,detaching),detaching&&Object(internal.v)(t),Object(internal.t)(button1,detaching)}}}function RedactPane_svelte_create_default_slot_1(ctx){let t;return{c(){t=Object(internal.db)("Confirm Redactions")},m(target,anchor){Object(internal.H)(target,t,anchor)},d(detaching){detaching&&Object(internal.v)(t)}}}function RedactPane_svelte_create_default_slot(ctx){let t;return{c(){t=Object(internal.db)("Undo")},m(target,anchor){Object(internal.H)(target,t,anchor)},d(detaching){detaching&&Object(internal.v)(t)}}}function RedactPane_svelte_create_fragment(ctx){let h3,t1,p,t3,div,current,if_block=ctx[0].redactionsUndoable&&RedactPane_svelte_create_if_block(ctx);return{c(){h3=Object(internal.w)("h3"),h3.textContent="Redact Document",t1=Object(internal.ab)(),p=Object(internal.w)("p"),p.textContent="Click and drag to draw a black rectangle over each portion of the document\n  youd like to redact. Associated text will be removed when you save your\n  redactions.",t3=Object(internal.ab)(),div=Object(internal.w)("div"),if_block&&if_block.c(),Object(internal.i)(div,"class","buttonpadded")},m(target,anchor){Object(internal.H)(target,h3,anchor),Object(internal.H)(target,t1,anchor),Object(internal.H)(target,p,anchor),Object(internal.H)(target,t3,anchor),Object(internal.H)(target,div,anchor),if_block&&if_block.m(div,null),current=!0},p(ctx,[dirty]){ctx[0].redactionsUndoable?if_block?(if_block.p(ctx,dirty),1&dirty&&Object(internal.hb)(if_block,1)):(if_block=RedactPane_svelte_create_if_block(ctx),if_block.c(),Object(internal.hb)(if_block,1),if_block.m(div,null)):if_block&&(Object(internal.E)(),Object(internal.ib)(if_block,1,1,()=>{if_block=null}),Object(internal.n)())},i(local){current||(Object(internal.hb)(if_block),current=!0)},o(local){Object(internal.ib)(if_block),current=!1},d(detaching){detaching&&Object(internal.v)(h3),detaching&&Object(internal.v)(t1),detaching&&Object(internal.v)(p),detaching&&Object(internal.v)(t3),detaching&&Object(internal.v)(div),if_block&&if_block.d()}}}function RedactPane_svelte_instance($$self,$$props,$$invalidate){let $layout;return Object(internal.o)($$self,layout.n,$$value=>$$invalidate(0,$layout=$$value)),[$layout]}class RedactPane_svelte_RedactPane extends internal.b{constructor(options){super(),Object(internal.G)(this,options,RedactPane_svelte_instance,RedactPane_svelte_create_fragment,internal.T,{})}}var RedactPane_svelte=RedactPane_svelte_RedactPane;function AnnotatePane_svelte_create_fragment(ctx){let h3,t1,p;return{c(){h3=Object(internal.w)("h3"),h3.textContent="Annotate Document",t1=Object(internal.ab)(),p=Object(internal.w)("p"),p.textContent="Highlight a portion of the page, or click between pages to create a note."},m(target,anchor){Object(internal.H)(target,h3,anchor),Object(internal.H)(target,t1,anchor),Object(internal.H)(target,p,anchor)},p:internal.M,i:internal.M,o:internal.M,d(detaching){detaching&&Object(internal.v)(h3),detaching&&Object(internal.v)(t1),detaching&&Object(internal.v)(p)}}}class AnnotatePane_svelte_AnnotatePane extends internal.b{constructor(options){super(),Object(internal.G)(this,options,null,AnnotatePane_svelte_create_fragment,internal.T,{})}}var AnnotatePane_svelte=AnnotatePane_svelte_AnnotatePane;__webpack_require__(108),__webpack_require__(252);function SearchPane_svelte_get_each_context(ctx,list,i){const child_ctx=ctx.slice();return child_ctx[2]=list[i],child_ctx}function SearchPane_svelte_create_if_block(ctx){let div1,b,t0,em,t1,t2,t3,t4,div0,t1_value=ctx[0].search+"",t3_value=Object(string.d)(ctx[0].searchPages.length,"page")+"",each_value=ctx[0].searchPages,each_blocks=[];for(let i=0;i<each_value.length;i+=1)each_blocks[i]=SearchPane_svelte_create_each_block(SearchPane_svelte_get_each_context(ctx,each_value,i));return{c(){div1=Object(internal.w)("div"),b=Object(internal.w)("b"),t0=Object(internal.db)("Your query\n      "),em=Object(internal.w)("em"),t1=Object(internal.db)(t1_value),t2=Object(internal.db)("\n      was found on "),t3=Object(internal.db)(t3_value),t4=Object(internal.ab)(),div0=Object(internal.w)("div");for(let i=0;i<each_blocks.length;i+=1)each_blocks[i].c();Object(internal.i)(em,"class","svelte-btthdh"),Object(internal.i)(div0,"class","hist")},m(target,anchor){Object(internal.H)(target,div1,anchor),Object(internal.g)(div1,b),Object(internal.g)(b,t0),Object(internal.g)(b,em),Object(internal.g)(em,t1),Object(internal.g)(b,t2),Object(internal.g)(b,t3),Object(internal.g)(div1,t4),Object(internal.g)(div1,div0);for(let i=0;i<each_blocks.length;i+=1)each_blocks[i].m(div0,null)},p(ctx,dirty){if(1&dirty&&t1_value!==(t1_value=ctx[0].search+"")&&Object(internal.W)(t1,t1_value),1&dirty&&t3_value!==(t3_value=Object(string.d)(ctx[0].searchPages.length,"page")+"")&&Object(internal.W)(t3,t3_value),1&dirty){let i;for(each_value=ctx[0].searchPages,i=0;i<each_value.length;i+=1){const child_ctx=SearchPane_svelte_get_each_context(ctx,each_value,i);each_blocks[i]?each_blocks[i].p(child_ctx,dirty):(each_blocks[i]=SearchPane_svelte_create_each_block(child_ctx),each_blocks[i].c(),each_blocks[i].m(div0,null))}for(;i<each_blocks.length;i+=1)each_blocks[i].d(1);each_blocks.length=each_value.length}},d(detaching){detaching&&Object(internal.v)(div1),Object(internal.u)(each_blocks,detaching)}}}function SearchPane_svelte_create_each_block(ctx){let div,t0,t1,t2,t0_value=ctx[2].page+"",t2_value=ctx[2].count+"";return{c(){div=Object(internal.w)("div"),t0=Object(internal.db)(t0_value),t1=Object(internal.ab)(),t2=Object(internal.db)(t2_value),Object(internal.i)(div,"class","page")},m(target,anchor){Object(internal.H)(target,div,anchor),Object(internal.g)(div,t0),Object(internal.g)(div,t1),Object(internal.g)(div,t2)},p(ctx,dirty){1&dirty&&t0_value!==(t0_value=ctx[2].page+"")&&Object(internal.W)(t0,t0_value),1&dirty&&t2_value!==(t2_value=ctx[2].count+"")&&Object(internal.W)(t2,t2_value)},d(detaching){detaching&&Object(internal.v)(div)}}}function SearchPane_svelte_create_fragment(ctx){let if_block_anchor,if_block=null!=ctx[0].searchPages&&SearchPane_svelte_create_if_block(ctx);return{c(){if_block&&if_block.c(),if_block_anchor=Object(internal.x)()},m(target,anchor){if_block&&if_block.m(target,anchor),Object(internal.H)(target,if_block_anchor,anchor)},p(ctx,[dirty]){null!=ctx[0].searchPages?if_block?if_block.p(ctx,dirty):(if_block=SearchPane_svelte_create_if_block(ctx),if_block.c(),if_block.m(if_block_anchor.parentNode,if_block_anchor)):if_block&&(if_block.d(1),if_block=null)},i:internal.M,o:internal.M,d(detaching){if_block&&if_block.d(detaching),detaching&&Object(internal.v)(if_block_anchor)}}}function SearchPane_svelte_instance($$self,$$props,$$invalidate){let maxHits,$layout;return Object(internal.o)($$self,layout.n,$$value=>$$invalidate(0,$layout=$$value)),$$self.$$.update=()=>{1&$$self.$$.dirty&&(maxHits=null==$layout.searchPages?null:Math.max($layout.searchPages.map(page=>page.count)))},[$layout]}class SearchPane_svelte_SearchPane extends internal.b{constructor(options){super(),Object(internal.G)(this,options,SearchPane_svelte_instance,SearchPane_svelte_create_fragment,internal.T,{})}}var pane_SearchPane_svelte=SearchPane_svelte_SearchPane;function SelectNotePane_svelte_create_fragment(ctx){let h3,t1,p;return{c(){h3=Object(internal.w)("h3"),h3.textContent="Select a note",t1=Object(internal.ab)(),p=Object(internal.w)("p"),p.textContent="Select the annotation that you want to share."},m(target,anchor){Object(internal.H)(target,h3,anchor),Object(internal.H)(target,t1,anchor),Object(internal.H)(target,p,anchor)},p:internal.M,i:internal.M,o:internal.M,d(detaching){detaching&&Object(internal.v)(h3),detaching&&Object(internal.v)(t1),detaching&&Object(internal.v)(p)}}}class SelectNotePane_svelte_SelectNotePane extends internal.b{constructor(options){super(),Object(internal.G)(this,options,null,SelectNotePane_svelte_create_fragment,internal.T,{})}}var SelectNotePane_svelte=SelectNotePane_svelte_SelectNotePane,assets_close=__webpack_require__(148),close_default=__webpack_require__.n(assets_close);__webpack_require__(253);function ActionPane_svelte_create_if_block(ctx){let div2,div0,span,t,div1,current_block_type_index,if_block,div2_resize_listener,current,mounted,dispose;const if_block_creators=[ActionPane_svelte_create_if_block_1,ActionPane_svelte_create_if_block_2,ActionPane_svelte_create_if_block_3,ActionPane_svelte_create_if_block_4],if_blocks=[];function select_block_type(ctx,dirty){return ctx[1].selectNoteEmbed?0:ctx[1].redacting?1:ctx[1].annotating?2:ctx[1].searching?3:-1}return~(current_block_type_index=select_block_type(ctx))&&(if_block=if_blocks[current_block_type_index]=if_block_creators[current_block_type_index](ctx)),{c(){div2=Object(internal.w)("div"),div0=Object(internal.w)("div"),span=Object(internal.w)("span"),t=Object(internal.ab)(),div1=Object(internal.w)("div"),if_block&&if_block.c(),Object(internal.i)(div0,"class","actionclose svelte-se8s6p"),Object(internal.i)(div1,"class","actioncontent svelte-se8s6p"),Object(internal.i)(div2,"class","actionpane svelte-se8s6p"),Object(internal.Z)(div2,"top",ctx[1].headerHeight+"px"),Object(internal.Z)(div2,"right",ctx[1].sidebarWidth+"px"),Object(internal.e)(()=>ctx[3].call(div2))},m(target,anchor){Object(internal.H)(target,div2,anchor),Object(internal.g)(div2,div0),Object(internal.g)(div0,span),span.innerHTML=close_default.a,Object(internal.g)(div2,t),Object(internal.g)(div2,div1),~current_block_type_index&&if_blocks[current_block_type_index].m(div1,null),div2_resize_listener=Object(internal.f)(div2,ctx[3].bind(div2)),current=!0,mounted||(dispose=Object(internal.J)(span,"click",layout.c),mounted=!0)},p(ctx,dirty){let previous_block_index=current_block_type_index;current_block_type_index=select_block_type(ctx),current_block_type_index!==previous_block_index&&(if_block&&(Object(internal.E)(),Object(internal.ib)(if_blocks[previous_block_index],1,1,()=>{if_blocks[previous_block_index]=null}),Object(internal.n)()),~current_block_type_index?(if_block=if_blocks[current_block_type_index],if_block||(if_block=if_blocks[current_block_type_index]=if_block_creators[current_block_type_index](ctx),if_block.c()),Object(internal.hb)(if_block,1),if_block.m(div1,null)):if_block=null),(!current||2&dirty)&&Object(internal.Z)(div2,"top",ctx[1].headerHeight+"px"),(!current||2&dirty)&&Object(internal.Z)(div2,"right",ctx[1].sidebarWidth+"px")},i(local){current||(Object(internal.hb)(if_block),current=!0)},o(local){Object(internal.ib)(if_block),current=!1},d(detaching){detaching&&Object(internal.v)(div2),~current_block_type_index&&if_blocks[current_block_type_index].d(),div2_resize_listener(),mounted=!1,dispose()}}}function ActionPane_svelte_create_if_block_4(ctx){let searchpane,current;return searchpane=new pane_SearchPane_svelte({}),{c(){Object(internal.r)(searchpane.$$.fragment)},m(target,anchor){Object(internal.L)(searchpane,target,anchor),current=!0},i(local){current||(Object(internal.hb)(searchpane.$$.fragment,local),current=!0)},o(local){Object(internal.ib)(searchpane.$$.fragment,local),current=!1},d(detaching){Object(internal.t)(searchpane,detaching)}}}function ActionPane_svelte_create_if_block_3(ctx){let annotatepane,current;return annotatepane=new AnnotatePane_svelte({}),{c(){Object(internal.r)(annotatepane.$$.fragment)},m(target,anchor){Object(internal.L)(annotatepane,target,anchor),current=!0},i(local){current||(Object(internal.hb)(annotatepane.$$.fragment,local),current=!0)},o(local){Object(internal.ib)(annotatepane.$$.fragment,local),current=!1},d(detaching){Object(internal.t)(annotatepane,detaching)}}}function ActionPane_svelte_create_if_block_2(ctx){let redactpane,current;return redactpane=new RedactPane_svelte({}),{c(){Object(internal.r)(redactpane.$$.fragment)},m(target,anchor){Object(internal.L)(redactpane,target,anchor),current=!0},i(local){current||(Object(internal.hb)(redactpane.$$.fragment,local),current=!0)},o(local){Object(internal.ib)(redactpane.$$.fragment,local),current=!1},d(detaching){Object(internal.t)(redactpane,detaching)}}}function ActionPane_svelte_create_if_block_1(ctx){let selectnotepane,current;return selectnotepane=new SelectNotePane_svelte({}),{c(){Object(internal.r)(selectnotepane.$$.fragment)},m(target,anchor){Object(internal.L)(selectnotepane,target,anchor),current=!0},i(local){current||(Object(internal.hb)(selectnotepane.$$.fragment,local),current=!0)},o(local){Object(internal.ib)(selectnotepane.$$.fragment,local),current=!1},d(detaching){Object(internal.t)(selectnotepane,detaching)}}}function ActionPane_svelte_create_fragment(ctx){let if_block_anchor,current,mounted,dispose,if_block=null!=ctx[1].action&&ActionPane_svelte_create_if_block(ctx);return{c(){if_block&&if_block.c(),if_block_anchor=Object(internal.x)()},m(target,anchor){if_block&&if_block.m(target,anchor),Object(internal.H)(target,if_block_anchor,anchor),current=!0,mounted||(dispose=Object(internal.J)(window,"keydown",ctx[2]),mounted=!0)},p(ctx,[dirty]){null!=ctx[1].action?if_block?(if_block.p(ctx,dirty),2&dirty&&Object(internal.hb)(if_block,1)):(if_block=ActionPane_svelte_create_if_block(ctx),if_block.c(),Object(internal.hb)(if_block,1),if_block.m(if_block_anchor.parentNode,if_block_anchor)):if_block&&(Object(internal.E)(),Object(internal.ib)(if_block,1,1,()=>{if_block=null}),Object(internal.n)())},i(local){current||(Object(internal.hb)(if_block),current=!0)},o(local){Object(internal.ib)(if_block),current=!1},d(detaching){if_block&&if_block.d(detaching),detaching&&Object(internal.v)(if_block_anchor),mounted=!1,dispose()}}}function ActionPane_svelte_instance($$self,$$props,$$invalidate){let $layout;Object(internal.o)($$self,layout.n,$$value=>$$invalidate(1,$layout=$$value));let{actionHeight:actionHeight}=$$props;return $$self.$$set=$$props=>{"actionHeight"in $$props&&$$invalidate(0,actionHeight=$$props.actionHeight)},[actionHeight,$layout,function(e){"Escape"==e.key&&Object(layout.c)()},function(){actionHeight=this.clientHeight,$$invalidate(0,actionHeight)}]}class ActionPane_svelte_ActionPane extends internal.b{constructor(options){super(),Object(internal.G)(this,options,ActionPane_svelte_instance,ActionPane_svelte_create_fragment,internal.T,{actionHeight:0})}}var pane_ActionPane_svelte=ActionPane_svelte_ActionPane,actions=__webpack_require__(130);__webpack_require__(254);const{window:window_1}=internal.D;function Body_svelte_create_if_block(ctx){let searchresults,current;return searchresults=new viewer_SearchResults_svelte({}),{c(){Object(internal.r)(searchresults.$$.fragment)},m(target,anchor){Object(internal.L)(searchresults,target,anchor),current=!0},i(local){current||(Object(internal.hb)(searchresults.$$.fragment,local),current=!0)},o(local){Object(internal.ib)(searchresults.$$.fragment,local),current=!1},d(detaching){Object(internal.t)(searchresults,detaching)}}}function Body_svelte_create_fragment(ctx){let actionpane,updating_actionHeight,t,div,current,mounted,dispose;function actionpane_actionHeight_binding(value){ctx[11].call(null,value)}let actionpane_props={};void 0!==ctx[1]&&(actionpane_props.actionHeight=ctx[1]),actionpane=new pane_ActionPane_svelte({props:actionpane_props}),internal.l.push(()=>Object(internal.k)(actionpane,"actionHeight",actionpane_actionHeight_binding));let if_block="search"==ctx[3].mode&&Body_svelte_create_if_block();return{c(){Object(internal.r)(actionpane.$$.fragment),t=Object(internal.ab)(),div=Object(internal.w)("div"),if_block&&if_block.c(),Object(internal.Z)(div,"top",ctx[2].headerHeight+ctx[4]+"px"),Object(internal.Z)(div,"bottom",ctx[2].footerHeight+"px"),Object(internal.Z)(div,"right",ctx[2].sidebarWidth+"px"),Object(internal.i)(div,"class","doc svelte-1mxohpu"),Object(internal.gb)(div,"grayed",ctx[2].displayAnnotate||ctx[2].selectNoteEmbed)},m(target,anchor){Object(internal.L)(actionpane,target,anchor),Object(internal.H)(target,t,anchor),Object(internal.H)(target,div,anchor),if_block&&if_block.m(div,null),ctx[12](div),current=!0,mounted||(dispose=[Object(internal.J)(window_1,"gesturestart",Object(internal.R)(ctx[8])),Object(internal.J)(window_1,"gesturechange",Object(internal.R)(ctx[9])),Object(internal.J)(window_1,"gestureend",Object(internal.R)(ctx[10])),Object(internal.J)(window_1,"keypress",ctx[6]),Object(internal.J)(div,"mousedown",ctx[5])],mounted=!0)},p(ctx,[dirty]){const actionpane_changes={};!updating_actionHeight&&2&dirty&&(updating_actionHeight=!0,actionpane_changes.actionHeight=ctx[1],Object(internal.d)(()=>updating_actionHeight=!1)),actionpane.$set(actionpane_changes),"search"==ctx[3].mode?if_block?8&dirty&&Object(internal.hb)(if_block,1):(if_block=Body_svelte_create_if_block(),if_block.c(),Object(internal.hb)(if_block,1),if_block.m(div,null)):if_block&&(Object(internal.E)(),Object(internal.ib)(if_block,1,1,()=>{if_block=null}),Object(internal.n)()),(!current||20&dirty)&&Object(internal.Z)(div,"top",ctx[2].headerHeight+ctx[4]+"px"),(!current||4&dirty)&&Object(internal.Z)(div,"bottom",ctx[2].footerHeight+"px"),(!current||4&dirty)&&Object(internal.Z)(div,"right",ctx[2].sidebarWidth+"px"),4&dirty&&Object(internal.gb)(div,"grayed",ctx[2].displayAnnotate||ctx[2].selectNoteEmbed)},i(local){current||(Object(internal.hb)(actionpane.$$.fragment,local),Object(internal.hb)(if_block),current=!0)},o(local){Object(internal.ib)(actionpane.$$.fragment,local),Object(internal.ib)(if_block),current=!1},d(detaching){Object(internal.t)(actionpane,detaching),detaching&&Object(internal.v)(t),detaching&&Object(internal.v)(div),if_block&&if_block.d(),ctx[12](null),mounted=!1,Object(internal.S)(dispose)}}}function Body_svelte_instance($$self,$$props,$$invalidate){let actionOffset,$layout,$doc,docElem,actionHeight;function destroyScrollzoom(){null!=viewer_document.b.scrollzoom&&(viewer_document.b.scrollzoom.destroy(),viewer_document.b.scrollzoom=null)}function setupScrollzoom(){const components=viewer_document.b.pages.map(page=>{let renderedComponent={component:null};const destroy=()=>{null!=renderedComponent.component&&renderedComponent.component.$destroy(),renderedComponent.component=null};return{component:{render({x:x,y:y,width:width,height:height,docHeight:docHeight}){const div=document.createElement("div");return div.style.position="absolute",div.style.left=x+"px",div.style.top=y+"px",div.style.width=width+"px",div.style.height=height+"px",viewer_document.b.docHeight=docHeight,viewer_document.b.viewerWidth=width,viewer_document.b.viewerScale=width/viewer_document.b.layout.pageWidth,div.style.boxSizing="border-box",destroy(),renderedComponent.component=new Page_svelte({target:div,props:{page:page,x:x,y:y,width:width,height:height,callback:()=>{return pageNumber=page.pageNumber,void viewer_document.b.pageRendered(pageNumber);var pageNumber},scale:viewer_document.b.viewerScale,resizeCallback(extraHeight,width){!async function(page,extraHeight,width){if(null==docElem||null==viewer_document.b.scrollzoom)return;viewer_document.b.scrollzoom.transform.setScaleOffset(0,extraHeight*width);if(viewer_document.b.extraHeights[page.pageNumber]-extraHeight==0)return;const topPosition=viewer_document.b.scrollzoom.components[page.pageNumber].y-docElem.scrollTop,prevHeight=viewer_document.b.scrollzoom.components[page.pageNumber].height;if(viewer_document.b.setExtraHeight(page.pageNumber,extraHeight),await Object(svelte.e)(),prevHeight!=viewer_document.b.pages[page.pageNumber].position[3]-viewer_document.b.pages[page.pageNumber].position[1]){const newDelta=viewer_document.b.pages[page.pageNumber].position[3]-viewer_document.b.pages[page.pageNumber].position[1]-prevHeight;viewer_document.b.scrollzoom.components[page.pageNumber].height=viewer_document.b.pages[page.pageNumber].position[3]-viewer_document.b.pages[page.pageNumber].position[1];for(let i=page.pageNumber+1;i<viewer_document.b.pages.length;i++)viewer_document.b.scrollzoom.components[i].y=viewer_document.b.pages[i].position[1];viewer_document.b.updateScrollZoom(),topPosition<0&&setTimeout(()=>$$invalidate(0,docElem.scrollTop+=newDelta*viewer_document.b.scrollzoom.transform.matrix[0],docElem),0)}}(page,extraHeight,width)}}}),div},update(div,{x:x,y:y,width:width,height:height,docHeight:docHeight}){div.style.left=x+"px",div.style.top=y+"px",div.style.width=width+"px",div.style.height=height+"px",viewer_document.b.docHeight=docHeight,viewer_document.b.viewerWidth=width,viewer_document.b.viewerScale=width/viewer_document.b.layout.pageWidth,null!=renderedComponent.component&&renderedComponent.component.$set({x:x,y:y,width:width,height:height,scale:viewer_document.b.viewerScale})},destroy(){var pageNumber;destroy(),pageNumber=page.pageNumber,viewer_document.b.pageDestroyed(pageNumber)}},x:page.position[0],y:page.position[1],width:page.position[2]-page.position[0],height:page.position[3]-page.position[1],page:page,renderedComponent:renderedComponent}});destroyScrollzoom(),viewer_document.b.scrollzoom=new main.a(docElem,{components:components,width:viewer_document.b.containerWidth,height:viewer_document.b.containerHeight,changeCallback(){const renderedComponents=Object.values(this.renderedComponents);if(0==renderedComponents.length)return;const components=renderedComponents.sort((a,b)=>a.page.pageNumber-b.page.pageNumber);viewer_document.b.visiblePageNumber=components[0].page.pageNumber+1}}),viewer_document.b.docElem=docElem}Object(internal.o)($$self,layout.n,$$value=>$$invalidate(2,$layout=$$value)),Object(internal.o)($$self,viewer_document.b,$$value=>$$invalidate(3,$doc=$$value));let initialized=!1;function handlePinch(e){const target=e.target;!e.ctrlKey||target==docElem||docElem.contains&&docElem.contains(target)||null!=window.visualViewport&&window.visualViewport.scale>1||e.preventDefault()}const styles=[["touchAction","pan-x pan-y"],["overscrollBehavior","none"],["position","fixed"],["overflow","hidden"]],elements=[document.documentElement,document.body],prevStyles=styles.map(()=>"");return Object(svelte.d)(()=>{for(let i=0;i<styles.length;i++)elements.forEach(element=>{prevStyles[i]=element.style,element.style[styles[i][0]]=styles[i][1]});document.body.addEventListener("wheel",handlePinch,{passive:!1})}),Object(svelte.c)(()=>{for(let i=0;i<styles.length;i++)elements.forEach(element=>{element.style[styles[i][0]]=prevStyles[i]});document.body.removeEventListener("wheel",handlePinch,{passive:!1}),destroyScrollzoom()}),$$self.$$.update=()=>{6&$$self.$$.dirty&&$$invalidate(4,actionOffset=null==actionHeight||null==$layout.action?0:actionHeight),137&$$self.$$.dirty&&!initialized&&$doc.pages.length>0&&null!=docElem&&($$invalidate(7,initialized=!0),setupScrollzoom(),viewer_document.b.containerWidth>docElem.offsetWidth&&viewer_document.b.zoomWidth(),Object(svelte.e)().then(()=>setTimeout(()=>Object(layout.m)(),0)))},[docElem,actionHeight,$layout,$doc,actionOffset,function(e){if($layout.displayAnnotate){if(function elementOrAncestorsHasExtraContent(elem){return!(null==elem.className||!elem.className.includes("extrapagecontent")&&!elem.className.includes("insert"))||null!=elem.parentNode&&elementOrAncestorsHasExtraContent(elem.parentNode)}(e.target))return;Object(layout.d)()}},function(e){e.ctrlKey||e.metaKey||e.altKey||e.shiftKey||layout.n.disableControls||layout.n.searchExpanded||layout.n.dialogShown||("a"==e.key?Object(actions.a)():"r"==e.key?Object(actions.d)():"s"==e.key&&Object(actions.e)())},initialized,function(event){Object(internal.m)($$self,event)},function(event){Object(internal.m)($$self,event)},function(event){Object(internal.m)($$self,event)},function(value){actionHeight=value,$$invalidate(1,actionHeight)},function($$value){internal.l[$$value?"unshift":"push"](()=>{docElem=$$value,$$invalidate(0,docElem)})}]}class Body_svelte_Body extends internal.b{constructor(options){super(),Object(internal.G)(this,options,Body_svelte_instance,Body_svelte_create_fragment,internal.T,{})}}var viewer_Body_svelte=Body_svelte_Body,session=__webpack_require__(2);__webpack_require__(255);function AllText_svelte_get_each_context(ctx,list,i){const child_ctx=ctx.slice();return child_ctx[11]=list[i],child_ctx[13]=i,child_ctx}function AllText_svelte_create_each_block(ctx){let div2,div1,div0,a,t0,t1,a_href_value,div0_id_value,showIfFullyVisible_action,t2,textpage,t3,current,mounted,dispose,t1_value=ctx[13]+1+"";return textpage=new common_TextPage_svelte({props:{text:ctx[11].contents,highlights:null!=ctx[2].searchHighlights?ctx[2].searchHighlights[ctx[13]]:null}}),{c(){div2=Object(internal.w)("div"),div1=Object(internal.w)("div"),div0=Object(internal.w)("div"),a=Object(internal.w)("a"),t0=Object(internal.db)("p."),t1=Object(internal.db)(t1_value),t2=Object(internal.ab)(),Object(internal.r)(textpage.$$.fragment),t3=Object(internal.ab)(),Object(internal.i)(a,"href",a_href_value="#"+(ctx[13]+1)),Object(internal.i)(a,"class","svelte-1e2zgq3"),Object(internal.i)(div0,"id",div0_id_value=ctx[13]+1),Object(internal.i)(div0,"class","number svelte-1e2zgq3"),Object(internal.i)(div1,"class","numbercontainer svelte-1e2zgq3"),Object(internal.i)(div2,"class","page svelte-1e2zgq3")},m(target,anchor){Object(internal.H)(target,div2,anchor),Object(internal.g)(div2,div1),Object(internal.g)(div1,div0),Object(internal.g)(div0,a),Object(internal.g)(a,t0),Object(internal.g)(a,t1),Object(internal.g)(div2,t2),Object(internal.L)(textpage,div2,null),Object(internal.g)(div2,t3),current=!0,mounted||(dispose=Object(internal.c)(showIfFullyVisible_action=showIfFullyVisible.call(null,div0)),mounted=!0)},p(ctx,dirty){const textpage_changes={};2&dirty&&(textpage_changes.text=ctx[11].contents),4&dirty&&(textpage_changes.highlights=null!=ctx[2].searchHighlights?ctx[2].searchHighlights[ctx[13]]:null),textpage.$set(textpage_changes)},i(local){current||(Object(internal.hb)(textpage.$$.fragment,local),current=!0)},o(local){Object(internal.ib)(textpage.$$.fragment,local),current=!1},d(detaching){detaching&&Object(internal.v)(div2),Object(internal.t)(textpage),mounted=!1,dispose()}}}function AllText_svelte_create_fragment(ctx){let div,current,each_value=ctx[1],each_blocks=[];for(let i=0;i<each_value.length;i+=1)each_blocks[i]=AllText_svelte_create_each_block(AllText_svelte_get_each_context(ctx,each_value,i));const out=i=>Object(internal.ib)(each_blocks[i],1,1,()=>{each_blocks[i]=null});return{c(){div=Object(internal.w)("div");for(let i=0;i<each_blocks.length;i+=1)each_blocks[i].c();Object(internal.i)(div,"class","doc svelte-1e2zgq3")},m(target,anchor){Object(internal.H)(target,div,anchor);for(let i=0;i<each_blocks.length;i+=1)each_blocks[i].m(div,null);ctx[9](div),current=!0},p(ctx,[dirty]){if(6&dirty){let i;for(each_value=ctx[1],i=0;i<each_value.length;i+=1){const child_ctx=AllText_svelte_get_each_context(ctx,each_value,i);each_blocks[i]?(each_blocks[i].p(child_ctx,dirty),Object(internal.hb)(each_blocks[i],1)):(each_blocks[i]=AllText_svelte_create_each_block(child_ctx),each_blocks[i].c(),Object(internal.hb)(each_blocks[i],1),each_blocks[i].m(div,null))}for(Object(internal.E)(),i=each_value.length;i<each_blocks.length;i+=1)out(i);Object(internal.n)()}},i(local){if(!current){for(let i=0;i<each_value.length;i+=1)Object(internal.hb)(each_blocks[i]);current=!0}},o(local){each_blocks=each_blocks.filter(Boolean);for(let i=0;i<each_blocks.length;i+=1)Object(internal.ib)(each_blocks[i]);current=!1},d(detaching){detaching&&Object(internal.v)(div),Object(internal.u)(each_blocks,detaching),ctx[9](null)}}}function AllText_svelte_instance($$self,$$props,$$invalidate){let pages,topPage,$viewer,$layout;Object(internal.o)($$self,viewer.d,$$value=>$$invalidate(7,$viewer=$$value)),Object(internal.o)($$self,layout.n,$$value=>$$invalidate(2,$layout=$$value));let docElem,textDoc=null,loading=!1,{scrollParams:scrollParams}=$$props;return $$self.$$set=$$props=>{"scrollParams"in $$props&&$$invalidate(3,scrollParams=$$props.scrollParams)},$$self.$$.update=()=>{8&$$self.$$.dirty&&$$invalidate(8,topPage=function(scrollParams){if(null==docElem)return 0;for(let i=0;i<docElem.children.length;i++)if(docElem.children[i].offsetTop+docElem.children[i].offsetHeight>scrollParams.scrollTop)return i;return docElem.children.length-1}(scrollParams)),256&$$self.$$.dirty&&$$invalidate(4,viewer_document.b.visiblePageNumber=topPage+1,viewer_document.b),240&$$self.$$.dirty&&(null==$viewer.document||null!=textDoc||loading||($$invalidate(6,loading=!0),(async()=>{$$invalidate(5,textDoc=await session.b.getStatic(Object(api_viewer.a)(viewer.d.document))),$$invalidate(6,loading=!1),await Object(svelte.e)(),viewer_document.b.jumpToTextJump()})())),32&$$self.$$.dirty&&$$invalidate(1,pages=null==textDoc?[]:textDoc.pages)},[docElem,pages,$layout,scrollParams,viewer_document.b,textDoc,loading,$viewer,topPage,function($$value){internal.l[$$value?"unshift":"push"](()=>{docElem=$$value,$$invalidate(0,docElem)})}]}class AllText_svelte_AllText extends internal.b{constructor(options){super(),Object(internal.G)(this,options,AllText_svelte_instance,AllText_svelte_create_fragment,internal.T,{scrollParams:3})}}var viewer_AllText_svelte=AllText_svelte_AllText;__webpack_require__(256);function SimpleBody_svelte_create_if_block_1(ctx){let searchresults,current;return searchresults=new viewer_SearchResults_svelte({}),{c(){Object(internal.r)(searchresults.$$.fragment)},m(target,anchor){Object(internal.L)(searchresults,target,anchor),current=!0},p:internal.M,i(local){current||(Object(internal.hb)(searchresults.$$.fragment,local),current=!0)},o(local){Object(internal.ib)(searchresults.$$.fragment,local),current=!1},d(detaching){Object(internal.t)(searchresults,detaching)}}}function SimpleBody_svelte_create_if_block(ctx){let alltext,current;return alltext=new viewer_AllText_svelte({props:{scrollParams:ctx[1]}}),{c(){Object(internal.r)(alltext.$$.fragment)},m(target,anchor){Object(internal.L)(alltext,target,anchor),current=!0},p(ctx,dirty){const alltext_changes={};2&dirty&&(alltext_changes.scrollParams=ctx[1]),alltext.$set(alltext_changes)},i(local){current||(Object(internal.hb)(alltext.$$.fragment,local),current=!0)},o(local){Object(internal.ib)(alltext.$$.fragment,local),current=!1},d(detaching){Object(internal.t)(alltext,detaching)}}}function SimpleBody_svelte_create_fragment(ctx){let div,current_block_type_index,if_block,current,mounted,dispose;const if_block_creators=[SimpleBody_svelte_create_if_block,SimpleBody_svelte_create_if_block_1],if_blocks=[];function select_block_type(ctx,dirty){return"text"==ctx[3].mode?0:"search"==ctx[3].mode?1:-1}return~(current_block_type_index=select_block_type(ctx))&&(if_block=if_blocks[current_block_type_index]=if_block_creators[current_block_type_index](ctx)),{c(){div=Object(internal.w)("div"),if_block&&if_block.c(),Object(internal.Z)(div,"top",ctx[2].headerHeight+"px"),Object(internal.Z)(div,"bottom",ctx[2].footerHeight+"px"),Object(internal.Z)(div,"right",ctx[2].sidebarWidth+"px"),Object(internal.i)(div,"class","doc svelte-1uxjg6f"),Object(internal.gb)(div,"grayed",ctx[2].displayAnnotate)},m(target,anchor){Object(internal.H)(target,div,anchor),~current_block_type_index&&if_blocks[current_block_type_index].m(div,null),ctx[5](div),current=!0,mounted||(dispose=Object(internal.J)(div,"scroll",ctx[4]),mounted=!0)},p(ctx,[dirty]){let previous_block_index=current_block_type_index;current_block_type_index=select_block_type(ctx),current_block_type_index===previous_block_index?~current_block_type_index&&if_blocks[current_block_type_index].p(ctx,dirty):(if_block&&(Object(internal.E)(),Object(internal.ib)(if_blocks[previous_block_index],1,1,()=>{if_blocks[previous_block_index]=null}),Object(internal.n)()),~current_block_type_index?(if_block=if_blocks[current_block_type_index],if_block?if_block.p(ctx,dirty):(if_block=if_blocks[current_block_type_index]=if_block_creators[current_block_type_index](ctx),if_block.c()),Object(internal.hb)(if_block,1),if_block.m(div,null)):if_block=null),(!current||4&dirty)&&Object(internal.Z)(div,"top",ctx[2].headerHeight+"px"),(!current||4&dirty)&&Object(internal.Z)(div,"bottom",ctx[2].footerHeight+"px"),(!current||4&dirty)&&Object(internal.Z)(div,"right",ctx[2].sidebarWidth+"px"),4&dirty&&Object(internal.gb)(div,"grayed",ctx[2].displayAnnotate)},i(local){current||(Object(internal.hb)(if_block),current=!0)},o(local){Object(internal.ib)(if_block),current=!1},d(detaching){detaching&&Object(internal.v)(div),~current_block_type_index&&if_blocks[current_block_type_index].d(),ctx[5](null),mounted=!1,dispose()}}}function SimpleBody_svelte_instance($$self,$$props,$$invalidate){let $layout,$doc,docElem;Object(internal.o)($$self,layout.n,$$value=>$$invalidate(2,$layout=$$value)),Object(internal.o)($$self,viewer_document.b,$$value=>$$invalidate(3,$doc=$$value));let scrollParams={scrollTop:0};return $$self.$$.update=()=>{1&$$self.$$.dirty&&null!=docElem&&(viewer_document.b.simpleDocElem=docElem)},[docElem,scrollParams,$layout,$doc,function(){$$invalidate(1,scrollParams={scrollTop:docElem.scrollTop})},function($$value){internal.l[$$value?"unshift":"push"](()=>{docElem=$$value,$$invalidate(0,docElem)})}]}class SimpleBody_svelte_SimpleBody extends internal.b{constructor(options){super(),Object(internal.G)(this,options,SimpleBody_svelte_instance,SimpleBody_svelte_create_fragment,internal.T,{})}}var viewer_SimpleBody_svelte=SimpleBody_svelte_SimpleBody;__webpack_require__(257);function NoteBody_svelte_get_each_context(ctx,list,i){const child_ctx=ctx.slice();return child_ctx[4]=list[i],child_ctx}function NoteBody_svelte_create_if_block(ctx){let each_1_anchor,current,each_value=ctx[2].orderedNotes,each_blocks=[];for(let i=0;i<each_value.length;i+=1)each_blocks[i]=NoteBody_svelte_create_each_block(NoteBody_svelte_get_each_context(ctx,each_value,i));const out=i=>Object(internal.ib)(each_blocks[i],1,1,()=>{each_blocks[i]=null});return{c(){for(let i=0;i<each_blocks.length;i+=1)each_blocks[i].c();each_1_anchor=Object(internal.x)()},m(target,anchor){for(let i=0;i<each_blocks.length;i+=1)each_blocks[i].m(target,anchor);Object(internal.H)(target,each_1_anchor,anchor),current=!0},p(ctx,dirty){if(7&dirty){let i;for(each_value=ctx[2].orderedNotes,i=0;i<each_value.length;i+=1){const child_ctx=NoteBody_svelte_get_each_context(ctx,each_value,i);each_blocks[i]?(each_blocks[i].p(child_ctx,dirty),Object(internal.hb)(each_blocks[i],1)):(each_blocks[i]=NoteBody_svelte_create_each_block(child_ctx),each_blocks[i].c(),Object(internal.hb)(each_blocks[i],1),each_blocks[i].m(each_1_anchor.parentNode,each_1_anchor))}for(Object(internal.E)(),i=each_value.length;i<each_blocks.length;i+=1)out(i);Object(internal.n)()}},i(local){if(!current){for(let i=0;i<each_value.length;i+=1)Object(internal.hb)(each_blocks[i]);current=!0}},o(local){each_blocks=each_blocks.filter(Boolean);for(let i=0;i<each_blocks.length;i+=1)Object(internal.ib)(each_blocks[i]);current=!1},d(detaching){Object(internal.u)(each_blocks,detaching),detaching&&Object(internal.v)(each_1_anchor)}}}function NoteBody_svelte_create_each_block(ctx){let annotation,current;return annotation=new viewer_Annotation_svelte({props:{page:{aspect:ctx[2].pageAspects[ctx[4].page],pageNumber:ctx[4].page,document:ctx[2].document},pageNote:!0,width:ctx[0],mode:ctx[1].annotateMode,aspect:ctx[2].pageAspects[ctx[4].page],showImageOnPageNote:!ctx[4].isPageNote,annotation:ctx[4]}}),{c(){Object(internal.r)(annotation.$$.fragment)},m(target,anchor){Object(internal.L)(annotation,target,anchor),current=!0},p(ctx,dirty){const annotation_changes={};4&dirty&&(annotation_changes.page={aspect:ctx[2].pageAspects[ctx[4].page],pageNumber:ctx[4].page,document:ctx[2].document}),1&dirty&&(annotation_changes.width=ctx[0]),2&dirty&&(annotation_changes.mode=ctx[1].annotateMode),4&dirty&&(annotation_changes.aspect=ctx[2].pageAspects[ctx[4].page]),4&dirty&&(annotation_changes.showImageOnPageNote=!ctx[4].isPageNote),4&dirty&&(annotation_changes.annotation=ctx[4]),annotation.$set(annotation_changes)},i(local){current||(Object(internal.hb)(annotation.$$.fragment,local),current=!0)},o(local){Object(internal.ib)(annotation.$$.fragment,local),current=!1},d(detaching){Object(internal.t)(annotation,detaching)}}}function NoteBody_svelte_create_fragment(ctx){let div1,div0,div0_resize_listener,current,if_block=null!=ctx[2].pageAspects&&NoteBody_svelte_create_if_block(ctx);return{c(){div1=Object(internal.w)("div"),div0=Object(internal.w)("div"),if_block&&if_block.c(),Object(internal.i)(div0,"class","notes svelte-eq2wq0"),Object(internal.e)(()=>ctx[3].call(div0)),Object(internal.Z)(div1,"top",ctx[1].headerHeight+"px"),Object(internal.Z)(div1,"bottom",ctx[1].footerHeight+"px"),Object(internal.Z)(div1,"right",ctx[1].sidebarWidth+"px"),Object(internal.i)(div1,"class","doc svelte-eq2wq0")},m(target,anchor){Object(internal.H)(target,div1,anchor),Object(internal.g)(div1,div0),if_block&&if_block.m(div0,null),div0_resize_listener=Object(internal.f)(div0,ctx[3].bind(div0)),current=!0},p(ctx,[dirty]){null!=ctx[2].pageAspects?if_block?(if_block.p(ctx,dirty),4&dirty&&Object(internal.hb)(if_block,1)):(if_block=NoteBody_svelte_create_if_block(ctx),if_block.c(),Object(internal.hb)(if_block,1),if_block.m(div0,null)):if_block&&(Object(internal.E)(),Object(internal.ib)(if_block,1,1,()=>{if_block=null}),Object(internal.n)()),(!current||2&dirty)&&Object(internal.Z)(div1,"top",ctx[1].headerHeight+"px"),(!current||2&dirty)&&Object(internal.Z)(div1,"bottom",ctx[1].footerHeight+"px"),(!current||2&dirty)&&Object(internal.Z)(div1,"right",ctx[1].sidebarWidth+"px")},i(local){current||(Object(internal.hb)(if_block),current=!0)},o(local){Object(internal.ib)(if_block),current=!1},d(detaching){detaching&&Object(internal.v)(div1),if_block&&if_block.d(),div0_resize_listener()}}}function NoteBody_svelte_instance($$self,$$props,$$invalidate){let $layout,$viewer;Object(internal.o)($$self,layout.n,$$value=>$$invalidate(1,$layout=$$value)),Object(internal.o)($$self,viewer.d,$$value=>$$invalidate(2,$viewer=$$value));let width=0;return[width,$layout,$viewer,function(){width=this.clientWidth,$$invalidate(0,width)}]}class NoteBody_svelte_NoteBody extends internal.b{constructor(options){super(),Object(internal.G)(this,options,NoteBody_svelte_instance,NoteBody_svelte_create_fragment,internal.T,{})}}var viewer_NoteBody_svelte=NoteBody_svelte_NoteBody,small_circle=__webpack_require__(258),small_circle_default=__webpack_require__.n(small_circle);__webpack_require__(259);function ContentItem_svelte_get_each_context(ctx,list,i){const child_ctx=ctx.slice();return child_ctx[9]=list[i],child_ctx}function ContentItem_svelte_create_else_block_1(ctx){let a,div,nowhitespace,hoveredNote_action,a_href_value,current,mounted,dispose;return nowhitespace=new NoWhitespace_svelte.a({props:{$$slots:{default:[ContentItem_svelte_create_default_slot_3]},$$scope:{ctx:ctx}}}),{c(){a=Object(internal.w)("a"),div=Object(internal.w)("div"),Object(internal.r)(nowhitespace.$$.fragment),Object(internal.i)(div,"class","note svelte-7s5eti"),Object(internal.gb)(div,"hover",ctx[0].note==ctx[3].hoveredNote),Object(internal.i)(a,"href",a_href_value=ctx[2](ctx[0].note))},m(target,anchor){Object(internal.H)(target,a,anchor),Object(internal.g)(a,div),Object(internal.L)(nowhitespace,div,null),current=!0,mounted||(dispose=[Object(internal.c)(hoveredNote_action=hoveredNote.call(null,div,ctx[0].note)),Object(internal.J)(a,"click",ctx[8])],mounted=!0)},p(ctx,dirty){const nowhitespace_changes={};4097&dirty&&(nowhitespace_changes.$$scope={dirty:dirty,ctx:ctx}),nowhitespace.$set(nowhitespace_changes),hoveredNote_action&&Object(internal.I)(hoveredNote_action.update)&&1&dirty&&hoveredNote_action.update.call(null,ctx[0].note),9&dirty&&Object(internal.gb)(div,"hover",ctx[0].note==ctx[3].hoveredNote),(!current||5&dirty&&a_href_value!==(a_href_value=ctx[2](ctx[0].note)))&&Object(internal.i)(a,"href",a_href_value)},i(local){current||(Object(internal.hb)(nowhitespace.$$.fragment,local),current=!0)},o(local){Object(internal.ib)(nowhitespace.$$.fragment,local),current=!1},d(detaching){detaching&&Object(internal.v)(a),Object(internal.t)(nowhitespace),mounted=!1,Object(internal.S)(dispose)}}}function ContentItem_svelte_create_if_block(ctx){let current_block_type_index,if_block,if_block_anchor,current;const if_block_creators=[ContentItem_svelte_create_if_block_1,ContentItem_svelte_create_else_block],if_blocks=[];function select_block_type_1(ctx,dirty){return ctx[0].children.length>0?0:1}return current_block_type_index=select_block_type_1(ctx),if_block=if_blocks[current_block_type_index]=if_block_creators[current_block_type_index](ctx),{c(){if_block.c(),if_block_anchor=Object(internal.x)()},m(target,anchor){if_blocks[current_block_type_index].m(target,anchor),Object(internal.H)(target,if_block_anchor,anchor),current=!0},p(ctx,dirty){let previous_block_index=current_block_type_index;current_block_type_index=select_block_type_1(ctx),current_block_type_index===previous_block_index?if_blocks[current_block_type_index].p(ctx,dirty):(Object(internal.E)(),Object(internal.ib)(if_blocks[previous_block_index],1,1,()=>{if_blocks[previous_block_index]=null}),Object(internal.n)(),if_block=if_blocks[current_block_type_index],if_block?if_block.p(ctx,dirty):(if_block=if_blocks[current_block_type_index]=if_block_creators[current_block_type_index](ctx),if_block.c()),Object(internal.hb)(if_block,1),if_block.m(if_block_anchor.parentNode,if_block_anchor))},i(local){current||(Object(internal.hb)(if_block),current=!0)},o(local){Object(internal.ib)(if_block),current=!1},d(detaching){if_blocks[current_block_type_index].d(detaching),detaching&&Object(internal.v)(if_block_anchor)}}}function ContentItem_svelte_create_default_slot_3(ctx){let span0,t0,t1,span1,t3,span2,t4,t5,t0_value=ctx[0].note.title+"",t5_value=ctx[0].note.page+1+"";return{c(){span0=Object(internal.w)("span"),t0=Object(internal.db)(t0_value),t1=Object(internal.ab)(),span1=Object(internal.w)("span"),span1.textContent="",t3=Object(internal.ab)(),span2=Object(internal.w)("span"),t4=Object(internal.db)("p."),t5=Object(internal.db)(t5_value),Object(internal.i)(span0,"class","title svelte-7s5eti"),Object(internal.i)(span2,"class","page svelte-7s5eti")},m(target,anchor){Object(internal.H)(target,span0,anchor),Object(internal.g)(span0,t0),Object(internal.H)(target,t1,anchor),Object(internal.H)(target,span1,anchor),Object(internal.H)(target,t3,anchor),Object(internal.H)(target,span2,anchor),Object(internal.g)(span2,t4),Object(internal.g)(span2,t5)},p(ctx,dirty){1&dirty&&t0_value!==(t0_value=ctx[0].note.title+"")&&Object(internal.W)(t0,t0_value),1&dirty&&t5_value!==(t5_value=ctx[0].note.page+1+"")&&Object(internal.W)(t5,t5_value)},d(detaching){detaching&&Object(internal.v)(span0),detaching&&Object(internal.v)(t1),detaching&&Object(internal.v)(span1),detaching&&Object(internal.v)(t3),detaching&&Object(internal.v)(span2)}}}function ContentItem_svelte_create_else_block(ctx){let a,div,nowhitespace,a_href_value,current,mounted,dispose;return nowhitespace=new NoWhitespace_svelte.a({props:{$$slots:{default:[ContentItem_svelte_create_default_slot_2]},$$scope:{ctx:ctx}}}),{c(){a=Object(internal.w)("a"),div=Object(internal.w)("div"),Object(internal.r)(nowhitespace.$$.fragment),Object(internal.i)(div,"class","section svelte-7s5eti"),Object(internal.i)(a,"href",a_href_value=ctx[1](ctx[0].section.page))},m(target,anchor){Object(internal.H)(target,a,anchor),Object(internal.g)(a,div),Object(internal.L)(nowhitespace,div,null),current=!0,mounted||(dispose=Object(internal.J)(a,"click",ctx[7]),mounted=!0)},p(ctx,dirty){const nowhitespace_changes={};4097&dirty&&(nowhitespace_changes.$$scope={dirty:dirty,ctx:ctx}),nowhitespace.$set(nowhitespace_changes),(!current||3&dirty&&a_href_value!==(a_href_value=ctx[1](ctx[0].section.page)))&&Object(internal.i)(a,"href",a_href_value)},i(local){current||(Object(internal.hb)(nowhitespace.$$.fragment,local),current=!0)},o(local){Object(internal.ib)(nowhitespace.$$.fragment,local),current=!1},d(detaching){detaching&&Object(internal.v)(a),Object(internal.t)(nowhitespace),mounted=!1,dispose()}}}function ContentItem_svelte_create_if_block_1(ctx){let details,summary,a,nowhitespace,a_href_value,t,ul,current,mounted,dispose;nowhitespace=new NoWhitespace_svelte.a({props:{$$slots:{default:[ContentItem_svelte_create_default_slot_1]},$$scope:{ctx:ctx}}});let each_value=ctx[0].children,each_blocks=[];for(let i=0;i<each_value.length;i+=1)each_blocks[i]=ContentItem_svelte_create_each_block(ContentItem_svelte_get_each_context(ctx,each_value,i));const out=i=>Object(internal.ib)(each_blocks[i],1,1,()=>{each_blocks[i]=null});return{c(){details=Object(internal.w)("details"),summary=Object(internal.w)("summary"),a=Object(internal.w)("a"),Object(internal.r)(nowhitespace.$$.fragment),t=Object(internal.ab)(),ul=Object(internal.w)("ul");for(let i=0;i<each_blocks.length;i+=1)each_blocks[i].c();Object(internal.i)(a,"href",a_href_value=ctx[1](ctx[0].section.page)),Object(internal.i)(a,"class","section svelte-7s5eti"),Object(internal.i)(ul,"class","children svelte-7s5eti"),Object(internal.i)(details,"class","dc svelte-7s5eti"),details.open=!0},m(target,anchor){Object(internal.H)(target,details,anchor),Object(internal.g)(details,summary),Object(internal.g)(summary,a),Object(internal.L)(nowhitespace,a,null),Object(internal.g)(details,t),Object(internal.g)(details,ul);for(let i=0;i<each_blocks.length;i+=1)each_blocks[i].m(ul,null);current=!0,mounted||(dispose=Object(internal.J)(a,"click",ctx[6]),mounted=!0)},p(ctx,dirty){const nowhitespace_changes={};if(4097&dirty&&(nowhitespace_changes.$$scope={dirty:dirty,ctx:ctx}),nowhitespace.$set(nowhitespace_changes),(!current||3&dirty&&a_href_value!==(a_href_value=ctx[1](ctx[0].section.page)))&&Object(internal.i)(a,"href",a_href_value),1&dirty){let i;for(each_value=ctx[0].children,i=0;i<each_value.length;i+=1){const child_ctx=ContentItem_svelte_get_each_context(ctx,each_value,i);each_blocks[i]?(each_blocks[i].p(child_ctx,dirty),Object(internal.hb)(each_blocks[i],1)):(each_blocks[i]=ContentItem_svelte_create_each_block(child_ctx),each_blocks[i].c(),Object(internal.hb)(each_blocks[i],1),each_blocks[i].m(ul,null))}for(Object(internal.E)(),i=each_value.length;i<each_blocks.length;i+=1)out(i);Object(internal.n)()}},i(local){if(!current){Object(internal.hb)(nowhitespace.$$.fragment,local);for(let i=0;i<each_value.length;i+=1)Object(internal.hb)(each_blocks[i]);current=!0}},o(local){Object(internal.ib)(nowhitespace.$$.fragment,local),each_blocks=each_blocks.filter(Boolean);for(let i=0;i<each_blocks.length;i+=1)Object(internal.ib)(each_blocks[i]);current=!1},d(detaching){detaching&&Object(internal.v)(details),Object(internal.t)(nowhitespace),Object(internal.u)(each_blocks,detaching),mounted=!1,dispose()}}}function ContentItem_svelte_create_default_slot_2(ctx){let span0,t0,t1,span1,t3,span2,t4,t5,t0_value=ctx[0].section.title+"",t5_value=ctx[0].section.page+1+"";return{c(){span0=Object(internal.w)("span"),t0=Object(internal.db)(t0_value),t1=Object(internal.ab)(),span1=Object(internal.w)("span"),span1.textContent="",t3=Object(internal.ab)(),span2=Object(internal.w)("span"),t4=Object(internal.db)("p."),t5=Object(internal.db)(t5_value),Object(internal.i)(span0,"class","title svelte-7s5eti"),Object(internal.i)(span2,"class","page svelte-7s5eti")},m(target,anchor){Object(internal.H)(target,span0,anchor),Object(internal.g)(span0,t0),Object(internal.H)(target,t1,anchor),Object(internal.H)(target,span1,anchor),Object(internal.H)(target,t3,anchor),Object(internal.H)(target,span2,anchor),Object(internal.g)(span2,t4),Object(internal.g)(span2,t5)},p(ctx,dirty){1&dirty&&t0_value!==(t0_value=ctx[0].section.title+"")&&Object(internal.W)(t0,t0_value),1&dirty&&t5_value!==(t5_value=ctx[0].section.page+1+"")&&Object(internal.W)(t5,t5_value)},d(detaching){detaching&&Object(internal.v)(span0),detaching&&Object(internal.v)(t1),detaching&&Object(internal.v)(span1),detaching&&Object(internal.v)(t3),detaching&&Object(internal.v)(span2)}}}function ContentItem_svelte_create_default_slot_1(ctx){let span0,t0,t1,span1,t3,span2,t4,t5,t0_value=ctx[0].section.title+"",t5_value=ctx[0].section.page+1+"";return{c(){span0=Object(internal.w)("span"),t0=Object(internal.db)(t0_value),t1=Object(internal.ab)(),span1=Object(internal.w)("span"),span1.textContent="",t3=Object(internal.ab)(),span2=Object(internal.w)("span"),t4=Object(internal.db)("p."),t5=Object(internal.db)(t5_value),Object(internal.i)(span0,"class","title svelte-7s5eti"),Object(internal.i)(span2,"class","page svelte-7s5eti")},m(target,anchor){Object(internal.H)(target,span0,anchor),Object(internal.g)(span0,t0),Object(internal.H)(target,t1,anchor),Object(internal.H)(target,span1,anchor),Object(internal.H)(target,t3,anchor),Object(internal.H)(target,span2,anchor),Object(internal.g)(span2,t4),Object(internal.g)(span2,t5)},p(ctx,dirty){1&dirty&&t0_value!==(t0_value=ctx[0].section.title+"")&&Object(internal.W)(t0,t0_value),1&dirty&&t5_value!==(t5_value=ctx[0].section.page+1+"")&&Object(internal.W)(t5,t5_value)},d(detaching){detaching&&Object(internal.v)(span0),detaching&&Object(internal.v)(t1),detaching&&Object(internal.v)(span1),detaching&&Object(internal.v)(t3),detaching&&Object(internal.v)(span2)}}}function ContentItem_svelte_create_default_slot(ctx){let span0,t0,span1,t2,contentitem,current;return contentitem=new ContentItem_svelte_ContentItem({props:{sectionOrNote:ctx[9]}}),{c(){span0=Object(internal.w)("span"),t0=Object(internal.ab)(),span1=Object(internal.w)("span"),span1.textContent="",t2=Object(internal.ab)(),Object(internal.r)(contentitem.$$.fragment),Object(internal.i)(span0,"class","circle svelte-7s5eti")},m(target,anchor){Object(internal.H)(target,span0,anchor),span0.innerHTML=small_circle_default.a,Object(internal.H)(target,t0,anchor),Object(internal.H)(target,span1,anchor),Object(internal.H)(target,t2,anchor),Object(internal.L)(contentitem,target,anchor),current=!0},p(ctx,dirty){const contentitem_changes={};1&dirty&&(contentitem_changes.sectionOrNote=ctx[9]),contentitem.$set(contentitem_changes)},i(local){current||(Object(internal.hb)(contentitem.$$.fragment,local),current=!0)},o(local){Object(internal.ib)(contentitem.$$.fragment,local),current=!1},d(detaching){detaching&&Object(internal.v)(span0),detaching&&Object(internal.v)(t0),detaching&&Object(internal.v)(span1),detaching&&Object(internal.v)(t2),Object(internal.t)(contentitem,detaching)}}}function ContentItem_svelte_create_each_block(ctx){let li,nowhitespace,t,current;return nowhitespace=new NoWhitespace_svelte.a({props:{$$slots:{default:[ContentItem_svelte_create_default_slot]},$$scope:{ctx:ctx}}}),{c(){li=Object(internal.w)("li"),Object(internal.r)(nowhitespace.$$.fragment),t=Object(internal.ab)(),Object(internal.i)(li,"class","svelte-7s5eti")},m(target,anchor){Object(internal.H)(target,li,anchor),Object(internal.L)(nowhitespace,li,null),Object(internal.g)(li,t),current=!0},p(ctx,dirty){const nowhitespace_changes={};4097&dirty&&(nowhitespace_changes.$$scope={dirty:dirty,ctx:ctx}),nowhitespace.$set(nowhitespace_changes)},i(local){current||(Object(internal.hb)(nowhitespace.$$.fragment,local),current=!0)},o(local){Object(internal.ib)(nowhitespace.$$.fragment,local),current=!1},d(detaching){detaching&&Object(internal.v)(li),Object(internal.t)(nowhitespace)}}}function ContentItem_svelte_create_fragment(ctx){let current_block_type_index,if_block,if_block_anchor,current;const if_block_creators=[ContentItem_svelte_create_if_block,ContentItem_svelte_create_else_block_1],if_blocks=[];function select_block_type(ctx,dirty){return"section"==ctx[0].type?0:1}return current_block_type_index=select_block_type(ctx),if_block=if_blocks[current_block_type_index]=if_block_creators[current_block_type_index](ctx),{c(){if_block.c(),if_block_anchor=Object(internal.x)()},m(target,anchor){if_blocks[current_block_type_index].m(target,anchor),Object(internal.H)(target,if_block_anchor,anchor),current=!0},p(ctx,[dirty]){let previous_block_index=current_block_type_index;current_block_type_index=select_block_type(ctx),current_block_type_index===previous_block_index?if_blocks[current_block_type_index].p(ctx,dirty):(Object(internal.E)(),Object(internal.ib)(if_blocks[previous_block_index],1,1,()=>{if_blocks[previous_block_index]=null}),Object(internal.n)(),if_block=if_blocks[current_block_type_index],if_block?if_block.p(ctx,dirty):(if_block=if_blocks[current_block_type_index]=if_block_creators[current_block_type_index](ctx),if_block.c()),Object(internal.hb)(if_block,1),if_block.m(if_block_anchor.parentNode,if_block_anchor))},i(local){current||(Object(internal.hb)(if_block),current=!0)},o(local){Object(internal.ib)(if_block),current=!1},d(detaching){if_blocks[current_block_type_index].d(detaching),detaching&&Object(internal.v)(if_block_anchor)}}}function ContentItem_svelte_instance($$self,$$props,$$invalidate){let doc,pageUrl,noteUrl,$viewer,$layout;Object(internal.o)($$self,viewer.d,$$value=>$$invalidate(5,$viewer=$$value)),Object(internal.o)($$self,layout.n,$$value=>$$invalidate(3,$layout=$$value));let{sectionOrNote:sectionOrNote}=$$props;return $$self.$$set=$$props=>{"sectionOrNote"in $$props&&$$invalidate(0,sectionOrNote=$$props.sectionOrNote)},$$self.$$.update=()=>{32&$$self.$$.dirty&&$$invalidate(4,doc=$viewer.document),16&$$self.$$.dirty&&$$invalidate(1,pageUrl=page=>null==doc?"":doc.pageHashUrl(page+1)),16&$$self.$$.dirty&&$$invalidate(2,noteUrl=note=>null==doc?"":doc.noteHashUrl(note))},[sectionOrNote,pageUrl,noteUrl,$layout,doc,$viewer,()=>Object(viewer_document.e)(sectionOrNote.section.page),()=>Object(viewer_document.e)(sectionOrNote.section.page),()=>Object(viewer_document.f)(sectionOrNote.note,!0)]}class ContentItem_svelte_ContentItem extends internal.b{constructor(options){super(),Object(internal.G)(this,options,ContentItem_svelte_instance,ContentItem_svelte_create_fragment,internal.T,{sectionOrNote:0})}}var viewer_ContentItem_svelte=ContentItem_svelte_ContentItem;__webpack_require__(260);function TableOfContents_svelte_get_each_context(ctx,list,i){const child_ctx=ctx.slice();return child_ctx[1]=list[i],child_ctx}function TableOfContents_svelte_create_if_block(ctx){let each_1_anchor,current,each_value=ctx[0].sectionsAndNotes,each_blocks=[];for(let i=0;i<each_value.length;i+=1)each_blocks[i]=TableOfContents_svelte_create_each_block(TableOfContents_svelte_get_each_context(ctx,each_value,i));const out=i=>Object(internal.ib)(each_blocks[i],1,1,()=>{each_blocks[i]=null});return{c(){for(let i=0;i<each_blocks.length;i+=1)each_blocks[i].c();each_1_anchor=Object(internal.x)()},m(target,anchor){for(let i=0;i<each_blocks.length;i+=1)each_blocks[i].m(target,anchor);Object(internal.H)(target,each_1_anchor,anchor),current=!0},p(ctx,dirty){if(1&dirty){let i;for(each_value=ctx[0].sectionsAndNotes,i=0;i<each_value.length;i+=1){const child_ctx=TableOfContents_svelte_get_each_context(ctx,each_value,i);each_blocks[i]?(each_blocks[i].p(child_ctx,dirty),Object(internal.hb)(each_blocks[i],1)):(each_blocks[i]=TableOfContents_svelte_create_each_block(child_ctx),each_blocks[i].c(),Object(internal.hb)(each_blocks[i],1),each_blocks[i].m(each_1_anchor.parentNode,each_1_anchor))}for(Object(internal.E)(),i=each_value.length;i<each_blocks.length;i+=1)out(i);Object(internal.n)()}},i(local){if(!current){for(let i=0;i<each_value.length;i+=1)Object(internal.hb)(each_blocks[i]);current=!0}},o(local){each_blocks=each_blocks.filter(Boolean);for(let i=0;i<each_blocks.length;i+=1)Object(internal.ib)(each_blocks[i]);current=!1},d(detaching){Object(internal.u)(each_blocks,detaching),detaching&&Object(internal.v)(each_1_anchor)}}}function TableOfContents_svelte_create_each_block(ctx){let contentitem,current;return contentitem=new viewer_ContentItem_svelte({props:{sectionOrNote:ctx[1]}}),{c(){Object(internal.r)(contentitem.$$.fragment)},m(target,anchor){Object(internal.L)(contentitem,target,anchor),current=!0},p(ctx,dirty){const contentitem_changes={};1&dirty&&(contentitem_changes.sectionOrNote=ctx[1]),contentitem.$set(contentitem_changes)},i(local){current||(Object(internal.hb)(contentitem.$$.fragment,local),current=!0)},o(local){Object(internal.ib)(contentitem.$$.fragment,local),current=!1},d(detaching){Object(internal.t)(contentitem,detaching)}}}function TableOfContents_svelte_create_fragment(ctx){let div,current,if_block=null!=ctx[0].sectionsAndNotes&&TableOfContents_svelte_create_if_block(ctx);return{c(){div=Object(internal.w)("div"),if_block&&if_block.c(),Object(internal.i)(div,"class","toc svelte-1jbyb2o")},m(target,anchor){Object(internal.H)(target,div,anchor),if_block&&if_block.m(div,null),current=!0},p(ctx,[dirty]){null!=ctx[0].sectionsAndNotes?if_block?(if_block.p(ctx,dirty),1&dirty&&Object(internal.hb)(if_block,1)):(if_block=TableOfContents_svelte_create_if_block(ctx),if_block.c(),Object(internal.hb)(if_block,1),if_block.m(div,null)):if_block&&(Object(internal.E)(),Object(internal.ib)(if_block,1,1,()=>{if_block=null}),Object(internal.n)())},i(local){current||(Object(internal.hb)(if_block),current=!0)},o(local){Object(internal.ib)(if_block),current=!1},d(detaching){detaching&&Object(internal.v)(div),if_block&&if_block.d()}}}function TableOfContents_svelte_instance($$self,$$props,$$invalidate){let $viewer;return Object(internal.o)($$self,viewer.d,$$value=>$$invalidate(0,$viewer=$$value)),[$viewer]}class TableOfContents_svelte_TableOfContents extends internal.b{constructor(options){super(),Object(internal.G)(this,options,TableOfContents_svelte_instance,TableOfContents_svelte_create_fragment,internal.T,{})}}var viewer_TableOfContents_svelte=TableOfContents_svelte_TableOfContents,Progress_svelte=__webpack_require__(46),AccessIcon_svelte=__webpack_require__(153),SpecialMessage_svelte=__webpack_require__(158);__webpack_require__(261);function Sidebar_svelte_create_if_block(ctx){let div,current,mounted,dispose,if_block=ctx[1].loaded&&Sidebar_svelte_create_if_block_1(ctx);return{c(){div=Object(internal.w)("div"),if_block&&if_block.c(),Object(internal.i)(div,"class","sidebar svelte-18a56tg"),Object(internal.Z)(div,"top",ctx[0].headerHeight+"px"),Object(internal.Z)(div,"bottom",ctx[0].footerHeight+"px"),Object(internal.Z)(div,"width",ctx[0].sidebarWidth+"px"),Object(internal.gb)(div,"white",null==ctx[1].me),Object(internal.gb)(div,"disabled",ctx[0].disableControls)},m(target,anchor){Object(internal.H)(target,div,anchor),if_block&&if_block.m(div,null),current=!0,mounted||(dispose=Object(internal.J)(div,"mousedown",ctx[2]),mounted=!0)},p(ctx,dirty){ctx[1].loaded?if_block?(if_block.p(ctx,dirty),2&dirty&&Object(internal.hb)(if_block,1)):(if_block=Sidebar_svelte_create_if_block_1(ctx),if_block.c(),Object(internal.hb)(if_block,1),if_block.m(div,null)):if_block&&(Object(internal.E)(),Object(internal.ib)(if_block,1,1,()=>{if_block=null}),Object(internal.n)()),(!current||1&dirty)&&Object(internal.Z)(div,"top",ctx[0].headerHeight+"px"),(!current||1&dirty)&&Object(internal.Z)(div,"bottom",ctx[0].footerHeight+"px"),(!current||1&dirty)&&Object(internal.Z)(div,"width",ctx[0].sidebarWidth+"px"),2&dirty&&Object(internal.gb)(div,"white",null==ctx[1].me),1&dirty&&Object(internal.gb)(div,"disabled",ctx[0].disableControls)},i(local){current||(Object(internal.hb)(if_block),current=!0)},o(local){Object(internal.ib)(if_block),current=!1},d(detaching){detaching&&Object(internal.v)(div),if_block&&if_block.d(),mounted=!1,dispose()}}}function Sidebar_svelte_create_if_block_1(ctx){let div,t0,show_if_1,current_block_type_index,if_block1,t1,tableofcontents,t2,hr,t3,t4,t5,small,p,t6,t7,t8,t9,t10,if_block6_anchor,current,show_if=null!=ctx[1].document.relatedArticleUrl&&ctx[1].document.relatedArticleUrl.trim().length>0,t7_value=(ctx[0].showOrg?ctx[1].document.orgString:ctx[1].document.userOrgString)+"",if_block0=!ctx[0].embed&&ctx[1].document.readable&&Sidebar_svelte_create_if_block_10(ctx);const if_block_creators=[Sidebar_svelte_create_if_block_9,Sidebar_svelte_create_else_block_1],if_blocks=[];function select_block_type(ctx,dirty){return 2&dirty&&(show_if_1=!!(null!=ctx[1].document.description&&ctx[1].document.description.trim().length>0)),show_if_1?0:1}current_block_type_index=select_block_type(ctx,-1),if_block1=if_blocks[current_block_type_index]=if_block_creators[current_block_type_index](ctx),tableofcontents=new viewer_TableOfContents_svelte({});let if_block2=!ctx[0].hidePdfLink&&Sidebar_svelte_create_if_block_8(ctx),if_block3=show_if&&Sidebar_svelte_create_if_block_7(ctx),if_block4=ctx[1].document.editAccess&&Sidebar_svelte_create_if_block_6(ctx),if_block5=null!=ctx[1].me&&Sidebar_svelte_create_if_block_4(ctx),if_block6=!ctx[0].embed&&ctx[1].document.editAccess&&Sidebar_svelte_create_if_block_2(ctx);return{c(){div=Object(internal.w)("div"),if_block0&&if_block0.c(),t0=Object(internal.ab)(),if_block1.c(),t1=Object(internal.ab)(),Object(internal.r)(tableofcontents.$$.fragment),t2=Object(internal.ab)(),hr=Object(internal.w)("hr"),t3=Object(internal.ab)(),if_block2&&if_block2.c(),t4=Object(internal.ab)(),if_block3&&if_block3.c(),t5=Object(internal.ab)(),small=Object(internal.w)("small"),p=Object(internal.w)("p"),t6=Object(internal.db)("Contributed by "),t7=Object(internal.db)(t7_value),t8=Object(internal.ab)(),if_block4&&if_block4.c(),t9=Object(internal.ab)(),if_block5&&if_block5.c(),t10=Object(internal.ab)(),if_block6&&if_block6.c(),if_block6_anchor=Object(internal.x)(),Object(internal.i)(hr,"class","svelte-18a56tg"),Object(internal.i)(p,"class","svelte-18a56tg"),Object(internal.i)(small,"class","svelte-18a56tg"),Object(internal.i)(div,"class","title svelte-18a56tg")},m(target,anchor){Object(internal.H)(target,div,anchor),if_block0&&if_block0.m(div,null),Object(internal.g)(div,t0),if_blocks[current_block_type_index].m(div,null),Object(internal.g)(div,t1),Object(internal.L)(tableofcontents,div,null),Object(internal.g)(div,t2),Object(internal.g)(div,hr),Object(internal.g)(div,t3),if_block2&&if_block2.m(div,null),Object(internal.g)(div,t4),if_block3&&if_block3.m(div,null),Object(internal.g)(div,t5),Object(internal.g)(div,small),Object(internal.g)(small,p),Object(internal.g)(p,t6),Object(internal.g)(p,t7),Object(internal.g)(div,t8),if_block4&&if_block4.m(div,null),Object(internal.H)(target,t9,anchor),if_block5&&if_block5.m(target,anchor),Object(internal.H)(target,t10,anchor),if_block6&&if_block6.m(target,anchor),Object(internal.H)(target,if_block6_anchor,anchor),current=!0},p(ctx,dirty){!ctx[0].embed&&ctx[1].document.readable?if_block0?3&dirty&&Object(internal.hb)(if_block0,1):(if_block0=Sidebar_svelte_create_if_block_10(ctx),if_block0.c(),Object(internal.hb)(if_block0,1),if_block0.m(div,t0)):if_block0&&(Object(internal.E)(),Object(internal.ib)(if_block0,1,1,()=>{if_block0=null}),Object(internal.n)());let previous_block_index=current_block_type_index;current_block_type_index=select_block_type(ctx,dirty),current_block_type_index===previous_block_index?if_blocks[current_block_type_index].p(ctx,dirty):(Object(internal.E)(),Object(internal.ib)(if_blocks[previous_block_index],1,1,()=>{if_blocks[previous_block_index]=null}),Object(internal.n)(),if_block1=if_blocks[current_block_type_index],if_block1?if_block1.p(ctx,dirty):(if_block1=if_blocks[current_block_type_index]=if_block_creators[current_block_type_index](ctx),if_block1.c()),Object(internal.hb)(if_block1,1),if_block1.m(div,t1)),ctx[0].hidePdfLink?if_block2&&(if_block2.d(1),if_block2=null):if_block2?if_block2.p(ctx,dirty):(if_block2=Sidebar_svelte_create_if_block_8(ctx),if_block2.c(),if_block2.m(div,t4)),2&dirty&&(show_if=null!=ctx[1].document.relatedArticleUrl&&ctx[1].document.relatedArticleUrl.trim().length>0),show_if?if_block3?if_block3.p(ctx,dirty):(if_block3=Sidebar_svelte_create_if_block_7(ctx),if_block3.c(),if_block3.m(div,t5)):if_block3&&(if_block3.d(1),if_block3=null),(!current||3&dirty)&&t7_value!==(t7_value=(ctx[0].showOrg?ctx[1].document.orgString:ctx[1].document.userOrgString)+"")&&Object(internal.W)(t7,t7_value),ctx[1].document.editAccess?if_block4?(if_block4.p(ctx,dirty),2&dirty&&Object(internal.hb)(if_block4,1)):(if_block4=Sidebar_svelte_create_if_block_6(ctx),if_block4.c(),Object(internal.hb)(if_block4,1),if_block4.m(div,null)):if_block4&&(Object(internal.E)(),Object(internal.ib)(if_block4,1,1,()=>{if_block4=null}),Object(internal.n)()),null!=ctx[1].me?if_block5?if_block5.p(ctx,dirty):(if_block5=Sidebar_svelte_create_if_block_4(ctx),if_block5.c(),if_block5.m(t10.parentNode,t10)):if_block5&&(if_block5.d(1),if_block5=null),!ctx[0].embed&&ctx[1].document.editAccess?if_block6?(if_block6.p(ctx,dirty),3&dirty&&Object(internal.hb)(if_block6,1)):(if_block6=Sidebar_svelte_create_if_block_2(ctx),if_block6.c(),Object(internal.hb)(if_block6,1),if_block6.m(if_block6_anchor.parentNode,if_block6_anchor)):if_block6&&(Object(internal.E)(),Object(internal.ib)(if_block6,1,1,()=>{if_block6=null}),Object(internal.n)())},i(local){current||(Object(internal.hb)(if_block0),Object(internal.hb)(if_block1),Object(internal.hb)(tableofcontents.$$.fragment,local),Object(internal.hb)(if_block4),Object(internal.hb)(if_block6),current=!0)},o(local){Object(internal.ib)(if_block0),Object(internal.ib)(if_block1),Object(internal.ib)(tableofcontents.$$.fragment,local),Object(internal.ib)(if_block4),Object(internal.ib)(if_block6),current=!1},d(detaching){detaching&&Object(internal.v)(div),if_block0&&if_block0.d(),if_blocks[current_block_type_index].d(),Object(internal.t)(tableofcontents),if_block2&&if_block2.d(),if_block3&&if_block3.d(),if_block4&&if_block4.d(),detaching&&Object(internal.v)(t9),if_block5&&if_block5.d(detaching),detaching&&Object(internal.v)(t10),if_block6&&if_block6.d(detaching),detaching&&Object(internal.v)(if_block6_anchor)}}}function Sidebar_svelte_create_if_block_10(ctx){let div,t,progress,current;return progress=new Progress_svelte.a({props:{initializing:!0,progress:0,compact:!0}}),{c(){div=Object(internal.w)("div"),t=Object(internal.db)("Updating document...\n            "),Object(internal.r)(progress.$$.fragment),Object(internal.i)(div,"class","updating svelte-18a56tg")},m(target,anchor){Object(internal.H)(target,div,anchor),Object(internal.g)(div,t),Object(internal.L)(progress,div,null),current=!0},i(local){current||(Object(internal.hb)(progress.$$.fragment,local),current=!0)},o(local){Object(internal.ib)(progress.$$.fragment,local),current=!1},d(detaching){detaching&&Object(internal.v)(div),Object(internal.t)(progress)}}}function Sidebar_svelte_create_else_block_1(ctx){let h2,t,t_value=ctx[1].document.title+"";return{c(){h2=Object(internal.w)("h2"),t=Object(internal.db)(t_value),Object(internal.i)(h2,"class","svelte-18a56tg")},m(target,anchor){Object(internal.H)(target,h2,anchor),Object(internal.g)(h2,t)},p(ctx,dirty){2&dirty&&t_value!==(t_value=ctx[1].document.title+"")&&Object(internal.W)(t,t_value)},i:internal.M,o:internal.M,d(detaching){detaching&&Object(internal.v)(h2)}}}function Sidebar_svelte_create_if_block_9(ctx){let details,summary,h2,t0,t1,htmlfield,current,t0_value=ctx[1].document.title+"";return htmlfield=new HtmlField_svelte.a({props:{content:ctx[1].document.description}}),{c(){details=Object(internal.w)("details"),summary=Object(internal.w)("summary"),h2=Object(internal.w)("h2"),t0=Object(internal.db)(t0_value),t1=Object(internal.ab)(),Object(internal.r)(htmlfield.$$.fragment),Object(internal.i)(h2,"class","inlineheader svelte-18a56tg"),Object(internal.i)(summary,"class","svelte-18a56tg"),Object(internal.i)(details,"class","dc svelte-18a56tg"),details.open=!0},m(target,anchor){Object(internal.H)(target,details,anchor),Object(internal.g)(details,summary),Object(internal.g)(summary,h2),Object(internal.g)(h2,t0),Object(internal.g)(details,t1),Object(internal.L)(htmlfield,details,null),current=!0},p(ctx,dirty){(!current||2&dirty)&&t0_value!==(t0_value=ctx[1].document.title+"")&&Object(internal.W)(t0,t0_value);const htmlfield_changes={};2&dirty&&(htmlfield_changes.content=ctx[1].document.description),htmlfield.$set(htmlfield_changes)},i(local){current||(Object(internal.hb)(htmlfield.$$.fragment,local),current=!0)},o(local){Object(internal.ib)(htmlfield.$$.fragment,local),current=!1},d(detaching){detaching&&Object(internal.v)(details),Object(internal.t)(htmlfield)}}}function Sidebar_svelte_create_if_block_8(ctx){let div,a,t,a_href_value;return{c(){div=Object(internal.w)("div"),a=Object(internal.w)("a"),t=Object(internal.db)("Original Document (PDF) "),Object(internal.i)(a,"target","_blank"),Object(internal.i)(a,"href",a_href_value=ctx[1].document.pdf),Object(internal.i)(a,"class","svelte-18a56tg"),Object(internal.i)(div,"class","svelte-18a56tg")},m(target,anchor){Object(internal.H)(target,div,anchor),Object(internal.g)(div,a),Object(internal.g)(a,t)},p(ctx,dirty){2&dirty&&a_href_value!==(a_href_value=ctx[1].document.pdf)&&Object(internal.i)(a,"href",a_href_value)},d(detaching){detaching&&Object(internal.v)(div)}}}function Sidebar_svelte_create_if_block_7(ctx){let div,a,t,a_href_value;return{c(){div=Object(internal.w)("div"),a=Object(internal.w)("a"),t=Object(internal.db)("Related Article "),Object(internal.i)(a,"target","_blank"),Object(internal.i)(a,"href",a_href_value=ctx[1].document.relatedArticleUrl),Object(internal.i)(a,"class","svelte-18a56tg"),Object(internal.i)(div,"class","svelte-18a56tg")},m(target,anchor){Object(internal.H)(target,div,anchor),Object(internal.g)(div,a),Object(internal.g)(a,t)},p(ctx,dirty){2&dirty&&a_href_value!==(a_href_value=ctx[1].document.relatedArticleUrl)&&Object(internal.i)(a,"href",a_href_value)},d(detaching){detaching&&Object(internal.v)(div)}}}function Sidebar_svelte_create_if_block_6(ctx){let div,accessicon,current;return accessicon=new AccessIcon_svelte.a({props:{document:ctx[1].document,showText:!0}}),{c(){div=Object(internal.w)("div"),Object(internal.r)(accessicon.$$.fragment),Object(internal.i)(div,"class","svelte-18a56tg")},m(target,anchor){Object(internal.H)(target,div,anchor),Object(internal.L)(accessicon,div,null),current=!0},p(ctx,dirty){const accessicon_changes={};2&dirty&&(accessicon_changes.document=ctx[1].document),accessicon.$set(accessicon_changes)},i(local){current||(Object(internal.hb)(accessicon.$$.fragment,local),current=!0)},o(local){Object(internal.ib)(accessicon.$$.fragment,local),current=!1},d(detaching){detaching&&Object(internal.v)(div),Object(internal.t)(accessicon)}}}function Sidebar_svelte_create_if_block_4(ctx){let div,t1,if_block_anchor;function select_block_type_1(ctx,dirty){return ctx[1].document.editAccess?Sidebar_svelte_create_if_block_5:Sidebar_svelte_create_else_block}let current_block_type=select_block_type_1(ctx),if_block=current_block_type(ctx);return{c(){div=Object(internal.w)("div"),div.textContent="Document Actions",t1=Object(internal.ab)(),if_block.c(),if_block_anchor=Object(internal.x)(),Object(internal.i)(div,"class","actions svelte-18a56tg")},m(target,anchor){Object(internal.H)(target,div,anchor),Object(internal.H)(target,t1,anchor),if_block.m(target,anchor),Object(internal.H)(target,if_block_anchor,anchor)},p(ctx,dirty){current_block_type===(current_block_type=select_block_type_1(ctx))&&if_block?if_block.p(ctx,dirty):(if_block.d(1),if_block=current_block_type(ctx),if_block&&(if_block.c(),if_block.m(if_block_anchor.parentNode,if_block_anchor)))},d(detaching){detaching&&Object(internal.v)(div),detaching&&Object(internal.v)(t1),if_block.d(detaching),detaching&&Object(internal.v)(if_block_anchor)}}}function Sidebar_svelte_create_else_block(ctx){let div,mounted,dispose;return{c(){div=Object(internal.w)("div"),div.innerHTML='<h3 class="svelte-18a56tg">Add Private Note</h3> \n            <p class="svelte-18a56tg">Make annotations to keep notes on the document.</p>',Object(internal.i)(div,"class","action svelte-18a56tg")},m(target,anchor){Object(internal.H)(target,div,anchor),mounted||(dispose=Object(internal.J)(div,"click",actions.a),mounted=!0)},p:internal.M,d(detaching){detaching&&Object(internal.v)(div),mounted=!1,dispose()}}}function Sidebar_svelte_create_if_block_5(ctx){let div0,t3,div1,t7,div2,t11,div3,t15,div4,t19,div5,mounted,dispose;return{c(){div0=Object(internal.w)("div"),div0.innerHTML='<h3 class="svelte-18a56tg">Share</h3> \n            <p class="svelte-18a56tg">Create an embed or share on social media.</p>',t3=Object(internal.ab)(),div1=Object(internal.w)("div"),div1.innerHTML='<h3 class="svelte-18a56tg">Annotate</h3> \n            <p class="svelte-18a56tg">Make annotations to keep notes on the document.</p>',t7=Object(internal.ab)(),div2=Object(internal.w)("div"),div2.innerHTML='<h3 class="svelte-18a56tg">Redact</h3> \n            <p class="svelte-18a56tg">Create redactions on the document to hide text. The document will\n              reprocess afterwards.</p>',t11=Object(internal.ab)(),div3=Object(internal.w)("div"),div3.innerHTML='<h3 class="svelte-18a56tg">Edit Document Info</h3> \n            <p class="svelte-18a56tg">Modify document information like description and related URL.</p>',t15=Object(internal.ab)(),div4=Object(internal.w)("div"),div4.innerHTML='<h3 class="svelte-18a56tg">Edit Tags and Data</h3> \n            <p class="svelte-18a56tg">Add tags and key/value pairs to categorize your document.</p>',t19=Object(internal.ab)(),div5=Object(internal.w)("div"),div5.innerHTML='<h3 class="svelte-18a56tg">Edit Sections</h3> \n            <p class="svelte-18a56tg">Add sections to organize your document with a table of contents.</p>',Object(internal.i)(div0,"class","action svelte-18a56tg"),Object(internal.gb)(div0,"disabled",ctx[1].document.readable),Object(internal.i)(div1,"class","action svelte-18a56tg"),Object(internal.i)(div2,"class","action svelte-18a56tg"),Object(internal.gb)(div2,"disabled",ctx[1].document.readable),Object(internal.i)(div3,"class","action svelte-18a56tg"),Object(internal.gb)(div3,"disabled",ctx[1].document.readable),Object(internal.i)(div4,"class","action svelte-18a56tg"),Object(internal.gb)(div4,"disabled",ctx[1].document.readable),Object(internal.i)(div5,"class","action svelte-18a56tg")},m(target,anchor){Object(internal.H)(target,div0,anchor),Object(internal.H)(target,t3,anchor),Object(internal.H)(target,div1,anchor),Object(internal.H)(target,t7,anchor),Object(internal.H)(target,div2,anchor),Object(internal.H)(target,t11,anchor),Object(internal.H)(target,div3,anchor),Object(internal.H)(target,t15,anchor),Object(internal.H)(target,div4,anchor),Object(internal.H)(target,t19,anchor),Object(internal.H)(target,div5,anchor),mounted||(dispose=[Object(internal.J)(div0,"click",ctx[3]),Object(internal.J)(div1,"click",actions.a),Object(internal.J)(div2,"click",actions.d),Object(internal.J)(div3,"click",actions.c),Object(internal.J)(div4,"click",actions.b),Object(internal.J)(div5,"click",actions.e)],mounted=!0)},p(ctx,dirty){2&dirty&&Object(internal.gb)(div0,"disabled",ctx[1].document.readable),2&dirty&&Object(internal.gb)(div2,"disabled",ctx[1].document.readable),2&dirty&&Object(internal.gb)(div3,"disabled",ctx[1].document.readable),2&dirty&&Object(internal.gb)(div4,"disabled",ctx[1].document.readable)},d(detaching){detaching&&Object(internal.v)(div0),detaching&&Object(internal.v)(t3),detaching&&Object(internal.v)(div1),detaching&&Object(internal.v)(t7),detaching&&Object(internal.v)(div2),detaching&&Object(internal.v)(t11),detaching&&Object(internal.v)(div3),detaching&&Object(internal.v)(t15),detaching&&Object(internal.v)(div4),detaching&&Object(internal.v)(t19),detaching&&Object(internal.v)(div5),mounted=!1,Object(internal.S)(dispose)}}}function Sidebar_svelte_create_if_block_2(ctx){let specialmessage,t,if_block_anchor,current;specialmessage=new SpecialMessage_svelte.a({});let if_block=ctx[1].document.editAccess&&ctx[1].document.id<"20000000"&&Sidebar_svelte_create_if_block_3(ctx);return{c(){Object(internal.r)(specialmessage.$$.fragment),t=Object(internal.ab)(),if_block&&if_block.c(),if_block_anchor=Object(internal.x)()},m(target,anchor){Object(internal.L)(specialmessage,target,anchor),Object(internal.H)(target,t,anchor),if_block&&if_block.m(target,anchor),Object(internal.H)(target,if_block_anchor,anchor),current=!0},p(ctx,dirty){ctx[1].document.editAccess&&ctx[1].document.id<"20000000"?if_block||(if_block=Sidebar_svelte_create_if_block_3(ctx),if_block.c(),if_block.m(if_block_anchor.parentNode,if_block_anchor)):if_block&&(if_block.d(1),if_block=null)},i(local){current||(Object(internal.hb)(specialmessage.$$.fragment,local),current=!0)},o(local){Object(internal.ib)(specialmessage.$$.fragment,local),current=!1},d(detaching){Object(internal.t)(specialmessage,detaching),detaching&&Object(internal.v)(t),if_block&&if_block.d(detaching),detaching&&Object(internal.v)(if_block_anchor)}}}function Sidebar_svelte_create_if_block_3(ctx){let div;return{c(){div=Object(internal.w)("div"),div.innerHTML='Since this document was originally uploaded in the legacy version of\n            DocumentCloud, if youre deleting sensitive information after the\n            document was published it may not automatically be redacted in all\n            places. Please make your redactions and edits and then\n            <a style="font-size: 13px; text-decoration: underline; color: #312f05" href="mailto:info@documentcloud?subject=Editing Sensitive Legacy Document" target="_blank" class="svelte-18a56tg">email us</a>\n            so we can confirm the information is fully removed.',Object(internal.Z)(div,"background","#fff782"),Object(internal.Z)(div,"display","block"),Object(internal.Z)(div,"padding","2px 8px"),Object(internal.Z)(div,"border-radius","3px"),Object(internal.Z)(div,"font-size","13px"),Object(internal.Z)(div,"box-sizing","border-box"),Object(internal.Z)(div,"color","#312f05"),Object(internal.i)(div,"class","svelte-18a56tg")},m(target,anchor){Object(internal.H)(target,div,anchor)},d(detaching){detaching&&Object(internal.v)(div)}}}function Sidebar_svelte_create_fragment(ctx){let if_block_anchor,current,if_block=ctx[0].showSidebar&&Sidebar_svelte_create_if_block(ctx);return{c(){if_block&&if_block.c(),if_block_anchor=Object(internal.x)()},m(target,anchor){if_block&&if_block.m(target,anchor),Object(internal.H)(target,if_block_anchor,anchor),current=!0},p(ctx,[dirty]){ctx[0].showSidebar?if_block?(if_block.p(ctx,dirty),1&dirty&&Object(internal.hb)(if_block,1)):(if_block=Sidebar_svelte_create_if_block(ctx),if_block.c(),Object(internal.hb)(if_block,1),if_block.m(if_block_anchor.parentNode,if_block_anchor)):if_block&&(Object(internal.E)(),Object(internal.ib)(if_block,1,1,()=>{if_block=null}),Object(internal.n)())},i(local){current||(Object(internal.hb)(if_block),current=!0)},o(local){Object(internal.ib)(if_block),current=!1},d(detaching){if_block&&if_block.d(detaching),detaching&&Object(internal.v)(if_block_anchor)}}}function Sidebar_svelte_instance($$self,$$props,$$invalidate){let $layout,$viewer;Object(internal.o)($$self,layout.n,$$value=>$$invalidate(0,$layout=$$value)),Object(internal.o)($$self,viewer.d,$$value=>$$invalidate(1,$viewer=$$value));return[$layout,$viewer,function(){$layout.displayAnnotate&&Object(layout.d)()},()=>Object(layout.u)($viewer.document)]}class Sidebar_svelte_Sidebar extends internal.b{constructor(options){super(),Object(internal.G)(this,options,Sidebar_svelte_instance,Sidebar_svelte_create_fragment,internal.T,{})}}var viewer_Sidebar_svelte=Sidebar_svelte_Sidebar;function ViewDropdown_svelte_create_if_block_1(ctx){let option;return{c(){option=Object(internal.w)("option"),option.textContent="Plain Text",option.__value="text",option.value=option.__value},m(target,anchor){Object(internal.H)(target,option,anchor)},d(detaching){detaching&&Object(internal.v)(option)}}}function ViewDropdown_svelte_create_if_block(ctx){let option;return{c(){option=Object(internal.w)("option"),option.textContent="Notes",option.__value="notes",option.value=option.__value},m(target,anchor){Object(internal.H)(target,option,anchor)},d(detaching){detaching&&Object(internal.v)(option)}}}function ViewDropdown_svelte_create_fragment(ctx){let select,option0,if_block0_anchor,option1,t1,option1_hidden_value,mounted,dispose,if_block0=!ctx[1].hideTextOption&&ViewDropdown_svelte_create_if_block_1(),if_block1=null!=ctx[2].notes&&ctx[2].notes.length>0&&ViewDropdown_svelte_create_if_block();return{c(){select=Object(internal.w)("select"),option0=Object(internal.w)("option"),option0.textContent="Document",if_block0&&if_block0.c(),if_block0_anchor=Object(internal.x)(),if_block1&&if_block1.c(),option1=Object(internal.w)("option"),t1=Object(internal.db)("Search Results"),option0.__value="image",option0.value=option0.__value,option1.__value="search",option1.value=option1.__value,option1.hidden=option1_hidden_value=null==ctx[1].searchPages,void 0===ctx[0].mode&&Object(internal.e)(()=>ctx[4].call(select))},m(target,anchor){Object(internal.H)(target,select,anchor),Object(internal.g)(select,option0),if_block0&&if_block0.m(select,null),Object(internal.g)(select,if_block0_anchor),if_block1&&if_block1.m(select,null),Object(internal.g)(select,option1),Object(internal.g)(option1,t1),Object(internal.U)(select,ctx[0].mode),mounted||(dispose=[Object(internal.J)(select,"input",ctx[3]),Object(internal.J)(select,"change",ctx[4])],mounted=!0)},p(ctx,[dirty]){ctx[1].hideTextOption?if_block0&&(if_block0.d(1),if_block0=null):if_block0||(if_block0=ViewDropdown_svelte_create_if_block_1(),if_block0.c(),if_block0.m(select,if_block0_anchor)),null!=ctx[2].notes&&ctx[2].notes.length>0?if_block1||(if_block1=ViewDropdown_svelte_create_if_block(),if_block1.c(),if_block1.m(select,option1)):if_block1&&(if_block1.d(1),if_block1=null),2&dirty&&option1_hidden_value!==(option1_hidden_value=null==ctx[1].searchPages)&&(option1.hidden=option1_hidden_value),1&dirty&&Object(internal.U)(select,ctx[0].mode)},i:internal.M,o:internal.M,d(detaching){detaching&&Object(internal.v)(select),if_block0&&if_block0.d(),if_block1&&if_block1.d(),mounted=!1,Object(internal.S)(dispose)}}}function ViewDropdown_svelte_instance($$self,$$props,$$invalidate){let $doc,$layout,$viewer;return Object(internal.o)($$self,viewer_document.b,$$value=>$$invalidate(0,$doc=$$value)),Object(internal.o)($$self,layout.n,$$value=>$$invalidate(1,$layout=$$value)),Object(internal.o)($$self,viewer.d,$$value=>$$invalidate(2,$viewer=$$value)),[$doc,$layout,$viewer,async function(e){const mode=e.target.value;await Object(viewer_document.a)(mode)},function(){$doc.mode=Object(internal.V)(this),viewer_document.b.set($doc)}]}class ViewDropdown_svelte_ViewDropdown extends internal.b{constructor(options){super(),Object(internal.G)(this,options,ViewDropdown_svelte_instance,ViewDropdown_svelte_create_fragment,internal.T,{})}}var ViewDropdown_svelte=ViewDropdown_svelte_ViewDropdown,left_paginator=__webpack_require__(262),left_paginator_default=__webpack_require__.n(left_paginator),right_paginator=__webpack_require__(263),right_paginator_default=__webpack_require__.n(right_paginator);__webpack_require__(264);function Paginator_svelte_create_if_block(ctx){let div,span0,t0,span3,span1,t1,t2,span2,t3,t4,input_1,t5,span4,t6,t7,t8,span5,mounted,dispose,t1_value=ctx[4].document.pageCount+"",t3_value=ctx[5].visiblePageNumber+"",t7_value=ctx[4].document.pageCount+"";return{c(){div=Object(internal.w)("div"),span0=Object(internal.w)("span"),t0=Object(internal.ab)(),span3=Object(internal.w)("span"),span1=Object(internal.w)("span"),t1=Object(internal.db)(t1_value),t2=Object(internal.ab)(),span2=Object(internal.w)("span"),t3=Object(internal.db)(t3_value),t4=Object(internal.ab)(),input_1=Object(internal.w)("input"),t5=Object(internal.ab)(),span4=Object(internal.w)("span"),t6=Object(internal.db)("of "),t7=Object(internal.db)(t7_value),t8=Object(internal.ab)(),span5=Object(internal.w)("span"),Object(internal.i)(span0,"class","paginate left svelte-1n399g1"),Object(internal.i)(span1,"class","hidden svelte-1n399g1"),Object(internal.i)(span2,"class","absolute svelte-1n399g1"),Object(internal.i)(input_1,"type","text"),Object(internal.i)(input_1,"inputmode","numeric"),Object(internal.i)(input_1,"pattern","[0-9]*"),Object(internal.i)(input_1,"class","svelte-1n399g1"),Object(internal.i)(span3,"class","page svelte-1n399g1"),Object(internal.i)(span4,"class","rest svelte-1n399g1"),Object(internal.i)(span5,"class","paginate right svelte-1n399g1"),Object(internal.i)(div,"class","paginator svelte-1n399g1")},m(target,anchor){Object(internal.H)(target,div,anchor),Object(internal.g)(div,span0),span0.innerHTML=left_paginator_default.a,Object(internal.g)(div,t0),Object(internal.g)(div,span3),Object(internal.g)(span3,span1),Object(internal.g)(span1,t1),Object(internal.g)(span3,t2),Object(internal.g)(span3,span2),Object(internal.g)(span2,t3),Object(internal.g)(span3,t4),Object(internal.g)(span3,input_1),ctx[12](input_1),Object(internal.X)(input_1,ctx[0]),Object(internal.g)(div,t5),Object(internal.g)(div,span4),Object(internal.g)(span4,t6),Object(internal.g)(span4,t7),Object(internal.g)(div,t8),Object(internal.g)(div,span5),span5.innerHTML=right_paginator_default.a,mounted||(dispose=[Object(internal.J)(span0,"click",ctx[11]),Object(internal.J)(input_1,"input",ctx[13]),Object(internal.J)(input_1,"focus",ctx[14]),Object(internal.J)(input_1,"blur",ctx[8]),Object(internal.J)(input_1,"input",ctx[15]),Object(internal.J)(input_1,"keydown",ctx[16]),Object(internal.J)(span5,"click",ctx[17])],mounted=!0)},p(ctx,dirty){16&dirty&&t1_value!==(t1_value=ctx[4].document.pageCount+"")&&Object(internal.W)(t1,t1_value),32&dirty&&t3_value!==(t3_value=ctx[5].visiblePageNumber+"")&&Object(internal.W)(t3,t3_value),1&dirty&&input_1.value!==ctx[0]&&Object(internal.X)(input_1,ctx[0]),16&dirty&&t7_value!==(t7_value=ctx[4].document.pageCount+"")&&Object(internal.W)(t7,t7_value)},d(detaching){detaching&&Object(internal.v)(div),ctx[12](null),mounted=!1,Object(internal.S)(dispose)}}}function Paginator_svelte_create_fragment(ctx){let if_block_anchor,if_block=ctx[4].loaded&&"search"!=ctx[5].mode&&"notes"!=ctx[5].mode&&Paginator_svelte_create_if_block(ctx);return{c(){if_block&&if_block.c(),if_block_anchor=Object(internal.x)()},m(target,anchor){if_block&&if_block.m(target,anchor),Object(internal.H)(target,if_block_anchor,anchor)},p(ctx,[dirty]){ctx[4].loaded&&"search"!=ctx[5].mode&&"notes"!=ctx[5].mode?if_block?if_block.p(ctx,dirty):(if_block=Paginator_svelte_create_if_block(ctx),if_block.c(),if_block.m(if_block_anchor.parentNode,if_block_anchor)):if_block&&(if_block.d(1),if_block=null)},i:internal.M,o:internal.M,d(detaching){if_block&&if_block.d(detaching),detaching&&Object(internal.v)(if_block_anchor)}}}function Paginator_svelte_instance($$self,$$props,$$invalidate){let $viewer,$doc,input;Object(internal.o)($$self,viewer.d,$$value=>$$invalidate(4,$viewer=$$value)),Object(internal.o)($$self,viewer_document.b,$$value=>$$invalidate(5,$doc=$$value));let customPage="1",intentionalBlur=!1,hadInput=!1;function dismiss(){$$invalidate(2,intentionalBlur=!0),input.blur()}function select(){null!=input&&setTimeout(()=>input.select(),0)}function getPageFromInput(){if(!viewer.d.loaded||null==input)return null;const pageNumber=parseInt(customPage);return null==pageNumber||pageNumber<1||pageNumber>viewer.d.document.pageCount?null:pageNumber}function gotoPage(readablePageNumber){$$invalidate(0,customPage=""+readablePageNumber),viewer_document.b.jumpToPage(readablePageNumber-1)}function handleInput(){if(intentionalBlur)return void $$invalidate(2,intentionalBlur=!1);if(!viewer.d.loaded||null==input||!hadInput)return;dismiss();const pageNumber=getPageFromInput();null!=pageNumber&&gotoPage(pageNumber)}function increment(fromInput=!1){let pageNumber=fromInput?getPageFromInput():viewer_document.b.visiblePageNumber;null!=pageNumber&&(pageNumber=Math.min(pageNumber+1,viewer.d.document.pageCount),gotoPage(pageNumber),fromInput&&select())}function decrement(fromInput=!1){let pageNumber=fromInput?getPageFromInput():viewer_document.b.visiblePageNumber;null!=pageNumber&&(pageNumber=Math.max(pageNumber-1,1),gotoPage(pageNumber),fromInput&&select())}return $$self.$$.update=()=>{1&$$self.$$.dirty&&$$invalidate(0,customPage=customPage.replace(/[^0-9]/g,""))},[customPage,input,intentionalBlur,hadInput,$viewer,$doc,dismiss,select,handleInput,increment,decrement,()=>decrement(!1),function($$value){internal.l[$$value?"unshift":"push"](()=>{input=$$value,$$invalidate(1,input)})},function(){customPage=this.value,$$invalidate(0,customPage)},()=>{$$invalidate(2,intentionalBlur=!1),$$invalidate(0,customPage=""+$doc.visiblePageNumber),$$invalidate(3,hadInput=!1),select()},()=>$$invalidate(3,hadInput=!0),e=>{input==document.activeElement&&("Escape"==e.key?dismiss():"Enter"==e.key?handleInput():"ArrowUp"==e.key?increment(!0):"ArrowDown"==e.key&&decrement(!0))},()=>increment(!1)]}class Paginator_svelte_Paginator extends internal.b{constructor(options){super(),Object(internal.G)(this,options,Paginator_svelte_instance,Paginator_svelte_create_fragment,internal.T,{})}}var controls_Paginator_svelte=Paginator_svelte_Paginator,viewer_plus=__webpack_require__(265),viewer_plus_default=__webpack_require__.n(viewer_plus),viewer_minus=__webpack_require__(266),viewer_minus_default=__webpack_require__.n(viewer_minus);__webpack_require__(267);function Zoom_svelte_create_fragment(ctx){let span2,span0,t0,div,t1,span1,t2,select_1,option0,t3,t4,option1,option2,option3,option4,option5,option6,option7,option8,mounted,dispose,t3_value=(100*ctx[1].viewerScale).toFixed()+"";return{c(){span2=Object(internal.w)("span"),span0=Object(internal.w)("span"),t0=Object(internal.ab)(),div=Object(internal.w)("div"),t1=Object(internal.ab)(),span1=Object(internal.w)("span"),t2=Object(internal.ab)(),select_1=Object(internal.w)("select"),option0=Object(internal.w)("option"),t3=Object(internal.db)(t3_value),t4=Object(internal.db)("%"),option1=Object(internal.w)("option"),option1.textContent="---",option2=Object(internal.w)("option"),option2.textContent="Fit width",option3=Object(internal.w)("option"),option3.textContent="Fit height",option4=Object(internal.w)("option"),option4.textContent="50%",option5=Object(internal.w)("option"),option5.textContent="100%",option6=Object(internal.w)("option"),option6.textContent="150%",option7=Object(internal.w)("option"),option7.textContent="200%",option8=Object(internal.w)("option"),option8.textContent="400%",Object(internal.i)(span0,"class","icon svelte-1cm9093"),Object(internal.i)(div,"class","separator svelte-1cm9093"),Object(internal.i)(span1,"class","icon svelte-1cm9093"),option0.__value="default",option0.value=option0.__value,option1.disabled=!0,option1.__value="---",option1.value=option1.__value,option2.__value="width",option2.value=option2.__value,option3.__value="height",option3.value=option3.__value,option4.__value="50",option4.value=option4.__value,option5.__value="100",option5.value=option5.__value,option6.__value="150",option6.value=option6.__value,option7.__value="200",option7.value=option7.__value,option8.__value="400",option8.value=option8.__value,Object(internal.i)(select_1,"class","svelte-1cm9093"),Object(internal.i)(span2,"class","zoom svelte-1cm9093"),Object(internal.gb)(span2,"disabled","image"!=ctx[1].mode)},m(target,anchor){Object(internal.H)(target,span2,anchor),Object(internal.g)(span2,span0),span0.innerHTML=viewer_plus_default.a,Object(internal.g)(span2,t0),Object(internal.g)(span2,div),Object(internal.g)(span2,t1),Object(internal.g)(span2,span1),span1.innerHTML=viewer_minus_default.a,Object(internal.g)(span2,t2),Object(internal.g)(span2,select_1),Object(internal.g)(select_1,option0),Object(internal.g)(option0,t3),Object(internal.g)(option0,t4),Object(internal.g)(select_1,option1),Object(internal.g)(select_1,option2),Object(internal.g)(select_1,option3),Object(internal.g)(select_1,option4),Object(internal.g)(select_1,option5),Object(internal.g)(select_1,option6),Object(internal.g)(select_1,option7),Object(internal.g)(select_1,option8),ctx[5](select_1),mounted||(dispose=[Object(internal.J)(span0,"click",ctx[2]),Object(internal.J)(span1,"click",ctx[3]),Object(internal.J)(select_1,"blur",ctx[4])],mounted=!0)},p(ctx,[dirty]){2&dirty&&t3_value!==(t3_value=(100*ctx[1].viewerScale).toFixed()+"")&&Object(internal.W)(t3,t3_value),2&dirty&&Object(internal.gb)(span2,"disabled","image"!=ctx[1].mode)},i:internal.M,o:internal.M,d(detaching){detaching&&Object(internal.v)(span2),ctx[5](null),mounted=!1,Object(internal.S)(dispose)}}}function Zoom_svelte_instance($$self,$$props,$$invalidate){let $doc,select;function roundBreakpoint(percent,zoomIn){for(let i=zoomIn?0:viewer_document.h.length-1;zoomIn?i<viewer_document.h.length:i>=0;i+=zoomIn?1:-1)if(zoomIn?percent+2<viewer_document.h[i]:percent-2>viewer_document.h[i])return viewer_document.h[i];return viewer_document.h[zoomIn?viewer_document.h.length-1:0]}function scalePercent(percent){viewer_document.b.scale(percent/100)}return Object(internal.o)($$self,viewer_document.b,$$value=>$$invalidate(1,$doc=$$value)),[select,$doc,function(){scalePercent(roundBreakpoint(100*viewer_document.b.scrollzoom.transform.matrix[0],!0))},function(){scalePercent(roundBreakpoint(100*viewer_document.b.scrollzoom.transform.matrix[0],!1))},function(e){const zoom=e.target.value;if("default"!=zoom){if("width"==zoom)viewer_document.b.zoomWidth();else if("height"==zoom)viewer_document.b.zoomHeight();else{const value=parseFloat(zoom);null==value||isNaN(value)||scalePercent(value)}$$invalidate(0,select.value="default",select)}},function($$value){internal.l[$$value?"unshift":"push"](()=>{select=$$value,$$invalidate(0,select)})}]}class Zoom_svelte_Zoom extends internal.b{constructor(options){super(),Object(internal.G)(this,options,Zoom_svelte_instance,Zoom_svelte_create_fragment,internal.T,{})}}var controls_Zoom_svelte=Zoom_svelte_Zoom,assets_fullscreen=__webpack_require__(268),fullscreen_default=__webpack_require__.n(assets_fullscreen);__webpack_require__(269);function FullScreen_svelte_create_else_block(ctx){let span;return{c(){span=Object(internal.w)("span"),Object(internal.i)(span,"class","fullscreen svelte-17hhr1")},m(target,anchor){Object(internal.H)(target,span,anchor),span.innerHTML=fullscreen_default.a},p:internal.M,d(detaching){detaching&&Object(internal.v)(span)}}}function FullScreen_svelte_create_if_block(ctx){let a,span,a_href_value;return{c(){a=Object(internal.w)("a"),span=Object(internal.w)("span"),Object(internal.i)(span,"class","fullscreen svelte-17hhr1"),Object(internal.i)(a,"target","_blank"),Object(internal.i)(a,"href",a_href_value=ctx[0].document.canonicalUrl)},m(target,anchor){Object(internal.H)(target,a,anchor),Object(internal.g)(a,span),span.innerHTML=fullscreen_default.a},p(ctx,dirty){1&dirty&&a_href_value!==(a_href_value=ctx[0].document.canonicalUrl)&&Object(internal.i)(a,"href",a_href_value)},d(detaching){detaching&&Object(internal.v)(a)}}}function FullScreen_svelte_create_fragment(ctx){let if_block_anchor;function select_block_type(ctx,dirty){return ctx[0].loaded?FullScreen_svelte_create_if_block:FullScreen_svelte_create_else_block}let current_block_type=select_block_type(ctx),if_block=current_block_type(ctx);return{c(){if_block.c(),if_block_anchor=Object(internal.x)()},m(target,anchor){if_block.m(target,anchor),Object(internal.H)(target,if_block_anchor,anchor)},p(ctx,[dirty]){current_block_type===(current_block_type=select_block_type(ctx))&&if_block?if_block.p(ctx,dirty):(if_block.d(1),if_block=current_block_type(ctx),if_block&&(if_block.c(),if_block.m(if_block_anchor.parentNode,if_block_anchor)))},i:internal.M,o:internal.M,d(detaching){if_block.d(detaching),detaching&&Object(internal.v)(if_block_anchor)}}}function FullScreen_svelte_instance($$self,$$props,$$invalidate){let $viewer;return Object(internal.o)($$self,viewer.d,$$value=>$$invalidate(0,$viewer=$$value)),[$viewer]}class FullScreen_svelte_FullScreen extends internal.b{constructor(options){super(),Object(internal.G)(this,options,FullScreen_svelte_instance,FullScreen_svelte_create_fragment,internal.T,{})}}var controls_FullScreen_svelte=FullScreen_svelte_FullScreen;__webpack_require__(270);function Footer_svelte_create_if_block(ctx){let div0,viewdropdown,t0,div1,paginator,t1,div2,span,zoom,t2,current;viewdropdown=new ViewDropdown_svelte({}),paginator=new controls_Paginator_svelte({}),zoom=new controls_Zoom_svelte({});let if_block=ctx[0].embed&&ctx[0].showFullscreen&&Footer_svelte_create_if_block_1(ctx);return{c(){div0=Object(internal.w)("div"),Object(internal.r)(viewdropdown.$$.fragment),t0=Object(internal.ab)(),div1=Object(internal.w)("div"),Object(internal.r)(paginator.$$.fragment),t1=Object(internal.ab)(),div2=Object(internal.w)("div"),span=Object(internal.w)("span"),Object(internal.r)(zoom.$$.fragment),t2=Object(internal.ab)(),if_block&&if_block.c(),Object(internal.i)(div0,"class","cell side hide floatleft svelte-izfbi6"),Object(internal.i)(div0,"style",ctx[1]),Object(internal.i)(div1,"class","cell center svelte-izfbi6"),Object(internal.i)(div1,"style",ctx[1]),Object(internal.i)(span,"class","hide ib adjustright svelte-izfbi6"),Object(internal.gb)(span,"hideearly",ctx[0].embed),Object(internal.i)(div2,"class","cell side right floatright svelte-izfbi6"),Object(internal.i)(div2,"style",ctx[1])},m(target,anchor){Object(internal.H)(target,div0,anchor),Object(internal.L)(viewdropdown,div0,null),Object(internal.H)(target,t0,anchor),Object(internal.H)(target,div1,anchor),Object(internal.L)(paginator,div1,null),Object(internal.H)(target,t1,anchor),Object(internal.H)(target,div2,anchor),Object(internal.g)(div2,span),Object(internal.L)(zoom,span,null),Object(internal.g)(div2,t2),if_block&&if_block.m(div2,null),current=!0},p(ctx,dirty){(!current||2&dirty)&&Object(internal.i)(div0,"style",ctx[1]),(!current||2&dirty)&&Object(internal.i)(div1,"style",ctx[1]),1&dirty&&Object(internal.gb)(span,"hideearly",ctx[0].embed),ctx[0].embed&&ctx[0].showFullscreen?if_block?1&dirty&&Object(internal.hb)(if_block,1):(if_block=Footer_svelte_create_if_block_1(ctx),if_block.c(),Object(internal.hb)(if_block,1),if_block.m(div2,null)):if_block&&(Object(internal.E)(),Object(internal.ib)(if_block,1,1,()=>{if_block=null}),Object(internal.n)()),(!current||2&dirty)&&Object(internal.i)(div2,"style",ctx[1])},i(local){current||(Object(internal.hb)(viewdropdown.$$.fragment,local),Object(internal.hb)(paginator.$$.fragment,local),Object(internal.hb)(zoom.$$.fragment,local),Object(internal.hb)(if_block),current=!0)},o(local){Object(internal.ib)(viewdropdown.$$.fragment,local),Object(internal.ib)(paginator.$$.fragment,local),Object(internal.ib)(zoom.$$.fragment,local),Object(internal.ib)(if_block),current=!1},d(detaching){detaching&&Object(internal.v)(div0),Object(internal.t)(viewdropdown),detaching&&Object(internal.v)(t0),detaching&&Object(internal.v)(div1),Object(internal.t)(paginator),detaching&&Object(internal.v)(t1),detaching&&Object(internal.v)(div2),Object(internal.t)(zoom),if_block&&if_block.d()}}}function Footer_svelte_create_if_block_1(ctx){let fullscreen,current;return fullscreen=new controls_FullScreen_svelte({}),{c(){Object(internal.r)(fullscreen.$$.fragment)},m(target,anchor){Object(internal.L)(fullscreen,target,anchor),current=!0},i(local){current||(Object(internal.hb)(fullscreen.$$.fragment,local),current=!0)},o(local){Object(internal.ib)(fullscreen.$$.fragment,local),current=!1},d(detaching){Object(internal.t)(fullscreen,detaching)}}}function Footer_svelte_create_fragment(ctx){let footer,div,current,if_block=!ctx[0].compact&&Footer_svelte_create_if_block(ctx);return{c(){footer=Object(internal.w)("footer"),div=Object(internal.w)("div"),if_block&&if_block.c(),Object(internal.i)(div,"class","vcontent"),Object(internal.i)(footer,"class","vheader svelte-izfbi6"),Object(internal.Z)(footer,"height",ctx[0].footerHeight+"px"),Object(internal.gb)(footer,"disabled",ctx[0].disableControls)},m(target,anchor){Object(internal.H)(target,footer,anchor),Object(internal.g)(footer,div),if_block&&if_block.m(div,null),current=!0},p(ctx,[dirty]){ctx[0].compact?if_block&&(Object(internal.E)(),Object(internal.ib)(if_block,1,1,()=>{if_block=null}),Object(internal.n)()):if_block?(if_block.p(ctx,dirty),1&dirty&&Object(internal.hb)(if_block,1)):(if_block=Footer_svelte_create_if_block(ctx),if_block.c(),Object(internal.hb)(if_block,1),if_block.m(div,null)),(!current||1&dirty)&&Object(internal.Z)(footer,"height",ctx[0].footerHeight+"px"),1&dirty&&Object(internal.gb)(footer,"disabled",ctx[0].disableControls)},i(local){current||(Object(internal.hb)(if_block),current=!0)},o(local){Object(internal.ib)(if_block),current=!1},d(detaching){detaching&&Object(internal.v)(footer),if_block&&if_block.d()}}}function Footer_svelte_instance($$self,$$props,$$invalidate){let style,$layout;return Object(internal.o)($$self,layout.n,$$value=>$$invalidate(0,$layout=$$value)),$$self.$$.update=()=>{1&$$self.$$.dirty&&$$invalidate(1,style=`height: ${$layout.footerHeight}px;`)},[$layout,style]}class Footer_svelte_Footer extends internal.b{constructor(options){super(),Object(internal.G)(this,options,Footer_svelte_instance,Footer_svelte_create_fragment,internal.T,{})}}var viewer_Footer_svelte=Footer_svelte_Footer,NotFound_svelte=__webpack_require__(60),Toasts_svelte=__webpack_require__(157),api_embed=__webpack_require__(113),ConfirmDialog_svelte=__webpack_require__(154),confirmDialog=__webpack_require__(28),viewerEditDialogs=__webpack_require__(59),Modal_svelte=__webpack_require__(127),ErrorModal_svelte=__webpack_require__(156);function Viewer_svelte_create_if_block_13(ctx){let link0,link0_href_value,t0,meta0,t1,meta1,meta1_content_value,t2,meta2,meta2_content_value,t3,meta3,meta3_content_value,t4,title_value,t5,link1,link1_href_value,link1_title_value,t6,t7,meta4,meta4_content_value,show_if=null!=ctx[0].document.description&&ctx[0].document.description.trim().length>0;document.title=title_value=ctx[0].document.title+" - DocumentCloud";let if_block=show_if&&Viewer_svelte_create_if_block_14(ctx);return{c(){link0=Object(internal.w)("link"),t0=Object(internal.ab)(),meta0=Object(internal.w)("meta"),t1=Object(internal.ab)(),meta1=Object(internal.w)("meta"),t2=Object(internal.ab)(),meta2=Object(internal.w)("meta"),t3=Object(internal.ab)(),meta3=Object(internal.w)("meta"),t4=Object(internal.ab)(),t5=Object(internal.ab)(),link1=Object(internal.w)("link"),t6=Object(internal.ab)(),if_block&&if_block.c(),t7=Object(internal.ab)(),meta4=Object(internal.w)("meta"),Object(internal.i)(link0,"rel","canonical"),Object(internal.i)(link0,"href",link0_href_value=ctx[0].document.canonicalUrl),Object(internal.i)(meta0,"property","twitter:card"),Object(internal.i)(meta0,"content","summary_large_image"),Object(internal.i)(meta1,"property","og:url"),Object(internal.i)(meta1,"content",meta1_content_value=ctx[0].document.canonicalUrl),Object(internal.i)(meta2,"property","og:url"),Object(internal.i)(meta2,"content",meta2_content_value=ctx[0].document.canonicalUrl),Object(internal.i)(meta3,"property","og:title"),Object(internal.i)(meta3,"content",meta3_content_value=ctx[0].document.title),Object(internal.i)(link1,"rel","alternate"),Object(internal.i)(link1,"type","application/json+oembed"),Object(internal.i)(link1,"href",link1_href_value=Object(api_embed.a)(ctx[0].document.canonicalUrl)),Object(internal.i)(link1,"title",link1_title_value=ctx[0].document.title),Object(internal.i)(meta4,"property","og:image"),Object(internal.i)(meta4,"content",meta4_content_value=Object(api_viewer.b)(ctx[0].document,0,700,1))},m(target,anchor){Object(internal.H)(target,link0,anchor),Object(internal.H)(target,t0,anchor),Object(internal.H)(target,meta0,anchor),Object(internal.H)(target,t1,anchor),Object(internal.H)(target,meta1,anchor),Object(internal.H)(target,t2,anchor),Object(internal.H)(target,meta2,anchor),Object(internal.H)(target,t3,anchor),Object(internal.H)(target,meta3,anchor),Object(internal.H)(target,t4,anchor),Object(internal.H)(target,t5,anchor),Object(internal.H)(target,link1,anchor),Object(internal.H)(target,t6,anchor),if_block&&if_block.m(target,anchor),Object(internal.H)(target,t7,anchor),Object(internal.H)(target,meta4,anchor)},p(ctx,dirty){1&dirty&&link0_href_value!==(link0_href_value=ctx[0].document.canonicalUrl)&&Object(internal.i)(link0,"href",link0_href_value),1&dirty&&meta1_content_value!==(meta1_content_value=ctx[0].document.canonicalUrl)&&Object(internal.i)(meta1,"content",meta1_content_value),1&dirty&&meta2_content_value!==(meta2_content_value=ctx[0].document.canonicalUrl)&&Object(internal.i)(meta2,"content",meta2_content_value),1&dirty&&meta3_content_value!==(meta3_content_value=ctx[0].document.title)&&Object(internal.i)(meta3,"content",meta3_content_value),1&dirty&&title_value!==(title_value=ctx[0].document.title+" - DocumentCloud")&&(document.title=title_value),1&dirty&&link1_href_value!==(link1_href_value=Object(api_embed.a)(ctx[0].document.canonicalUrl))&&Object(internal.i)(link1,"href",link1_href_value),1&dirty&&link1_title_value!==(link1_title_value=ctx[0].document.title)&&Object(internal.i)(link1,"title",link1_title_value),1&dirty&&(show_if=null!=ctx[0].document.description&&ctx[0].document.description.trim().length>0),show_if?if_block?if_block.p(ctx,dirty):(if_block=Viewer_svelte_create_if_block_14(ctx),if_block.c(),if_block.m(t7.parentNode,t7)):if_block&&(if_block.d(1),if_block=null),1&dirty&&meta4_content_value!==(meta4_content_value=Object(api_viewer.b)(ctx[0].document,0,700,1))&&Object(internal.i)(meta4,"content",meta4_content_value)},d(detaching){detaching&&Object(internal.v)(link0),detaching&&Object(internal.v)(t0),detaching&&Object(internal.v)(meta0),detaching&&Object(internal.v)(t1),detaching&&Object(internal.v)(meta1),detaching&&Object(internal.v)(t2),detaching&&Object(internal.v)(meta2),detaching&&Object(internal.v)(t3),detaching&&Object(internal.v)(meta3),detaching&&Object(internal.v)(t4),detaching&&Object(internal.v)(t5),detaching&&Object(internal.v)(link1),detaching&&Object(internal.v)(t6),if_block&&if_block.d(detaching),detaching&&Object(internal.v)(t7),detaching&&Object(internal.v)(meta4)}}}function Viewer_svelte_create_if_block_14(ctx){let meta,meta_content_value;return{c(){meta=Object(internal.w)("meta"),Object(internal.i)(meta,"property","og:description"),Object(internal.i)(meta,"content",meta_content_value=ctx[0].document.description)},m(target,anchor){Object(internal.H)(target,meta,anchor)},p(ctx,dirty){1&dirty&&meta_content_value!==(meta_content_value=ctx[0].document.description)&&Object(internal.i)(meta,"content",meta_content_value)},d(detaching){detaching&&Object(internal.v)(meta)}}}function Viewer_svelte_create_if_block_12(ctx){let modal,current;return modal=new Modal_svelte.a({props:{component:ctx[3].editSectionsDialog}}),modal.$on("close",layout.k),{c(){Object(internal.r)(modal.$$.fragment)},m(target,anchor){Object(internal.L)(modal,target,anchor),current=!0},p(ctx,dirty){const modal_changes={};8&dirty&&(modal_changes.component=ctx[3].editSectionsDialog),modal.$set(modal_changes)},i(local){current||(Object(internal.hb)(modal.$$.fragment,local),current=!0)},o(local){Object(internal.ib)(modal.$$.fragment,local),current=!1},d(detaching){Object(internal.t)(modal,detaching)}}}function Viewer_svelte_create_if_block_11(ctx){let modal,current;return modal=new Modal_svelte.a({props:{component:ctx[3].dataDialog}}),modal.$on("close",layout.i),{c(){Object(internal.r)(modal.$$.fragment)},m(target,anchor){Object(internal.L)(modal,target,anchor),current=!0},p(ctx,dirty){const modal_changes={};8&dirty&&(modal_changes.component=ctx[3].dataDialog),modal.$set(modal_changes)},i(local){current||(Object(internal.hb)(modal.$$.fragment,local),current=!0)},o(local){Object(internal.ib)(modal.$$.fragment,local),current=!1},d(detaching){Object(internal.t)(modal,detaching)}}}function Viewer_svelte_create_if_block_10(ctx){let modal,current;return modal=new Modal_svelte.a({props:{component:ctx[3].documentInformationDialog}}),modal.$on("close",layout.j),{c(){Object(internal.r)(modal.$$.fragment)},m(target,anchor){Object(internal.L)(modal,target,anchor),current=!0},p(ctx,dirty){const modal_changes={};8&dirty&&(modal_changes.component=ctx[3].documentInformationDialog),modal.$set(modal_changes)},i(local){current||(Object(internal.hb)(modal.$$.fragment,local),current=!0)},o(local){Object(internal.ib)(modal.$$.fragment,local),current=!1},d(detaching){Object(internal.t)(modal,detaching)}}}function Viewer_svelte_create_if_block_9(ctx){let modal,current;return modal=new Modal_svelte.a({props:{component:ctx[3].accessDialog}}),modal.$on("close",layout.h),{c(){Object(internal.r)(modal.$$.fragment)},m(target,anchor){Object(internal.L)(modal,target,anchor),current=!0},p(ctx,dirty){const modal_changes={};8&dirty&&(modal_changes.component=ctx[3].accessDialog),modal.$set(modal_changes)},i(local){current||(Object(internal.hb)(modal.$$.fragment,local),current=!0)},o(local){Object(internal.ib)(modal.$$.fragment,local),current=!1},d(detaching){Object(internal.t)(modal,detaching)}}}function Viewer_svelte_create_if_block_8(ctx){let modal,current;return modal=new Modal_svelte.a({props:{component:ctx[3].embedDialog}}),modal.$on("close",layout.l),{c(){Object(internal.r)(modal.$$.fragment)},m(target,anchor){Object(internal.L)(modal,target,anchor),current=!0},p(ctx,dirty){const modal_changes={};8&dirty&&(modal_changes.component=ctx[3].embedDialog),modal.$set(modal_changes)},i(local){current||(Object(internal.hb)(modal.$$.fragment,local),current=!0)},o(local){Object(internal.ib)(modal.$$.fragment,local),current=!1},d(detaching){Object(internal.t)(modal,detaching)}}}function Viewer_svelte_create_if_block_7(ctx){let modal,current;return modal=new Modal_svelte.a({props:{component:ConfirmDialog_svelte.a}}),modal.$on("close",confirmDialog.b),{c(){Object(internal.r)(modal.$$.fragment)},m(target,anchor){Object(internal.L)(modal,target,anchor),current=!0},p:internal.M,i(local){current||(Object(internal.hb)(modal.$$.fragment,local),current=!0)},o(local){Object(internal.ib)(modal.$$.fragment,local),current=!1},d(detaching){Object(internal.t)(modal,detaching)}}}function Viewer_svelte_create_if_block_6(ctx){let errormodal,current;return errormodal=new ErrorModal_svelte.a({props:{store:ctx[0],refresh:!0}}),{c(){Object(internal.r)(errormodal.$$.fragment)},m(target,anchor){Object(internal.L)(errormodal,target,anchor),current=!0},p(ctx,dirty){const errormodal_changes={};1&dirty&&(errormodal_changes.store=ctx[0]),errormodal.$set(errormodal_changes)},i(local){current||(Object(internal.hb)(errormodal.$$.fragment,local),current=!0)},o(local){Object(internal.ib)(errormodal.$$.fragment,local),current=!1},d(detaching){Object(internal.t)(errormodal,detaching)}}}function Viewer_svelte_create_if_block_5(ctx){let errormodal,current;return errormodal=new ErrorModal_svelte.a({props:{store:ctx[1]}}),{c(){Object(internal.r)(errormodal.$$.fragment)},m(target,anchor){Object(internal.L)(errormodal,target,anchor),current=!0},p(ctx,dirty){const errormodal_changes={};2&dirty&&(errormodal_changes.store=ctx[1]),errormodal.$set(errormodal_changes)},i(local){current||(Object(internal.hb)(errormodal.$$.fragment,local),current=!0)},o(local){Object(internal.ib)(errormodal.$$.fragment,local),current=!1},d(detaching){Object(internal.t)(errormodal,detaching)}}}function Viewer_svelte_create_else_block(ctx){let toasts,t,loader,current;return toasts=new Toasts_svelte.a({}),loader=new Loader_svelte.a({props:{active:ctx[1].loading,$$slots:{default:[Viewer_svelte_create_default_slot]},$$scope:{ctx:ctx}}}),{c(){Object(internal.r)(toasts.$$.fragment),t=Object(internal.ab)(),Object(internal.r)(loader.$$.fragment)},m(target,anchor){Object(internal.L)(toasts,target,anchor),Object(internal.H)(target,t,anchor),Object(internal.L)(loader,target,anchor),current=!0},p(ctx,dirty){const loader_changes={};2&dirty&&(loader_changes.active=ctx[1].loading),80&dirty&&(loader_changes.$$scope={dirty:dirty,ctx:ctx}),loader.$set(loader_changes)},i(local){current||(Object(internal.hb)(toasts.$$.fragment,local),Object(internal.hb)(loader.$$.fragment,local),current=!0)},o(local){Object(internal.ib)(toasts.$$.fragment,local),Object(internal.ib)(loader.$$.fragment,local),current=!1},d(detaching){Object(internal.t)(toasts,detaching),detaching&&Object(internal.v)(t),Object(internal.t)(loader,detaching)}}}function Viewer_svelte_create_if_block_1(ctx){let notfound,current;return notfound=new NotFound_svelte.a({props:{title:"Document not accessible",message:"The document you requested is still processing or you lack\n    permission to access to it"}}),{c(){Object(internal.r)(notfound.$$.fragment)},m(target,anchor){Object(internal.L)(notfound,target,anchor),current=!0},p:internal.M,i(local){current||(Object(internal.hb)(notfound.$$.fragment,local),current=!0)},o(local){Object(internal.ib)(notfound.$$.fragment,local),current=!1},d(detaching){Object(internal.t)(notfound,detaching)}}}function Viewer_svelte_create_if_block(ctx){let notfound,current;return notfound=new NotFound_svelte.a({props:{title:"Document not found",message:"The document you requested either does not exist or you lack\n    permission to access it"}}),{c(){Object(internal.r)(notfound.$$.fragment)},m(target,anchor){Object(internal.L)(notfound,target,anchor),current=!0},p:internal.M,i(local){current||(Object(internal.hb)(notfound.$$.fragment,local),current=!0)},o(local){Object(internal.ib)(notfound.$$.fragment,local),current=!1},d(detaching){Object(internal.t)(notfound,detaching)}}}function Viewer_svelte_create_if_block_4(ctx){let notebody,current;return notebody=new viewer_NoteBody_svelte({}),{c(){Object(internal.r)(notebody.$$.fragment)},m(target,anchor){Object(internal.L)(notebody,target,anchor),current=!0},p:internal.M,i(local){current||(Object(internal.hb)(notebody.$$.fragment,local),current=!0)},o(local){Object(internal.ib)(notebody.$$.fragment,local),current=!1},d(detaching){Object(internal.t)(notebody,detaching)}}}function Viewer_svelte_create_if_block_3(ctx){let simplebody,current;return simplebody=new viewer_SimpleBody_svelte({}),{c(){Object(internal.r)(simplebody.$$.fragment)},m(target,anchor){Object(internal.L)(simplebody,target,anchor),current=!0},p:internal.M,i(local){current||(Object(internal.hb)(simplebody.$$.fragment,local),current=!0)},o(local){Object(internal.ib)(simplebody.$$.fragment,local),current=!1},d(detaching){Object(internal.t)(simplebody,detaching)}}}function Viewer_svelte_create_if_block_2(ctx){let body,current;return body=new viewer_Body_svelte({props:{mode:ctx[4].mode}}),{c(){Object(internal.r)(body.$$.fragment)},m(target,anchor){Object(internal.L)(body,target,anchor),current=!0},p(ctx,dirty){const body_changes={};16&dirty&&(body_changes.mode=ctx[4].mode),body.$set(body_changes)},i(local){current||(Object(internal.hb)(body.$$.fragment,local),current=!0)},o(local){Object(internal.ib)(body.$$.fragment,local),current=!1},d(detaching){Object(internal.t)(body,detaching)}}}function Viewer_svelte_create_default_slot(ctx){let header,t0,current_block_type_index,if_block,t1,sidebar,t2,footer,current;header=new header_Header_svelte({});const if_block_creators=[Viewer_svelte_create_if_block_2,Viewer_svelte_create_if_block_3,Viewer_svelte_create_if_block_4],if_blocks=[];function select_block_type_2(ctx,dirty){return"image"==ctx[4].mode?0:"text"==ctx[4].mode||"search"==ctx[4].mode?1:"notes"==ctx[4].mode?2:-1}return~(current_block_type_index=select_block_type_2(ctx))&&(if_block=if_blocks[current_block_type_index]=if_block_creators[current_block_type_index](ctx)),sidebar=new viewer_Sidebar_svelte({}),footer=new viewer_Footer_svelte({}),{c(){Object(internal.r)(header.$$.fragment),t0=Object(internal.ab)(),if_block&&if_block.c(),t1=Object(internal.ab)(),Object(internal.r)(sidebar.$$.fragment),t2=Object(internal.ab)(),Object(internal.r)(footer.$$.fragment)},m(target,anchor){Object(internal.L)(header,target,anchor),Object(internal.H)(target,t0,anchor),~current_block_type_index&&if_blocks[current_block_type_index].m(target,anchor),Object(internal.H)(target,t1,anchor),Object(internal.L)(sidebar,target,anchor),Object(internal.H)(target,t2,anchor),Object(internal.L)(footer,target,anchor),current=!0},p(ctx,dirty){let previous_block_index=current_block_type_index;current_block_type_index=select_block_type_2(ctx),current_block_type_index===previous_block_index?~current_block_type_index&&if_blocks[current_block_type_index].p(ctx,dirty):(if_block&&(Object(internal.E)(),Object(internal.ib)(if_blocks[previous_block_index],1,1,()=>{if_blocks[previous_block_index]=null}),Object(internal.n)()),~current_block_type_index?(if_block=if_blocks[current_block_type_index],if_block?if_block.p(ctx,dirty):(if_block=if_blocks[current_block_type_index]=if_block_creators[current_block_type_index](ctx),if_block.c()),Object(internal.hb)(if_block,1),if_block.m(t1.parentNode,t1)):if_block=null)},i(local){current||(Object(internal.hb)(header.$$.fragment,local),Object(internal.hb)(if_block),Object(internal.hb)(sidebar.$$.fragment,local),Object(internal.hb)(footer.$$.fragment,local),current=!0)},o(local){Object(internal.ib)(header.$$.fragment,local),Object(internal.ib)(if_block),Object(internal.ib)(sidebar.$$.fragment,local),Object(internal.ib)(footer.$$.fragment,local),current=!1},d(detaching){Object(internal.t)(header,detaching),detaching&&Object(internal.v)(t0),~current_block_type_index&&if_blocks[current_block_type_index].d(detaching),detaching&&Object(internal.v)(t1),Object(internal.t)(sidebar,detaching),detaching&&Object(internal.v)(t2),Object(internal.t)(footer,detaching)}}}function Viewer_svelte_create_fragment(ctx){let if_block0_anchor,t0,current_block_type_index,if_block1,t1,current_block_type_index_1,if_block2,if_block2_anchor,current,if_block0=ctx[0].loaded&&Viewer_svelte_create_if_block_13(ctx);const if_block_creators=[Viewer_svelte_create_if_block_5,Viewer_svelte_create_if_block_6,Viewer_svelte_create_if_block_7,Viewer_svelte_create_if_block_8,Viewer_svelte_create_if_block_9,Viewer_svelte_create_if_block_10,Viewer_svelte_create_if_block_11,Viewer_svelte_create_if_block_12],if_blocks=[];function select_block_type(ctx,dirty){return ctx[1].error?0:ctx[0].error?1:ctx[2].open?2:ctx[1].showEmbedDialog?3:ctx[1].showAccess?4:ctx[1].showInfo?5:ctx[1].showData?6:ctx[1].showEditSections?7:-1}~(current_block_type_index=select_block_type(ctx))&&(if_block1=if_blocks[current_block_type_index]=if_block_creators[current_block_type_index](ctx));const if_block_creators_1=[Viewer_svelte_create_if_block,Viewer_svelte_create_if_block_1,Viewer_svelte_create_else_block],if_blocks_1=[];function select_block_type_1(ctx,dirty){return ctx[0].show404?0:ctx[0].showPending?1:2}return current_block_type_index_1=select_block_type_1(ctx),if_block2=if_blocks_1[current_block_type_index_1]=if_block_creators_1[current_block_type_index_1](ctx),{c(){if_block0&&if_block0.c(),if_block0_anchor=Object(internal.x)(),t0=Object(internal.ab)(),if_block1&&if_block1.c(),t1=Object(internal.ab)(),if_block2.c(),if_block2_anchor=Object(internal.x)()},m(target,anchor){if_block0&&if_block0.m(document.head,null),Object(internal.g)(document.head,if_block0_anchor),Object(internal.H)(target,t0,anchor),~current_block_type_index&&if_blocks[current_block_type_index].m(target,anchor),Object(internal.H)(target,t1,anchor),if_blocks_1[current_block_type_index_1].m(target,anchor),Object(internal.H)(target,if_block2_anchor,anchor),current=!0},p(ctx,[dirty]){ctx[0].loaded?if_block0?if_block0.p(ctx,dirty):(if_block0=Viewer_svelte_create_if_block_13(ctx),if_block0.c(),if_block0.m(if_block0_anchor.parentNode,if_block0_anchor)):if_block0&&(if_block0.d(1),if_block0=null);let previous_block_index=current_block_type_index;current_block_type_index=select_block_type(ctx),current_block_type_index===previous_block_index?~current_block_type_index&&if_blocks[current_block_type_index].p(ctx,dirty):(if_block1&&(Object(internal.E)(),Object(internal.ib)(if_blocks[previous_block_index],1,1,()=>{if_blocks[previous_block_index]=null}),Object(internal.n)()),~current_block_type_index?(if_block1=if_blocks[current_block_type_index],if_block1?if_block1.p(ctx,dirty):(if_block1=if_blocks[current_block_type_index]=if_block_creators[current_block_type_index](ctx),if_block1.c()),Object(internal.hb)(if_block1,1),if_block1.m(t1.parentNode,t1)):if_block1=null);let previous_block_index_1=current_block_type_index_1;current_block_type_index_1=select_block_type_1(ctx),current_block_type_index_1===previous_block_index_1?if_blocks_1[current_block_type_index_1].p(ctx,dirty):(Object(internal.E)(),Object(internal.ib)(if_blocks_1[previous_block_index_1],1,1,()=>{if_blocks_1[previous_block_index_1]=null}),Object(internal.n)(),if_block2=if_blocks_1[current_block_type_index_1],if_block2?if_block2.p(ctx,dirty):(if_block2=if_blocks_1[current_block_type_index_1]=if_block_creators_1[current_block_type_index_1](ctx),if_block2.c()),Object(internal.hb)(if_block2,1),if_block2.m(if_block2_anchor.parentNode,if_block2_anchor))},i(local){current||(Object(internal.hb)(if_block1),Object(internal.hb)(if_block2),current=!0)},o(local){Object(internal.ib)(if_block1),Object(internal.ib)(if_block2),current=!1},d(detaching){if_block0&&if_block0.d(detaching),Object(internal.v)(if_block0_anchor),detaching&&Object(internal.v)(t0),~current_block_type_index&&if_blocks[current_block_type_index].d(detaching),detaching&&Object(internal.v)(t1),if_blocks_1[current_block_type_index_1].d(detaching),detaching&&Object(internal.v)(if_block2_anchor)}}}function Viewer_svelte_instance($$self,$$props,$$invalidate){let $viewer,$layout,$confirmDialog,$viewerEditDialogs,$doc;Object(internal.o)($$self,viewer.d,$$value=>$$invalidate(0,$viewer=$$value)),Object(internal.o)($$self,layout.n,$$value=>$$invalidate(1,$layout=$$value)),Object(internal.o)($$self,confirmDialog.a,$$value=>$$invalidate(2,$confirmDialog=$$value)),Object(internal.o)($$self,viewerEditDialogs.b,$$value=>$$invalidate(3,$viewerEditDialogs=$$value)),Object(internal.o)($$self,viewer_document.b,$$value=>$$invalidate(4,$doc=$$value));const navHandlers=[[/^#document\/p([0-9]+)\/*$/,match=>{const pageNumber=parseInt(match[1]);viewer_document.b.jumpToPage(pageNumber-1)}],[/^#document\/p([0-9]+)\/a([0-9]+)\/*$/,async match=>{const pageNumber=parseInt(match[1]),annotationId=match[2],notes=viewer.d.notes.filter(x=>x.id==annotationId);1==notes.length?await Object(viewer_document.f)(notes[0],!0):await viewer_document.b.jumpToPage(pageNumber-1)}]];return Object(svelte.d)(()=>{const hash=window.location.hash;for(let i=0;i<navHandlers.length;i++){const[regex,handler]=navHandlers[i],match=regex.exec(hash);if(null!=match)return void Object(layout.t)(()=>handler(match))}}),[$viewer,$layout,$confirmDialog,$viewerEditDialogs,$doc]}class Viewer_svelte_Viewer extends internal.b{constructor(options){super(),Object(internal.G)(this,options,Viewer_svelte_instance,Viewer_svelte_create_fragment,internal.T,{})}}__webpack_exports__.default=Viewer_svelte_Viewer},109:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"h",(function(){return zoomBreakpoints})),__webpack_require__.d(__webpack_exports__,"b",(function(){return doc})),__webpack_require__.d(__webpack_exports__,"g",(function(){return toggleSidebar})),__webpack_require__.d(__webpack_exports__,"e",(function(){return restorePosition})),__webpack_require__.d(__webpack_exports__,"a",(function(){return changeMode})),__webpack_require__.d(__webpack_exports__,"f",(function(){return showAnnotation})),__webpack_require__.d(__webpack_exports__,"d",(function(){return initiateSearch})),__webpack_require__.d(__webpack_exports__,"c",(function(){return exitSearch}));var svue__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(4),_viewer__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(18),svelte__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(22),_router_router__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(5),_layout__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(42);const LAYOUT={docMargin:40,pageGap:20,rail:10,pageWidth:700,pageBoundsWhenZoomed:5},zoomBreakpoints=[20,50,75,100,125,150,200,250,300,350,400,500,600,700,800];class Doc extends svue__WEBPACK_IMPORTED_MODULE_0__.a{constructor(){super({data:()=>({router:_router_router__WEBPACK_IMPORTED_MODULE_3__.e,layout:LAYOUT,allDefaultAspects:{image:11/8.5,text:11/8.5},allRawAspects:{image:[],text:[]},allExtraHeights:{image:[],text:[]},viewer:_viewer__WEBPACK_IMPORTED_MODULE_1__.d,texts:[],viewerWidth:0,docHeight:0,viewerScale:1,scrollzoom:null,docElem:null,simpleDocElem:null,visiblePageNumber:1,sidebarExpanded:!1,textJump:null,mode:"image",handledHash:!1,rendered:{},callbacks:{},showPageNoteInserts:!1}),watch:{viewer(viewer){null!=viewer.pageAspects&&this.initAspects()},"router.resolvedRoute"(){const route=_router_router__WEBPACK_IMPORTED_MODULE_3__.e.resolvedRoute;null!=route&&"viewer"!=route.name&&(this.mode="image")}},computed:{defaultAspect:(mode,allDefaultAspects)=>allDefaultAspects[mode],rawAspects:(mode,allRawAspects)=>allRawAspects[mode]||[],extraHeights:(mode,allExtraHeights)=>allExtraHeights[mode]||[],document:viewer=>viewer.document,averageAspect(rawAspects,defaultAspect){let sum=0,count=0;for(let i=0;i<rawAspects.length;i++){const aspect=rawAspects[i];null!=aspect&&(sum+=aspect,count++)}return 0!=count?sum/count:defaultAspect},aspects:(rawAspects,averageAspect)=>rawAspects.map(aspect=>null==aspect?averageAspect:aspect),pages(aspects,extraHeights,layout,document){if(null==document)return[];let x=layout.rail,y=layout.docMargin;const x2=x+layout.pageWidth,pages=[];for(let i=0;i<aspects.length;i++){const aspect=aspects[i],height=layout.pageWidth*(aspect+extraHeights[i]);pages.push({position:[x,y,x2,y+height],aspect:aspect,document:document,pageNumber:i}),y+=height+layout.pageGap}return pages},containerWidth:layout=>2*layout.rail+layout.pageWidth,containerHeight(aspects,extraHeights,layout){let height=2*layout.docMargin;for(let i=0;i<aspects.length;i++){const aspect=aspects[i],extraHeight=extraHeights[i];height+=layout.pageWidth*(aspect+extraHeight),i!=aspects.length-1&&(height+=layout.pageGap)}return height}}})}initAspects(){this.visiblePageNumber=1,this.texts=this.viewer.pageAspects.map(()=>null),this.allExtraHeights={image:this.viewer.pageAspects.map(()=>0),text:this.viewer.pageAspects.map(()=>0)},this.allRawAspects={image:this.viewer.pageAspects.slice(),text:this.viewer.pageAspects.map(()=>null)}}setExtraHeight(pageNumber,extraHeight){doc.allExtraHeights[doc.mode][pageNumber]=extraHeight,doc.allExtraHeights=doc.allExtraHeights}setPageAspect(pageNumber,aspect){doc.allRawAspects[doc.mode][pageNumber]=aspect,doc.allRawAspects=doc.allRawAspects}callbackWhenRendered(pageNumber,callback){this.rendered[pageNumber]?callback():this.callbacks[pageNumber]=(this.callbacks[pageNumber]||[]).concat([callback])}pageRendered(pageNumber){this.rendered[pageNumber]=!0,null!=this.callbacks[pageNumber]&&(this.callbacks[pageNumber].forEach(callback=>callback()),delete this.callbacks[pageNumber])}pageDestroyed(pageNumber){this.rendered[pageNumber]=!1}scale(scale){null!=this.scrollzoom&&(this.scrollzoom.scaleTo(scale),this.updateScrollZoom())}zoomWidth(){null!=this.scrollzoom&&this.scale((this.scrollzoom.bounds.width-20)/this.scrollzoom.containerWidth)}zoomHeight(){if(null!=this.scrollzoom){const page=this.visiblePageNumber-1;this.scale(this.scrollzoom.bounds.height/this.scrollzoom.components[page].height),setTimeout(()=>this.jumpToPage(page),0)}}jumpToPage(pageNumber){return new Promise(resolve=>{if("image"==this.mode){if(null==this.scrollzoom)return resolve();const scrollTop=(this.scrollzoom.components[pageNumber].y-this.layout.pageGap/4)*this.scrollzoom.transform.matrix[0];null!=this.scrollzoom.element?(this.scrollzoom.scrollTo(scrollTop),this.callbackWhenRendered(pageNumber,()=>{resolve()})):resolve()}else"text"==this.mode?(null!=doc.simpleDocElem&&(doc.simpleDocElem.scrollTop=0),document.getElementById(""+(pageNumber+1)).scrollIntoView(),resolve()):resolve()})}jumpToTextJump(){null!=this.textJump&&(this.jumpToPage(this.textJump),this.textJump=null)}updateScrollZoom(){null!=this.scrollzoom&&(this.scrollzoom.resizeContainer(this.scrollzoom.containerWidth,this.containerHeight),this.scrollzoom.domCallback())}}const doc=new Doc;async function toggleSidebar(){await showSidebar(!_layout__WEBPACK_IMPORTED_MODULE_4__.n.showSidebar)}async function showSidebar(show){_layout__WEBPACK_IMPORTED_MODULE_4__.n.showSidebar=show}async function closeSidebarIfFullWidth(){window.innerWidth<_layout__WEBPACK_IMPORTED_MODULE_4__.a&&await showSidebar(!1)}async function restorePosition(pageNumber){await doc.jumpToPage(pageNumber)}async function changeMode(mode){if(await closeSidebarIfFullWidth(),mode==doc.mode)return;const position=doc.visiblePageNumber-1;"text"==mode&&"image"==doc.mode&&(doc.textJump=position),doc.mode=mode,"text"!=mode&&(await Object(svelte__WEBPACK_IMPORTED_MODULE_2__.e)(),restorePosition(position)),window.getSelection&&window.getSelection().removeAllRanges()}async function scrollVisibleAnnotationIntoView(){await Object(svelte__WEBPACK_IMPORTED_MODULE_2__.e)();const elem=_layout__WEBPACK_IMPORTED_MODULE_4__.n.displayedAnnotationElem;var delta;null!=elem&&elem.scrollIntoView&&(elem.scrollIntoView(),delta=-30,null!=doc.docElem?doc.docElem.scrollTop+=delta:null!=doc.simpleDocElem&&(doc.simpleDocElem.scrollTop+=delta))}async function showAnnotation(annotation,scrollIntoView=!1){if(_layout__WEBPACK_IMPORTED_MODULE_4__.n.selectNoteEmbed){const embedDocument=_layout__WEBPACK_IMPORTED_MODULE_4__.n.embedDocument;return Object(_layout__WEBPACK_IMPORTED_MODULE_4__.c)(),_layout__WEBPACK_IMPORTED_MODULE_4__.n.embedDocument=embedDocument,void(_layout__WEBPACK_IMPORTED_MODULE_4__.n.embedNote=annotation)}await closeSidebarIfFullWidth(),Object(_layout__WEBPACK_IMPORTED_MODULE_4__.b)(annotation)&&(await changeMode("image"),_layout__WEBPACK_IMPORTED_MODULE_4__.n.annotateMode="view",annotation.isPageNote||(_layout__WEBPACK_IMPORTED_MODULE_4__.n.displayedAnnotation=annotation),scrollIntoView&&(await restorePosition(annotation.page),annotation.isPageNote||await scrollVisibleAnnotationIntoView()))}let modeBeforeSearch="image";async function initiateSearch(query){await Object(_layout__WEBPACK_IMPORTED_MODULE_4__.w)(query)&&(modeBeforeSearch=doc.mode,await changeMode("search"))}async function exitSearch(){Object(_layout__WEBPACK_IMPORTED_MODULE_4__.e)(),null!=modeBeforeSearch&&"search"!=modeBeforeSearch?await changeMode(modeBeforeSearch):await changeMode("image")}},118:function(module,__webpack_exports__,__webpack_require__){"use strict";var svelte_internal__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),svelte__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(22),_api_viewer__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(43),_emit__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(106);__webpack_require__(125);function create_fragment(ctx){let div;return{c(){div=Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__.w)("div"),Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__.Z)(div,"padding-top",100*ctx[0]+"%"),Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__.i)(div,"class","svelte-uietra"),Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__.gb)(div,"bordered",ctx[1]),Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__.gb)(div,"grayed",ctx[2]),Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__.gb)(div,"crosshair",ctx[3])},m(target,anchor){Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__.H)(target,div,anchor),ctx[9](div)},p(ctx,[dirty]){1&dirty&&Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__.Z)(div,"padding-top",100*ctx[0]+"%"),2&dirty&&Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__.gb)(div,"bordered",ctx[1]),4&dirty&&Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__.gb)(div,"grayed",ctx[2]),8&dirty&&Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__.gb)(div,"crosshair",ctx[3])},i:svelte_internal__WEBPACK_IMPORTED_MODULE_0__.M,o:svelte_internal__WEBPACK_IMPORTED_MODULE_0__.M,d(detaching){detaching&&Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__.v)(div),ctx[9](null)}}}function instance($$self,$$props,$$invalidate){const emit=Object(_emit__WEBPACK_IMPORTED_MODULE_3__.a)({load(){}});let elem,{alt:alt}=$$props,{page:page}=$$props,{width:width}=$$props,{aspect:aspect}=$$props,{bordered:bordered=!0}=$$props,{grayed:grayed=!1}=$$props,{crosshair:crosshair=!1}=$$props,destroyed=!1,imgs=[],loading={},largestLoaded=-1;const IMAGE_WIDTHS="xlarge:2000,large:1000,normal:700,small:180,thumbnail:60".split(",").map(x=>x.split(":")).map(x=>[parseFloat(x[1]),x[0]]).sort((a,b)=>a[0]-b[0]),NORMAL_WIDTH=IMAGE_WIDTHS.map((x,i)=>[x,i]).filter(x=>"normal"==x[0][1])[0];let mounted=!1;function handleLoad(img,i){i<largestLoaded||(elem.appendChild(img),imgs.push([img,i]),-1==largestLoaded?img.style.opacity=1:(img.addEventListener("transitionend",()=>{var keepIndex;keepIndex=i,imgs.filter(x=>x[1]<keepIndex).forEach(x=>{x[0].src="",x[0].remove()})}),setTimeout(()=>img.className="loaded",100)),largestLoaded=i,setTimeout(()=>emit.load(),100))}function loadImg(i){if(i<largestLoaded)return;if(loading[i])return;loading[i]=!0;const src=Object(_api_viewer__WEBPACK_IMPORTED_MODULE_2__.b)(page.document,page.pageNumber,IMAGE_WIDTHS[i][0]),img=new Image;return img.ondragstart=()=>!1,img.onload=()=>{destroyed||handleLoad(img,i)},img.onerror=()=>{i>0&&loadImg(i-1)},img.alt=alt,img.src=src,img}return Object(svelte__WEBPACK_IMPORTED_MODULE_1__.d)(()=>{loadImg(0),$$invalidate(8,mounted=!0)}),Object(svelte__WEBPACK_IMPORTED_MODULE_1__.c)(()=>{destroyed=!0,imgs.forEach(img=>img[0].src="")}),$$self.$$set=$$props=>{"alt"in $$props&&$$invalidate(5,alt=$$props.alt),"page"in $$props&&$$invalidate(6,page=$$props.page),"width"in $$props&&$$invalidate(7,width=$$props.width),"aspect"in $$props&&$$invalidate(0,aspect=$$props.aspect),"bordered"in $$props&&$$invalidate(1,bordered=$$props.bordered),"grayed"in $$props&&$$invalidate(2,grayed=$$props.grayed),"crosshair"in $$props&&$$invalidate(3,crosshair=$$props.crosshair)},$$self.$$.update=()=>{if(384&$$self.$$.dirty&&mounted){const effectiveWidth=width*(window.devicePixelRatio||1);effectiveWidth>NORMAL_WIDTH[0][0]&&loadImg(NORMAL_WIDTH[1]);let loaded=!1;for(let i=0;i<IMAGE_WIDTHS.length;i++)if(effectiveWidth<IMAGE_WIDTHS[i][0]){loadImg(i),loaded=!0;break}loaded||loadImg(IMAGE_WIDTHS.length-1)}},[aspect,bordered,grayed,crosshair,elem,alt,page,width,mounted,function($$value){svelte_internal__WEBPACK_IMPORTED_MODULE_0__.l[$$value?"unshift":"push"](()=>{elem=$$value,$$invalidate(4,elem)})}]}class ProgressiveImage extends svelte_internal__WEBPACK_IMPORTED_MODULE_0__.b{constructor(options){super(),Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__.G)(this,options,instance,create_fragment,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.T,{alt:5,page:6,width:7,aspect:0,bordered:1,grayed:2,crosshair:3})}}__webpack_exports__.a=ProgressiveImage},125:function(module,exports,__webpack_require__){},130:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"d",(function(){return enterRedactMode})),__webpack_require__.d(__webpack_exports__,"a",(function(){return enterAnnotateMode})),__webpack_require__.d(__webpack_exports__,"f",(function(){return enterSelectNoteMode})),__webpack_require__.d(__webpack_exports__,"c",(function(){return enterInfoMode})),__webpack_require__.d(__webpack_exports__,"b",(function(){return enterDataMode})),__webpack_require__.d(__webpack_exports__,"e",(function(){return enterSectionsMode}));var _layout__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(42),_document__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(109);function enterRedactMode(){Object(_document__WEBPACK_IMPORTED_MODULE_1__.a)("image"),_layout__WEBPACK_IMPORTED_MODULE_0__.n.rawRedaction=null,_layout__WEBPACK_IMPORTED_MODULE_0__.n.rawPendingRedactions=[],_layout__WEBPACK_IMPORTED_MODULE_0__.n.action="redact"}function enterAnnotateMode(){Object(_document__WEBPACK_IMPORTED_MODULE_1__.a)("image"),_layout__WEBPACK_IMPORTED_MODULE_0__.n.annotationPending=!1,_layout__WEBPACK_IMPORTED_MODULE_0__.n.rawAnnotation=null,_layout__WEBPACK_IMPORTED_MODULE_0__.n.action="annotate"}function enterSelectNoteMode(){Object(_document__WEBPACK_IMPORTED_MODULE_1__.a)("image"),_layout__WEBPACK_IMPORTED_MODULE_0__.n.action="selectnote"}function enterInfoMode(){_layout__WEBPACK_IMPORTED_MODULE_0__.n.showInfo=!0}function enterDataMode(){_layout__WEBPACK_IMPORTED_MODULE_0__.n.showData=!0}function enterSectionsMode(){_layout__WEBPACK_IMPORTED_MODULE_0__.n.showEditSections=!0}},234:function(module,exports){module.exports='<svg fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 21 19" height="21"><path fill-rule="evenodd" clip-rule="evenodd" d="M20 7.5a7.2 7.2 0 01-11.6 5.6l-5.7 5.7L.9 17l5.8-5.8A7.2 7.2 0 1120 7.5zm-2.4 0a4.7 4.7 0 11-9.4 0 4.7 4.7 0 019.4 0z" fill="#000" fill-opacity=".8"></path></svg>'},235:function(module,exports,__webpack_require__){},236:function(module,exports){module.exports='<svg fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 19 17" height="19"><path fill="#000" fill-opacity=".8" d="M.6.9h17.7v2.9H.6zM.6 7.3h17.7v2.9H.6zM.6 13.6h17.7v2.9H.6z"></path></svg>'},237:function(module,exports,__webpack_require__){},238:function(module,exports){module.exports='<svg fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 15" height="20"><path fill-rule="evenodd" clip-rule="evenodd" d="M.3 7.5l1.2 1.2L7.7 15 9 13.7 2.8 7.5 9 1.3 7.7 0 .3 7.5z" fill="#767676"></path></svg>'},239:function(module,exports,__webpack_require__){},240:function(module,exports,__webpack_require__){},241:function(module,exports,__webpack_require__){},242:function(module,exports){module.exports='<svg fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 45 46"><path fill-rule="evenodd" clip-rule="evenodd" d="M17.6 45h10V28h17.1V18h-17V1H17.6v17H.6v10h17v17z" fill="#fff"></path></svg>'},243:function(module,exports,__webpack_require__){},244:function(module,exports,__webpack_require__){},245:function(module,exports){module.exports='<svg height="16" fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><rect x="3.1" y="22.7" width="13.5" height="8.7" rx="4.4" transform="rotate(-45 3 23)" stroke="#999" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"></rect><rect x="13.3" y="12.5" width="13.5" height="8.7" rx="4.4" transform="rotate(-45 13 12)" stroke="#999" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"></rect><path d="M12 20l8-8" stroke="#999" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"></path></svg>'},246:function(module,exports,__webpack_require__){},247:function(module,exports){module.exports='<svg height="27" fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 27"><path d="M11.2 25.7c-5.45 0-10.03-5.42-10.03-12.32S5.75 1.06 11.21 1.06h23c.36 0 .7.13.97.35L48 12.24c.71.6.71 1.69 0 2.29L35.18 25.35a1.5 1.5 0 01-.97.35h-23z" fill="#F9DF35" stroke="#E2CD41"></path></svg>'},248:function(module,exports){module.exports='<svg height="27" fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 27"><path d="M11.2 25.73c-5.45 0-10.03-5.42-10.03-12.32S5.75 1.1 11.21 1.1h23c.36 0 .7.13.97.36L48 12.27c.71.6.71 1.69 0 2.29L35.18 25.38a1.5 1.5 0 01-.97.35h-23z" fill="#93E48F" stroke="#9AD397"></path></svg>'},249:function(module,exports){module.exports='<svg height="27" fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 26"><path d="M11.2 25.22c-5.45 0-10.03-5.42-10.03-12.32S5.75.58 11.21.58h23c.36 0 .7.12.97.35L48 11.75c.71.6.71 1.7 0 2.3L35.18 24.86a1.5 1.5 0 01-.97.35h-23z" fill="#6BC2F8" stroke="#73BBE7"></path></svg>'},250:function(module,exports,__webpack_require__){},251:function(module,exports,__webpack_require__){},252:function(module,exports,__webpack_require__){},253:function(module,exports,__webpack_require__){},254:function(module,exports,__webpack_require__){},255:function(module,exports,__webpack_require__){},256:function(module,exports,__webpack_require__){},257:function(module,exports,__webpack_require__){},258:function(module,exports){module.exports='<svg height="6" fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 3 3"><circle cx="1.6" cy="1.7" r=".8" fill="#999"></circle></svg>'},259:function(module,exports,__webpack_require__){},260:function(module,exports,__webpack_require__){},261:function(module,exports,__webpack_require__){},262:function(module,exports){module.exports='<svg height="18" fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18"><path d="M15.68 17.74L1.1 10.1a1.05 1.05 0 010-1.86L15.68.58c.7-.36 1.54.14 1.54.93v15.3c0 .8-.84 1.3-1.54.93z" fill="#000" fill-opacity=".53"></path></svg>'},263:function(module,exports){module.exports='<svg width="18" fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18"><path d="M2.32.58L16.9 8.23c.75.4.75 1.47 0 1.86L2.32 17.74c-.7.37-1.54-.14-1.54-.93V1.51c0-.79.84-1.3 1.54-.93z" fill="#000" fill-opacity=".53"></path></svg>'},264:function(module,exports,__webpack_require__){},265:function(module,exports){module.exports='<svg fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 10 10" height="10"><path d="M6 .8H3.6V4H.4v2.4h3.2v3.3H6V6.4h3.3V4H6V.8z" fill="#000" fill-opacity=".6"></path></svg>'},266:function(module,exports){module.exports='<svg fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 10 3" height="3"><path fill="#000" fill-opacity=".6" d="M9.6 0v2.4H.7V0z"></path></svg>'},267:function(module,exports,__webpack_require__){},268:function(module,exports){module.exports='<svg fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 17" height="17"><path fill-rule="evenodd" clip-rule="evenodd" d="M5.95.8H.31v5.64h2.38V3.2h3.26V.8zM15.77 6.44V.8h-5.65V3.2h3.26v3.25h2.39zM10.12 16.26h5.65v-5.64h-2.39v3.26h-3.26v2.38zM.31 10.62v5.64h5.64v-2.38H2.7v-3.26H.31z" fill="#000" fill-opacity=".6"></path></svg>'},269:function(module,exports,__webpack_require__){},270:function(module,exports,__webpack_require__){}}]);